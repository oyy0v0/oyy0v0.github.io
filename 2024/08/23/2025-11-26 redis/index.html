<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>redis | oyy0v0ğŸ˜¼</title><meta name="author" content="oyy0v0"><meta name="copyright" content="oyy0v0"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="çŸ¥è¯†åˆ†äº«">
<meta property="og:type" content="article">
<meta property="og:title" content="redis">
<meta property="og:url" content="https://oyy0v0.top/2024/08/23/2025-11-26%20redis/index.html">
<meta property="og:site_name" content="oyy0v0ğŸ˜¼">
<meta property="og:description" content="çŸ¥è¯†åˆ†äº«">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg">
<meta property="article:published_time" content="2024-08-22T16:40:00.000Z">
<meta property="article:modified_time" content="2025-11-27T23:10:08.487Z">
<meta property="article:author" content="oyy0v0">
<meta property="article:tag" content="-redis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg"><link rel="shortcut icon" href="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/%E7%8C%AB.svg"><link rel="canonical" href="https://oyy0v0.top/2024/08/23/2025-11-26%20redis/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'redis',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-11-28 07:10:08'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4658720_723un29n3vn.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/cat.css"><link rel="stylesheet" href="/css/readPercent.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://www.fomal.cc/static/css/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/7.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">53</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">12</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw icon-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw icon-biaoqian"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw icon-fenlei"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw icon-guanyu"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="oyy0v0ğŸ˜¼"><span class="site-name">oyy0v0ğŸ˜¼</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw icon-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw icon-biaoqian"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw icon-fenlei"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw icon-guanyu"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">redis</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-08-22T16:40:00.000Z" title="å‘è¡¨äº 2024-08-23 00:40:00">2024-08-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-11-27T23:10:08.487Z" title="æ›´æ–°äº 2025-11-28 07:10:08">2025-11-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/">java</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">11.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>42åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="redis"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><h2 id="ä¸€-Redisç®€ä»‹"><a href="#ä¸€-Redisç®€ä»‹" class="headerlink" title="ä¸€.Redisç®€ä»‹"></a>ä¸€.Redisç®€ä»‹</h2><h3 id="NoSQLç®€ä»‹"><a href="#NoSQLç®€ä»‹" class="headerlink" title="NoSQLç®€ä»‹"></a>NoSQLç®€ä»‹</h3><p>â€‹    ç›®å‰å¸‚åœºä¸»æµæ•°æ®å­˜å‚¨éƒ½æ˜¯ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ã€‚æ¯æ¬¡æ“ä½œå…³ç³»å‹æ•°æ®åº“æ—¶éƒ½æ˜¯I/Oæ“ä½œï¼ŒI/Oæ“ä½œæ˜¯ä¸»è¦å½±å“ç¨‹åºæ‰§è¡Œæ€§èƒ½åŸå› ä¹‹ä¸€ï¼Œè¿æ¥æ•°æ®åº“å…³é—­æ•°æ®åº“éƒ½æ˜¯æ¶ˆè€—æ€§èƒ½çš„è¿‡ç¨‹ã€‚å°½é‡å‡å°‘å¯¹æ•°æ®åº“çš„æ“ä½œï¼Œèƒ½å¤Ÿæ˜æ˜¾çš„æå‡ç¨‹åºè¿è¡Œæ•ˆç‡ã€‚</p>
<p>â€‹    é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ï¼Œå¸‚åœºä¸Šå°±å‡ºç°äº†å„ç§NoSQL(Not Only SQL,ä¸ä»…ä»…å¯ä»¥ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“)æ•°æ®åº“ï¼Œå®ƒä»¬çš„å®£ä¼ å£å·ï¼šä¸æ˜¯ä»€ä¹ˆæ ·çš„åœºæ™¯éƒ½å¿…é¡»ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼Œä¸€äº›ç‰¹å®šçš„åœºæ™¯ä½¿ç”¨NoSQLæ•°æ®åº“æ›´å¥½ã€‚</p>
<p>å¸¸è§NoSQLæ•°æ®åº“ï¼š</p>
<p>â€‹    memcached ï¼šé”®å€¼å¯¹ï¼Œå†…å­˜å‹æ•°æ®åº“ï¼Œæ‰€æœ‰æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ã€‚</p>
<p>â€‹    Redis:å’ŒMemcachedç±»ä¼¼ï¼Œè¿˜å…·å¤‡æŒä¹…åŒ–èƒ½åŠ›ã€‚</p>
<p>â€‹    HBaseï¼šä»¥åˆ—ä½œä¸ºå­˜å‚¨ã€‚</p>
<p>â€‹    MongoDBï¼šä»¥Documentåšå­˜å‚¨ã€‚</p>
<h3 id="2-Redisç®€ä»‹"><a href="#2-Redisç®€ä»‹" class="headerlink" title="2.Redisç®€ä»‹"></a>2.<strong>Redisç®€ä»‹</strong></h3><p>â€‹    Redisæ˜¯ä»¥Key-Valueå½¢å¼è¿›è¡Œå­˜å‚¨çš„NoSQLæ•°æ®åº“ã€‚</p>
<p>â€‹    Redisæ˜¯ä½¿ç”¨Cè¯­è¨€è¿›è¡Œç¼–å†™çš„ã€‚</p>
<p>â€‹    å¹³æ—¶æ“ä½œçš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œæ•ˆç‡ç‰¹é«˜ï¼Œè¯»çš„æ•ˆç‡110000/sï¼Œå†™81000/sï¼Œæ‰€ä»¥å¤šæŠŠRediså½“åšç¼“å­˜å·¥å…·ä½¿ç”¨ã€‚</p>
<p>â€‹    Redisä»¥soltï¼ˆæ§½ï¼‰ä½œä¸ºæ•°æ®å­˜å‚¨å•å…ƒï¼Œæ¯ä¸ªæ§½ä¸­å¯ä»¥å­˜å‚¨Nå¤šä¸ªé”®å€¼å¯¹ã€‚Redisä¸­å›ºå®šå…·æœ‰16384ã€‚ç†è®ºä¸Šå¯ä»¥å®ç°ä¸€ä¸ªæ§½æ˜¯ä¸€ä¸ªRedisã€‚æ¯ä¸ªå‘Rediså­˜å‚¨æ•°æ®çš„keyéƒ½ä¼šè¿›è¡Œcrc16ç®—æ³•å¾—å‡ºä¸€ä¸ªå€¼åå¯¹16384å–ä½™å°±æ˜¯è¿™ä¸ªkeyå­˜æ”¾çš„soltä½ç½®ã€‚</p>
<p>â€‹    åŒæ—¶é€šè¿‡Redis Sentinelæä¾›é«˜å¯ç”¨ï¼Œé€šè¿‡Redis Clusteræä¾›è‡ªåŠ¨åˆ†åŒºã€‚</p>
<p><strong>ä¸»æµåŠŸèƒ½å’Œåº”ç”¨</strong></p>
<p>1ã€åˆ†æ‹…MySQLå‹åŠ›ï¼ŒMySQLæ˜¯å­˜å…¥ç¡¬ç›˜ï¼ŒRedisæ˜¯åœ¨å†…å­˜ä¸­ä½¿ç”¨ï¼Œæ—¥å¸¸ä½¿ç”¨ä¸­80%æŸ¥è¯¢ï¼Œ20%å†™å…¥ã€‚</p>
<p>2ã€åˆ†æ‹…æµç¨‹ï¼šæŸ¥æ‰¾çš„æ—¶å€™å…ˆæŸ¥æ‰¾redisï¼Œæ‰¾åˆ°ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰å°±å»mysqlï¼Œmysqlè¿”å›æ•°æ®ï¼Œç„¶åå°±æŠŠmysqlå†™å›redisï¼Œç„¶åä»¥åæ‰¾rediså°±èƒ½æ‰¾åˆ°äº†ã€‚</p>
<p>3ã€æ¯”å¦‚è®¡æ•°å™¨ï¼Œæ’è¡Œæ¦œç­‰æ–¹é¢å°±æ˜æ˜¾ç”¨redisä¼˜äºmysql</p>
<p>4ã€å†…å­˜å­˜å‚¨å’ŒæŒä¹…åŒ– RDBå’ŒAOFï¼Œå¦‚æœæ–­ç”µä¹‹åredisæ”¯æŒå¼‚æ­¥å°†å†…å­˜ä¸­çš„æ•°æ®å†™åˆ°ç¡¬ç›˜ä¸Šï¼Œç„¶åæœ‰ç”µå°±æ¢å¤åˆ°redisï¼Œä¸éº»çƒ¦Mysql</p>
<p>5ã€é«˜å¯ç”¨ç»“æ„ï¼Œå•æœºï¼Œä¸»ä»ï¼Œå“¨å…µï¼Œé›†ç¾¤ã€‚ä¸ºäº†é¿å…redisæŒ‚äº†ï¼ŒæœåŠ¡å‹åŠ›è¿‡å¤§ã€‚</p>
<p>6ã€ç¼“å­˜ç©¿é€ï¼Œå‡»ç©¿ï¼Œé›ªå´©</p>
<p>7ã€åˆ†å¸ƒå¼é”ï¼Œè·¨æœåŠ¡å™¨åŠ é”å°±æ˜¯ç”¨åˆ†å¸ƒå¼é”ã€‚ä¹‹å‰javaçš„é”æ˜¯é’ˆå¯¹JVMçš„ï¼Œ</p>
<p>8ã€é˜Ÿåˆ—listå’Œsetç»“æ„ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å¹³å°ï¼ŒéªŒè¯ç å‘å¸ƒ</p>
<p>9ã€â€¦.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251125114243582.png" alt="image-20251125114243582"></p>
<h2 id="Rediså•æœºç‰ˆå®‰è£…"><a href="#Rediså•æœºç‰ˆå®‰è£…" class="headerlink" title="Rediså•æœºç‰ˆå®‰è£…"></a>Rediså•æœºç‰ˆå®‰è£…</h2><p>â€‹    1.å®‰è£…ä¾èµ–Cè¯­è¨€ä¾èµ–</p>
<p>â€‹    redisä½¿ç”¨Cè¯­è¨€ç¼–å†™ï¼Œæ‰€ä»¥éœ€è¦å®‰è£…Cè¯­è¨€åº“</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install -y gcc-c++ automake autoconf libtool make tcl </span><br></pre></td></tr></table></figure>
<p>â€‹    </p>
<p>â€‹    2.ä¸Šä¼ å¹¶è§£å‹</p>
<p>â€‹    æŠŠredis-5.0.5.tar.gzä¸Šä¼ åˆ°/usr/local/tmpä¸­</p>
<p>â€‹    è§£å‹æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/tmp</span><br><span class="line"></span><br><span class="line"># tar zxf redis-5.0.5.tar.gz</span><br></pre></td></tr></table></figure>
<p>â€‹    3.ç¼–è¯‘å¹¶å®‰è£…</p>
<p>â€‹    è¿›å…¥è§£å‹æ–‡ä»¶å¤¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/tmp/redis-5.0.5/</span><br></pre></td></tr></table></figure>
<p>â€‹    ç¼–è¯‘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># make</span><br></pre></td></tr></table></figure>
<p>â€‹    å®‰è£…    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># make install PREFIX=/usr/local/redis</span><br></pre></td></tr></table></figure>
<p>â€‹    4.å¼€å¯å®ˆæŠ¤è¿›ç¨‹</p>
<p>â€‹    å¤åˆ¶cd /usr/local/tmp/redis-5.0.5/ä¸­redis.confé…ç½®æ–‡ä»¶    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cp redis.conf /usr/local/redis/bin/</span><br></pre></td></tr></table></figure>
<p>â€‹    ä¿®æ”¹é…ç½®æ–‡ä»¶    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/redis/bin/</span><br><span class="line"></span><br><span class="line"># vim redis.conf</span><br></pre></td></tr></table></figure>
<p>â€‹    æŠŠdaemonizeçš„å€¼ç”±noä¿®æ”¹ä¸ºyes</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-01.jpg" alt=""></p>
<p>â€‹    5.ä¿®æ”¹å¤–éƒ¨è®¿é—®</p>
<p>â€‹    åœ¨redis5ä¸­éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶redis.confå…è®¸å¤–éƒ¨è®¿é—®ã€‚éœ€è¦ä¿®æ”¹ä¸¤å¤„ã€‚</p>
<p>â€‹    æ³¨é‡Šæ‰ä¸‹é¢</p>
<p>â€‹    bind 127.0.0.1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#bind 127.0.0.1</span><br></pre></td></tr></table></figure>
<p>â€‹    protected-mode yes æ”¹æˆ no</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-02.jpg" alt=""></p>
<p>â€‹    6.å¯åŠ¨å¹¶æµ‹è¯•</p>
<p>â€‹    å¯åŠ¨redis</p>
<p>â€‹    # ./redis-server redis.conf</p>
<p>â€‹    é‡å¯redis</p>
<p>â€‹    # ./redis-cli shutdown</p>
<p>â€‹    # ./redis-server redis.conf</p>
<p>â€‹    å¯åŠ¨å®¢æˆ·ç«¯å·¥å…·</p>
<p>â€‹    #./redis-cli </p>
<p>â€‹    åœ¨redis5ä¸­å®¢æˆ·ç«¯å·¥å…·å¯¹å‘½ä»¤ä¼šæœ‰æä¾›åŠŸèƒ½ã€‚</p>
<h2 id="Rediså¸¸ç”¨çš„10å¤§ç±»å‹"><a href="#Rediså¸¸ç”¨çš„10å¤§ç±»å‹" class="headerlink" title="Rediså¸¸ç”¨çš„10å¤§ç±»å‹"></a>Rediså¸¸ç”¨çš„10å¤§ç±»å‹</h2><p>â€‹     Redisä¸ä»…ä»…æ”¯æŒç®€å•çš„k/vç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œzsetï¼Œhashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ï¼Œå®ƒè¿˜æ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³master-slaveæ¨¡å¼çš„æ•°æ®å¤‡ä»½ï¼ŒåŒæ ·Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿æŒåœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚</p>
<p>â€‹        Redisæ”¯æŒçš„äº”å¤§æ•°æ®ç±»å‹åŒ…æ‹¬Stringï¼ˆå­—ç¬¦ä¸²  ç”¨æ³•ï¼š é”®  å€¼ï¼‰ï¼ŒHashï¼ˆå“ˆå¸Œ ç±»ä¼¼Javaä¸­çš„ map  ç”¨æ³•ï¼š é”®  é”®å€¼å¯¹ï¼‰ï¼ŒListï¼ˆåˆ—è¡¨  ç”¨æ³•ï¼šé”® é›†åˆ ä¸å¯ä»¥é‡å¤ï¼‰ï¼ŒSetï¼ˆé›†åˆ ç”¨æ³•ï¼šé”® é›†åˆ å¯ä»¥é‡å¤ï¼‰ï¼ŒZsetï¼ˆsorted set æœ‰åºé›†åˆ    ç”¨æ³•ï¼š é”®  å€¼ å€¼ï¼‰</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251125140449390.png" alt="image-20251125140449390" style="zoom:200%;" /></p>
<h4 id="Stringï¼ˆå­—ç¬¦ä¸²ï¼‰"><a href="#Stringï¼ˆå­—ç¬¦ä¸²ï¼‰" class="headerlink" title="Stringï¼ˆå­—ç¬¦ä¸²ï¼‰"></a>Stringï¼ˆå­—ç¬¦ä¸²ï¼‰</h4><p>â€‹    string æ˜¯ redis æœ€åŸºæœ¬çš„ç±»å‹ï¼Œä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚<strong>string ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„</strong>ã€‚<strong>æ„æ€æ˜¯ redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚**</strong>string ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œstring ç±»å‹çš„å€¼æœ€å¤§èƒ½å­˜å‚¨ 512MBã€‚**</p>
<p>åº”ç”¨åœºæ™¯ï¼š  </p>
<p>â€‹    Stringæ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ™®é€šçš„key/valueå­˜å‚¨éƒ½å¯ä»¥å½’ä¸ºæ­¤ç±»ï¼Œvalueå…¶å®ä¸ä»…æ˜¯Stringï¼Œ  </p>
<p>ä¹Ÿå¯ä»¥æ˜¯æ•°å­—ï¼šæ¯”å¦‚æƒ³çŸ¥é“ä»€ä¹ˆæ—¶å€™å°é”ä¸€ä¸ªIPåœ°å€(è®¿é—®è¶…è¿‡å‡ æ¬¡)ã€‚</p>
<p> Listï¼ˆåˆ—è¡¨ï¼‰</p>
<p>â€‹    Redis åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚åº•å±‚æ˜¯åŒç«¯é“¾è¡¨ï¼Œæ¯ä¸ªåˆ—è¡¨æœ€å¤š40äº¿ä¸ªå…ƒç´ ã€‚</p>
<p>åº”ç”¨åœºæ™¯ï¼š  </p>
<pre><code>    Redis listçš„åº”ç”¨åœºæ™¯éå¸¸å¤šï¼Œä¹Ÿæ˜¯Redisæœ€é‡è¦çš„æ•°æ®ç»“æ„ä¹‹ä¸€ã€‚  
</code></pre><p>â€‹        æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®ç°æœ€æ–°æ¶ˆæ¯æ’è¡Œç­‰åŠŸèƒ½ã€‚  </p>
<pre><code>   Listsçš„å¦ä¸€ä¸ªåº”ç”¨å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯ä»¥åˆ©ç”¨Listsçš„PUSHæ“ä½œï¼Œå°†ä»»åŠ¡å­˜åœ¨Listsä¸­ï¼Œç„¶åå·¥ä½œçº¿ç¨‹å†ç”¨POPæ“ä½œå°†ä»»åŠ¡å–å‡ºè¿›è¡Œæ‰§è¡Œã€‚  
</code></pre><h4 id="Hashï¼ˆå“ˆå¸Œï¼‰"><a href="#Hashï¼ˆå“ˆå¸Œï¼‰" class="headerlink" title="Hashï¼ˆå“ˆå¸Œï¼‰"></a>Hashï¼ˆå“ˆå¸Œï¼‰</h4><p>â€‹    Redis hash æ˜¯ä¸€ä¸ªé”®å€¼(key=&gt;value)å¯¹é›†åˆã€‚</p>
<p>â€‹    Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</p>
<p>â€‹    ä½¿ç”¨åœºæ™¯ï¼šå­˜å‚¨ã€è¯»å–ã€ä¿®æ”¹ç”¨æˆ·å±æ€§</p>
<p>â€‹    æˆ‘ä»¬ç®€å•ä¸¾ä¸ªå®ä¾‹æ¥æè¿°ä¸‹Hashçš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦å­˜å‚¨ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡æ•°æ®ï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š    ç”¨æˆ·IDï¼Œä¸ºæŸ¥æ‰¾çš„keyï¼Œ  </p>
<p>â€‹        å­˜å‚¨çš„valueç”¨æˆ·å¯¹è±¡åŒ…å«å§“ånameï¼Œå¹´é¾„ageï¼Œç”Ÿæ—¥birthday ç­‰ä¿¡æ¯ï¼Œ  å¦‚æœç”¨æ™®é€šçš„key/valueç»“æ„æ¥å­˜å‚¨ï¼Œä¸»è¦æœ‰ä»¥ä¸‹2ç§å­˜å‚¨æ–¹å¼ï¼š  </p>
<p>â€‹        ç¬¬ä¸€ç§æ–¹å¼å°†ç”¨æˆ·IDä½œä¸ºæŸ¥æ‰¾key,æŠŠå…¶ä»–ä¿¡æ¯å°è£…æˆä¸€ä¸ªå¯¹è±¡ä»¥åºåˆ—åŒ–çš„æ–¹å¼å­˜å‚¨ï¼Œ  </p>
<p>â€‹           å¦‚ï¼šset u001 â€œæä¸‰,18,20010101â€  </p>
<p>â€‹         è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ï¼Œå¢åŠ äº†åºåˆ—åŒ–/ååºåˆ—åŒ–çš„å¼€é”€ï¼Œå¹¶ä¸”åœ¨éœ€è¦ä¿®æ”¹å…¶ä¸­ä¸€é¡¹ä¿¡æ¯æ—¶ï¼Œéœ€è¦æŠŠæ•´ä¸ªå¯¹è±¡å–å›ï¼Œå¹¶ä¸”ä¿®æ”¹æ“ä½œéœ€è¦å¯¹å¹¶å‘è¿›è¡Œä¿æŠ¤ï¼Œå¼•å…¥CASç­‰å¤æ‚é—®é¢˜ã€‚  </p>
<p>â€‹         ç¬¬äºŒç§æ–¹æ³•æ˜¯è¿™ä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡æœ‰å¤šå°‘æˆå‘˜å°±å­˜æˆå¤šå°‘ä¸ªkey-valueå¯¹å„¿ï¼Œç”¨ç”¨æˆ·ID+å¯¹åº”å±æ€§çš„åç§°ä½œä¸ºå”¯ä¸€æ ‡è¯†æ¥å–å¾—å¯¹åº”å±æ€§çš„å€¼ï¼Œ  </p>
<p>â€‹           å¦‚ï¼šmset user:001:name â€œæä¸‰ â€œuser:001:age18 user:001:birthday â€œ20010101â€  è™½ç„¶çœå»äº†åºåˆ—åŒ–å¼€é”€å’Œå¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯ç”¨æˆ·IDä¸ºé‡å¤å­˜å‚¨ï¼Œå¦‚æœå­˜åœ¨å¤§é‡è¿™æ ·çš„æ•°æ®ï¼Œå†…å­˜æµªè´¹è¿˜æ˜¯éå¸¸å¯è§‚çš„ã€‚  </p>
<p>â€‹        é‚£ä¹ˆRedisæä¾›çš„Hashå¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<h4 id="Setï¼ˆé›†åˆï¼‰"><a href="#Setï¼ˆé›†åˆï¼‰" class="headerlink" title="Setï¼ˆé›†åˆï¼‰"></a>Setï¼ˆé›†åˆï¼‰</h4><p>â€‹    <strong>Redisçš„Setæ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚</strong></p>
<p>â€‹    ä½¿ç”¨åœºæ™¯ï¼š1.å…±åŒå¥½å‹ã€äºŒåº¦å¥½å‹ </p>
<p>â€‹               2. åˆ©ç”¨å”¯ä¸€æ€§ï¼Œå¯ä»¥ç»Ÿè®¡è®¿é—®ç½‘ç«™çš„æ‰€æœ‰ç‹¬ç«‹ IP </p>
<pre><code>  Redis setå¯¹å¤–æä¾›çš„åŠŸèƒ½ä¸listç±»ä¼¼æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„åŠŸèƒ½ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºsetæ˜¯å¯ä»¥è‡ªåŠ¨æ’é‡çš„ï¼Œå½“ä½ éœ€è¦å­˜å‚¨ä¸€ä¸ªåˆ—è¡¨æ•°æ®ï¼Œåˆä¸å¸Œæœ›å‡ºç°é‡å¤æ•°æ®æ—¶ï¼Œsetæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå¹¶ä¸”setæä¾›äº†åˆ¤æ–­æŸä¸ªæˆå‘˜æ˜¯å¦åœ¨ä¸€ä¸ªseté›†åˆå†…çš„é‡è¦æ¥å£ï¼Œè¿™ä¸ªä¹Ÿæ˜¯listæ‰€ä¸èƒ½æä¾›çš„ã€‚  

  æ¯”å¦‚åœ¨å¾®åšåº”ç”¨ä¸­ï¼Œæ¯ä¸ªäººçš„å¥½å‹å­˜åœ¨ä¸€ä¸ªé›†åˆï¼ˆsetï¼‰ä¸­ï¼Œè¿™æ ·æ±‚ä¸¤ä¸ªäººçš„å…±åŒå¥½å‹çš„æ“ä½œï¼Œå¯èƒ½å°±åªéœ€è¦ç”¨æ±‚äº¤é›†å‘½ä»¤å³å¯ã€‚  
</code></pre><p>â€‹        Redisè¿˜ä¸ºé›†åˆæä¾›äº†æ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰æ“ä½œï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®  </p>
<pre><code>  å®ç°æ–¹å¼ï¼š  
</code></pre><p>â€‹        set çš„å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ª valueæ°¸è¿œä¸ºnullçš„HashMapï¼Œå®é™…å°±æ˜¯é€šè¿‡è®¡ç®—hashçš„æ–¹å¼æ¥å¿«é€Ÿæ’é‡çš„ï¼Œè¿™ä¹Ÿæ˜¯setèƒ½æä¾›åˆ¤æ–­ä¸€ä¸ªæˆå‘˜æ˜¯å¦åœ¨é›†åˆå†…çš„åŸå› ã€‚ </p>
<h4 id="zset-sorted-setï¼šæœ‰åºé›†åˆ"><a href="#zset-sorted-setï¼šæœ‰åºé›†åˆ" class="headerlink" title="zset(sorted setï¼šæœ‰åºé›†åˆ)"></a>zset(sorted setï¼šæœ‰åºé›†åˆ)</h4><pre><code> Redis zset å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚zsetçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚
</code></pre><p>ä½¿ç”¨åœºæ™¯ï¼š1.å¸¦æœ‰æƒé‡çš„å…ƒç´ ï¼Œæ¯”å¦‚ä¸€ä¸ªæ¸¸æˆçš„ç”¨æˆ·å¾—åˆ†æ’è¡Œæ¦œ </p>
<p>â€‹           2.æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä¸€èˆ¬ç”¨åˆ°çš„åœºæ™¯ä¸ç®—å¤ªå¤š</p>
<h4 id="GEOåœ°ç†ç©ºé—´"><a href="#GEOåœ°ç†ç©ºé—´" class="headerlink" title="GEOåœ°ç†ç©ºé—´"></a>GEOåœ°ç†ç©ºé—´</h4><p>ä¸»è¦ç”¨äºå­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œå¹¶å¯¹å­˜å‚¨çš„ä¿¡æ¯è¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬æ·»åŠ åœ°ç†ä½ç½®åæ ‡ï¼Œè·å–åœ°ç†ä½ç½®åæ ‡ï¼Œè®¡ç®—ä¸¤ä¸ªä½ç½®çš„è·ç¦»ï¼Œæ ¹æ®ç”¨æˆ·ç»™å®šçš„ç»çº¬åº¦åæ ‡æ¥è·å–æŒ‡å®šèŒƒå›´å†…çš„åœ°ç†ä½ç½®é›†åˆã€‚</p>
<h4 id="HyperLogLog-åŸºæ•°ç»Ÿè®¡"><a href="#HyperLogLog-åŸºæ•°ç»Ÿè®¡" class="headerlink" title="HyperLogLog åŸºæ•°ç»Ÿè®¡"></a>HyperLogLog åŸºæ•°ç»Ÿè®¡</h4><p>åœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€è¦çš„ç©ºé—´æ€»æ˜¯å›ºå®šå¹¶ä¸”å¾ˆå°ã€‚</p>
<p>æ¯”å¦‚ç»Ÿè®¡ä»Šå¤©å¤©çŒ«è®¿é—®çš„è®¿é—®é‡ï¼Œè¿™æ—¶å€™å°±éœ€è¦è®°å½•ä¸é‡å¤çš„å…ƒç´ çš„ç»Ÿè®¡ã€‚åŸºæ•°ç»Ÿè®¡å°±æ˜¯ä¸é‡å¤å…ƒç´ çš„ç»Ÿè®¡</p>
<h4 id="bitmap-ä½å›¾"><a href="#bitmap-ä½å›¾" class="headerlink" title="bitmap ä½å›¾"></a>bitmap ä½å›¾</h4><p>é‡Œé¢ç”±è®¸è®¸å¤šå¤šçš„å°æ ¼å­ç»„æˆï¼Œé‡Œé¢åªèƒ½æ”¾1 å’Œ 0 ï¼Œç”¨æ¥åˆ¤æ–­Y/Nï¼Œç”¨æ¥æ¯æ—¥ç­¾åˆ°ï¼Œç‚¹èµï¼Œç‚¹å‡»ç‡åˆ†æï¼Œæ˜¯å¦ç‚¹èµç­‰åŠŸèƒ½ã€‚</p>
<h4 id="bitfield-ä½åŸŸ"><a href="#bitfield-ä½åŸŸ" class="headerlink" title="bitfield ä½åŸŸ"></a>bitfield ä½åŸŸ</h4><p>ç±»ä¼¼äºä¿®æ”¹javaçš„å­—èŠ‚ç ï¼Œå®æ—¶æ•°æ®çš„æ›¿æ¢å’ŒæŸ¥æ‰¾ã€‚</p>
<h4 id="streamæµ"><a href="#streamæµ" class="headerlink" title="streamæµ"></a>streamæµ</h4><p>redisç‰ˆçš„mqï¼Œæ¶ˆæ¯é˜Ÿåˆ—</p>
<h2 id="Rediså¸¸ç”¨å‘½ä»¤"><a href="#Rediså¸¸ç”¨å‘½ä»¤" class="headerlink" title="Rediså¸¸ç”¨å‘½ä»¤"></a>Rediså¸¸ç”¨å‘½ä»¤</h2><p>Rediså‘½ä»¤ç›¸å…³æ‰‹å†Œæœ‰å¾ˆå¤šï¼Œä¸‹é¢ä¸ºå…¶ä¸­æ¯”è¾ƒå¥½ç”¨çš„ä¸¤ä¸ª</p>
<p>  1.<a target="_blank" rel="noopener" href="https://www.redis.net.cn/order/">https://www.redis.net.cn/order/</a></p>
<p>  2.<a target="_blank" rel="noopener" href="http://doc.redisfans.com/text-in">http://doc.redisfans.com/text-in</a></p>
<h4 id="1-Keyæ“ä½œ"><a href="#1-Keyæ“ä½œ" class="headerlink" title="1. Keyæ“ä½œ"></a>1. Keyæ“ä½œ</h4><p>keys * æŸ¥æ‰¾æ‰€æœ‰key</p>
<p>type [key name] è¿”å›ç±»å‹</p>
<p>unlink key éé˜»å¡åˆ é™¤ï¼ŒçœŸæ­£çš„åˆ é™¤åœ¨åé¢å¼‚æ­¥åˆ é™¤</p>
<p>move key dbindex[0-15] redisé»˜è®¤16ä¸ªåº“ï¼Œç„¶åå°†å½“å‰æ•°æ®åº“çš„keyç§»åŠ¨åˆ°ç»™å®šçš„æ•°æ®åº“dbä¸­</p>
<p>select dbindex åˆ‡æ¢æ•°æ®åº“ã€0-15ã€‘</p>
<p>dbsize æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„æ•°é‡</p>
<p>flushdb æ¸…ç©ºå½“å‰åº“</p>
<p>flushall é€šæ€å…¨éƒ¨åº“</p>
<h5 id="1-1-exists"><a href="#1-1-exists" class="headerlink" title="1.1  exists"></a>1.1  exists</h5><p>â€‹    åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ã€‚</p>
<p>â€‹    è¯­æ³•ï¼šexists keyåç§°</p>
<p>â€‹    è¿”å›å€¼ï¼šå­˜åœ¨è¿”å›æ•°å­—ï¼Œä¸å­˜åœ¨è¿”å›0</p>
<h5 id="1-2-expire"><a href="#1-2-expire" class="headerlink" title="1.2 expire"></a>1.2 expire</h5><p>â€‹    è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ç§’</p>
<p>â€‹    è¯­æ³•ï¼šexpire key ç§’æ•°</p>
<p>â€‹    è¿”å›å€¼ï¼šæˆåŠŸè¿”å›1ï¼Œå¤±è´¥è¿”å›0</p>
<h5 id="1-3-ttl"><a href="#1-3-ttl" class="headerlink" title="1.3 ttl"></a>1.3 ttl</h5><p>â€‹    æŸ¥çœ‹keyçš„å‰©ä½™è¿‡æœŸæ—¶é—´</p>
<p>â€‹    è¯­æ³•ï¼šttl key</p>
<p>â€‹    è¿”å›å€¼ï¼šè¿”å›å‰©ä½™æ—¶é—´ï¼Œå¦‚æœä¸è¿‡æœŸè¿”å›-1  -2è¡¨ç¤ºå·²ç»è¿‡æœŸ</p>
<h5 id="1-4-del"><a href="#1-4-del" class="headerlink" title="1.4 del"></a>1.4 del</h5><p>â€‹    æ ¹æ®keyåˆ é™¤é”®å€¼å¯¹ã€‚</p>
<p>â€‹    è¯­æ³•ï¼šdel key</p>
<p>â€‹    è¿”å›å€¼ï¼šè¢«åˆ é™¤keyçš„æ•°é‡</p>
<h4 id="2-å­—ç¬¦ä¸²å€¼-String"><a href="#2-å­—ç¬¦ä¸²å€¼-String" class="headerlink" title="2. å­—ç¬¦ä¸²å€¼(String)"></a>2. <strong>å­—ç¬¦ä¸²å€¼(String)</strong></h4><p><strong>set å’Œ get</strong></p>
<p>ä»»ä½•ä¸€ä¸ªvalueå€¼æœ€å¤§ä¸€ä¸ª512M</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251125174128969.png" alt="image-20251125174128969"></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">set k1 v1 nx  å¦‚æœä¸å­˜åœ¨k1å°±åˆ›å»ºk1</span><br><span class="line">set k1 v1 xx å¦‚æœå­˜åœ¨å°±è¦†ç›–åˆ›å»º</span><br><span class="line">set k1 v1 get å…ˆè·å–è€çš„k1çš„å€¼è¿”å›ï¼Œå¹¶ä¸”æŠŠk1çš„å€¼èµ‹å€¼ä¸ºv1</span><br><span class="line">set k1 v1 ex 10 è®¾ç½®10ç§’è¿‡æœŸæ—¶é—´</span><br><span class="line">ttl k1 æŸ¥çœ‹è¿‡æœŸæ—¶é—´</span><br><span class="line">set k1 v1 px 3000 è®¾ç½®3000æ¯«ç§’</span><br><span class="line">ä½†æ˜¯å¦‚æœåŒä¸€ä¸ªkeyä¿®æ”¹æ²¡æœ‰é…ç½®è¿‡æœŸæ—¶é—´ï¼Œé‚£ä¹ˆä¿®æ”¹è¦†ç›–çš„æ—¶å€™ä¼šå˜æˆæ°¸ä¹…ä¸è¿‡æœŸï¼Œä½†æ˜¯ç°åœ¨åªæƒ³ä¿®æ”¹å€¼ï¼Œæ—¶é—´ä¸è¦†ç›–</span><br><span class="line">set k1 v1 keepttl</span><br></pre></td></tr></table></figure>
<p><strong>åŒæ—¶è®¾ç½®/è·å–å¤šä¸ªé”®å€¼</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mset k1 v1 k2 v2 k3 v3</span><br><span class="line">mget k1 k2 k3</span><br><span class="line">msetnx k1 v1 k4 v4 ä¸€åŠæˆåŠŸä¸€åŠä¸æˆåŠŸçš„è¯é‚£å°±æ˜¯ä¸æˆåŠŸï¼Œæ˜¯ä¸€ä¸ªæ•´ä½“</span><br><span class="line">msetnx k5 v5 k6 v6</span><br></pre></td></tr></table></figure>
<p><strong>è·å–æŒ‡å®šåŒºé—´èŒƒå›´å†…çš„å€¼</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set k1 abcd1234</span><br><span class="line">getrange k1 0 -1 è·å–éƒ¨åˆ†value</span><br><span class="line">getrange k1 0 3</span><br><span class="line">setrange k1 1 xxyy  é‚£ä¹ˆå°±å˜æˆäº† axxyy234</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ•°å€¼å¢å‡</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set k1 100</span><br><span class="line">incr k1 ç±»ä¼¼äºi++</span><br><span class="line">incrby k1 3 ç±»ä¼¼äºi+3</span><br><span class="line">decr k1 i--</span><br><span class="line">decrby k1 3</span><br></pre></td></tr></table></figure>
<p><strong>è·å–å­—ç¬¦ä¸²é•¿åº¦</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set k1 abcd</span><br><span class="line">strlen k1   é•¿åº¦ä¸º4</span><br><span class="line">append k1 xxxx</span><br></pre></td></tr></table></figure>
<p><strong>åˆ†å¸ƒå¼é”</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setnx key value</span><br><span class="line">setex(set with expire)é”®ç§’å€¼/setnx(set if not exist)</span><br></pre></td></tr></table></figure>
<p>ä»€ä¹ˆå«åˆ†å¸ƒå¼é”ï¼Œä¸‰ä¸ªå¾®æœåŠ¡ï¼ŒåŒæ—¶äº‰æŠ¢ä¸€ä¸ªèµ„æºï¼Œä»¥å‰æ˜¯syncã€lock,unlockè¿™äº›æ˜¯jvmçš„ï¼Œæ‰¾ä¸€ä¸ªredisï¼Œç„¶åæ‰¾ä¸€ä¸ªèŠ‚ç‚¹Keyï¼Œç°åœ¨å¦‚æœä¸€ä¸ªå¾®æœåŠ¡éœ€è¦æ‹¿èµ„æºï¼Œéœ€è¦å…ˆå»redisä¸Šï¼Œsetnx lock uuidï¼Œé‚£ä¹ˆé”®é”æˆåŠŸï¼Œç„¶åæ‰§è¡Œå®Œdel lockï¼Œç›¸å½“äºlockå’Œunlockã€‚zookeeperä¹Ÿèƒ½åªä¸è¿‡é‚£ä¸ªæ˜¯å»ºnodeã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251125225724221.png" alt="image-20251125225724221"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set k1 v1 </span><br><span class="line">expire k1 10</span><br><span class="line">è¿™ä¸¤ä¸ªæ˜¯åˆ†å¼€çš„ä¸æ˜¯åŸå­æ“ä½œ</span><br><span class="line">setex k1 10 v11</span><br><span class="line">setnx k1 10 v11 </span><br><span class="line">è¿™æ ·å°±æ˜¯åŸå­æ“ä½œäº†</span><br></pre></td></tr></table></figure>
<p><strong>getset</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getset k1 haha å°±æ˜¯å…ˆgetå†set</span><br></pre></td></tr></table></figure>
<h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><p>æ¯”å¦‚æŠ–éŸ³æ— é™ç‚¹èµæŸä¸ªè§†é¢‘æˆ–å•†å“ï¼Œç‚¹ä¸€ä¸‹åŠ ä¸€æ¬¡</p>
<p>æ˜¯å¦å–œæ¬¢çš„æ–‡ç«  ç”¨incre</p>
<h4 id="3-å“ˆå¸Œè¡¨-Hash"><a href="#3-å“ˆå¸Œè¡¨-Hash" class="headerlink" title="3 å“ˆå¸Œè¡¨(Hash)"></a><strong>3 å“ˆå¸Œè¡¨(Hash)</strong></h4><p>â€‹    Hashç±»å‹çš„å€¼ä¸­åŒ…å«å¤šç»„field valueã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-03.jpg" alt=""></p>
<p>KVæ¨¡å¼ä¸å˜ï¼ŒVæ˜¯ä¸€ä¸ªé”®å€¼å¯¹</p>
<p><strong>hset / hget / hmset / hmget / hgetall / hdel</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hset user: 001 id 11 name z3 age 25 æ”¾äº†ä¸ªuser:001 ç„¶åvalue æ˜¯ id 11ç­‰çš„KVé”®å€¼å¯¹</span><br><span class="line">hget user:001 id</span><br><span class="line">hget user:001 name</span><br><span class="line">hmset user:001 id 12 name li4 age 26</span><br><span class="line">hmget user:001 id name age åŠ äº†ä¸ªmå°±æ˜¯å¤šä¸ªå–</span><br><span class="line">hgetall user:001</span><br><span class="line">hdel user:001 age</span><br></pre></td></tr></table></figure>
<p><strong>hlen</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hlen user:001</span><br></pre></td></tr></table></figure>
<p><strong>hexists key åœ¨keyé‡Œé¢çš„æŸä¸ªå€¼çš„key</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexists user:001 name æ˜¯å¦æœ‰nameè¿™ä¸ªå­—æ®µ</span><br></pre></td></tr></table></figure>
<p><strong>hkeys / hvals</strong> å•ç‹¬ç½—åˆ—keys å’Œ vals</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hkeys user:001</span><br><span class="line">hvals user:001</span><br></pre></td></tr></table></figure>
<p><strong>hincrby / hincrbyfloat</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hset user:001 age 25 score 99.5</span><br><span class="line">hincrby user:001 age 1</span><br><span class="line">hincrby user:001 age 2</span><br><span class="line">hincrbyfloat user:001 score 0.5</span><br></pre></td></tr></table></figure>
<p><strong>hsetnx å€¼ä¸å­˜åœ¨èµ‹å€¼ï¼Œå­˜åœ¨å°±æ— æ•ˆ</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hsetnx user:001 email 123@123.com</span><br></pre></td></tr></table></figure>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251126112928804.png" alt="image-20251126112928804"></p>
<p>æ—©æœŸçš„ä¸­å°å‚è®¾è®¡</p>
<h4 id="4-åˆ—è¡¨ï¼ˆListï¼‰"><a href="#4-åˆ—è¡¨ï¼ˆListï¼‰" class="headerlink" title="4. åˆ—è¡¨ï¼ˆListï¼‰"></a>4. <strong>åˆ—è¡¨ï¼ˆListï¼‰</strong></h4><p>å•keyå¤švalueï¼Œåº•å±‚æ˜¯åŒç«¯é“¾è¡¨ï¼Œå®¹é‡40å¤šäº¿ï¼Œä¸»è¦åŠŸèƒ½æœ‰pushå’Œpopç­‰ã€‚</p>
<p>å¯¹ä¸¤ç«¯çš„æ“ä½œæ€§èƒ½é«˜ï¼Œé€šè¿‡ç´¢å¼•ä¸‹æ ‡çš„æ“ä½œä¸­é—´çš„èŠ‚ç‚¹æ€§èƒ½ä¼šè¾ƒå·®ã€‚</p>
<p><strong>lpush/rpush/lrange</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lpush list1 1 2 3 4 5</span><br><span class="line">rpush list2 11 22 33 44 55</span><br><span class="line">type list1</span><br><span class="line">lrange list1 0 -1  5 4 3 2 1 </span><br><span class="line">lrange list2 0 -1  11 22 33 44 55</span><br><span class="line">ä½†æ˜¯æ²¡æœ‰rrange</span><br></pre></td></tr></table></figure>
<p><strong>lpop/rpop</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lrange list1 0 -1   5 4 3 2 1</span><br><span class="line">lpop list1 </span><br><span class="line">lrange list1 0 -1   4 3 2 1</span><br><span class="line">rpop kust1</span><br><span class="line">lrange list1 0 -1  4 3 2</span><br></pre></td></tr></table></figure>
<p><strong>lindex æŒ‰ç…§ç´¢å¼•ä¸‹æ ‡è·å¾—å…ƒç´  ä»ä¸Šåˆ°ä¸‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lindex list1 0   4</span><br><span class="line">lindex list1 1   3</span><br></pre></td></tr></table></figure>
<p><strong>llen  è·å–åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°</strong></p>
<p><strong>lrem key æ•°å­—N ç»™å®šå€¼v1   è§£é‡Šï¼ˆåˆ é™¤Nä¸ªå€¼ç­‰äºv1çš„å…ƒç´ ï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">listé‡Œé¢æ˜¯å…è®¸æœ‰é‡å¤å…ƒç´ çš„ï¼Œå¦‚æœè¦å»é‡</span><br><span class="line">lrem list1 2 v1    åˆ é™¤list1é‡Œé¢2ä¸ªv1å€¼</span><br></pre></td></tr></table></figure>
<p><strong>ltrim key å¼€å§‹index ç»“æŸ index  è§£é‡Š æˆªå–æŒ‡å®šèŒƒå›´çš„å€¼åå†èµ‹å€¼ç»™key</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lrange list1 0 -1  5 4 3 3 2 2 2 1</span><br><span class="line">ltrim list1 4 7  </span><br><span class="line">lrange list1 0 -1  2 2 2 1</span><br></pre></td></tr></table></figure>
<p><strong>rpoplpush åŸåˆ—è¡¨  ç›®æ ‡åˆ—è¡¨</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251126000050478.png" alt="image-20251126000050478"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpoplpush list2 list3  ä»list2é™¤äº†14</span><br><span class="line">lrange list3 0 -1 ç„¶å14 1 2 3 4 </span><br></pre></td></tr></table></figure>
<p>æ¶ˆæ¯é˜Ÿåˆ—äº†å¯ä»¥å½“åš</p>
<p><strong>lset key index value</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lset list1 1 mysql åœ¨listä¸‹æ ‡1è®¾mysql</span><br></pre></td></tr></table></figure>
<p><strong>linset key before/after å·²æœ‰å€¼ æ’å…¥çš„æ–°å€¼</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linsert list1 before mysql java  åœ¨mysqlå‰é¢åŠ </span><br></pre></td></tr></table></figure>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<p>å¾®ä¿¡å…¬ä¼—å·è®¢é˜…æ–‡ç« </p>
<p>1ã€ä½œè€…å‘å¸ƒäº†æ–‡ç« 11å’Œ22</p>
<p>2ã€å…³æ³¨äº†ä»–ä»¬çš„æ–‡ç« è£…è¿›listï¼Œlpush likearticle 11 22</p>
<p>3ã€æŸ¥çœ‹è‡ªå·±è®¢é˜…çš„æ–‡ç«  lrange likearticle </p>
<h4 id="5-é›†åˆ-Set"><a href="#5-é›†åˆ-Set" class="headerlink" title="5 é›†åˆ(Set)"></a>5 <strong>é›†åˆ(Set)</strong></h4><p>setå’Œjavaä¸­é›†åˆhashsetä¸€æ ·ã€‚å•å€¼ï¼Œå¤švalueï¼Œæ— é‡å¤</p>
<p><strong>sadd key menber</strong> <strong>/ smembers key</strong> <strong>/ sismember key member</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sadd set1 1 1 1 2 2 2 3 4 5 è¿™è‡ªåŠ¨å»é‡ï¼ŒåªåŠ äº†5ä¸ªå…ƒç´ </span><br><span class="line">smembers set1    æŸ¥çœ‹set1ä¸­æ‰€æœ‰å…ƒç´ </span><br><span class="line">sismember set1 x æŸ¥çœ‹set1æ˜¯å¦å­˜åœ¨ x</span><br></pre></td></tr></table></figure>
<p><strong>srem set1 åˆ é™¤å…ƒç´ </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">srem set1 1</span><br></pre></td></tr></table></figure>
<p><strong>scard set1</strong> ç»Ÿè®¡å…ƒç´ ä¸ªæ•°</p>
<p><strong>srandmember key [æ•°å­—] ä»é›†åˆä¸­éšæœºå±•ç°è®¾ç½®çš„æ•°å­—ä¸ªæ•°å…ƒç´ ï¼Œå…ƒç´ ä¸åˆ é™¤</strong></p>
<p><strong>spop key [æ•°å­—] ä»é›†åˆä¸­éšæœºå¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå‡ºä¸€ä¸ªåˆ ä¸€ä¸ª</strong></p>
<p><strong>smove key1 key2 ã€key1é‡Œçš„valueã€‘åœ¨key1é‡Œå·²å­˜åœ¨çš„æŸä¸ªå€¼èµ‹ç»™key2</strong></p>
<p><strong>é›†åˆè¿ç®— å·®å¹¶äº¤</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sadd set1 a b c 1 2</span><br><span class="line">sadd set2 1 2 3 a x</span><br><span class="line">sdiff set1 set2 //åªå±äºa ä¸å±äº b çš„ </span><br><span class="line">sunion set1 set2 //ä¸¤ä¸ªé›†åˆåˆå¹¶</span><br><span class="line">sinter set1 set2 //ä¸¤ä¸ªé›†åˆäº¤é›†</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>sintercard</strong></p>
<p>redis7æ–°å‘½ä»¤ï¼Œä»–ä¸è¿”å›ç»“æœé›†ï¼Œåªè¿”å›ç»“æœçš„åŸºæ•°ã€‚è¿”å›ç”±æ‰€æœ‰ç»™å®šé›†åˆçš„äº¤é›†äº§ç”Ÿçš„é›†åˆçš„åŸºæ•°</p>
<p>äº¤é›†çš„ä¸ªæ•°å…¶å®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sintercard 2 set1 set2  æ±‚2ä¸ªkey åˆ†åˆ«æ˜¯set1å’Œset2ï¼Œç„¶åæ±‚å»é‡åçš„äº¤é›†ä¸ªæ•°</span><br><span class="line">sintercard 2 set1 set2 limit 4 è¿”å›äº¤é›†ä¸ªæ•°æœ€å¤šè¿”å›4å¦åˆ™å°±è¿”å›åŸæ¥ä¸ªæ•°</span><br></pre></td></tr></table></figure>
<p><strong>åº”ç”¨åœºæ™¯ï¼šä½ å¯èƒ½è®¤è¯†çš„äººï¼Œç¤¾äº¤ï¼Œæ¨èç­‰</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251126124708446.png" alt="image-20251126124708446"></p>
<h4 id="6-æœ‰åºé›†åˆ-zset"><a href="#6-æœ‰åºé›†åˆ-zset" class="headerlink" title="6 æœ‰åºé›†åˆ zset"></a>6 æœ‰åºé›†åˆ zset</h4><p>åœ¨setåŸºç¡€ä¹‹ä¸Šï¼Œæ¯ä¸ªvalå€¼å‰åŠ ä¸€ä¸ªscoreåˆ†æ•°å€¼,æ’è¡Œæ¦œç”¨è¿™ä¸ªæ•°æ®ç»“æ„å¾ˆæ–¹ä¾¿çš„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251126125637560.png" alt="image-20251126125637560"></p>
<p><strong>zadd /  zrange / zrevrange / zrangebyscore </strong> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">zadd zset1 60 v1 70 v2 80 v3 90 v4 100 v5</span><br><span class="line">zrange zset1 0 -1 æ˜¾ç¤ºæ‰€æœ‰value</span><br><span class="line">zrange zset1 0 -1 withscores å¸¦ç€scoreæ˜¾ç¤ºvalue</span><br><span class="line">zrevrange zets1 0 -1 withscores åè½¬ä¹Ÿå°±æ˜¯å€’åºè¾“å‡º</span><br><span class="line">zrangebyscore zset1 60 90 åŒ…å«60åˆ°90çš„scoreçš„æ’åº</span><br><span class="line">zrangebyscore zset1 (60 90 withscores ä¸åŒ…å«60 åŒ…å«90 çš„æ’åº</span><br><span class="line">zrangebyscore zset1 (60 90 withscores limit 0 1 ä¸åŒ…å«60åŒ…å«90ç„¶åæ˜¾ç¤ºä»ç¬¬0ä¸ªå¼€å§‹ç„¶åæ˜¾ç¤º1ä¸ª</span><br></pre></td></tr></table></figure>
<p><strong>zscore / zcard / zrem / zincrby / zcount / zmpop</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">zscore zset1 v1 è·å–å…ƒç´ çš„åˆ†æ•°</span><br><span class="line">zcard zset1 è·å–zset1çš„å…ƒç´ </span><br><span class="line">zrem zset1 v5 åˆ é™¤å…ƒç´ </span><br><span class="line">zincrby zset1 3 v1 ç»™v1åŠ ä¸‰åˆ†</span><br><span class="line">zcount zset1 60 100 60åˆ†åˆ°100åˆ†æœ‰å¤šå°‘ä¸ªå…ƒç´ </span><br><span class="line">zmpop 1 zset1 min count 1 å¼¹å‡ºzseté‡Œé¢1ä¸ªå…ƒç´ ç„¶åå¼¹å‡ºæœ€å°çš„ä¸€ä¸ª ç»“æœå›è¿”å› zset1 v1 60</span><br></pre></td></tr></table></figure>
<p><strong>zrank / zrevrank</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zrank zset1 v2    0  è·å¾—zset1çš„v2çš„ä¸‹æ ‡å€¼ zrankæ˜¯0    æ­£åºçš„0</span><br><span class="line">zrevrank zset1 v2 3  è·å¾—zset1çš„v2çš„ä¸‹æ ‡å€¼ zrevrankæ˜¯3 å€’åºçš„3</span><br></pre></td></tr></table></figure>
<p><strong>åº”ç”¨åœºæ™¯ </strong></p>
<p>çƒ­é”€çš„å•†å“ï¼Œçƒ­é”€çš„ä¸»æ’­æ‰“èµ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251126194035618.png" alt="image-20251126194035618"></p>
<h4 id="7-ä½å›¾-bitmap"><a href="#7-ä½å›¾-bitmap" class="headerlink" title="7 ä½å›¾ bitmap"></a>7 ä½å›¾ bitmap</h4><p>ç”± 0 å’Œ 1 è¡¨ç°çš„äºŒè¿›åˆ¶çš„ bit æ•°ç»„</p>
<p>é’‰é’‰æ‰“å¡ä¸Šä¸‹ç­ï¼Œç”µå½±ã€å¹¿å‘Šæ˜¯å¦è¢«ç‚¹å‡»æ’­æ”¾è¿‡ï¼Œç”¨æˆ·æ˜¯å¦ç™»é™†è¿‡ï¼Œç­¾åˆ°ç»Ÿè®¡</p>
<p>ä¸€ä¸ªå­—èŠ‚ï¼ˆä¸€ä¸ªbyteï¼‰ 8ä½ï¼Œ<strong>åº•å±‚æ˜¯ä¸ªStringç±»å‹çš„æ•°ç»„</strong>ï¼Œæ¯ä¸ªäºŒè¿›åˆ¶ä½å¯¹åº”ä¸€ä¸ªç´¢å¼•ã€‚</p>
<p>Bitmapæ”¯æŒçš„æœ€å¤§ä½æ•°æ˜¯2 çš„32æ¬¡æ–¹ä½ï¼Œç”¨512Må†…å­˜èƒ½å­˜å‚¨40å¤šäº¿æ•°æ®</p>
<p><strong>setbit / getbit  </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setbit k1 1 1</span><br><span class="line">setbit k1 7 1</span><br><span class="line">get k1 è¿™æ—¶å€™æ˜¯A å› ä¸ºå®é™…ä¸Šbitmapå…¶å®æ˜¯Stringç„¶åè¿™ä¸ªå¯¹åº”çš„Ascllç å°±æ˜¯A</span><br><span class="line">getbit k1 0 </span><br></pre></td></tr></table></figure>
<p><strong>strlen </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strlen k1 è¿™æ—¶å€™è®¡ç®—çš„æ˜¯å­—èŠ‚ä¸ºå•ä½ï¼Œä¸æ»¡ä¸€ä¸ªå­—èŠ‚ç®—ä¸€ä¸ªå­—èŠ‚</span><br></pre></td></tr></table></figure>
<p><strong>bitcount</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bitcount k1 è®°å½•1çš„ä¸ªæ•°</span><br></pre></td></tr></table></figure>
<p><strong>bitop</strong></p>
<p>ç»Ÿè®¡è¿ç»­2å¤©ç­¾åˆ°ç”¨æˆ·ï¼Œåšä¸ªidå’Œä½ç½®çš„æ˜ å°„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hset uid:map 0 uid1 ç”¨æˆ·è¡¨</span><br><span class="line">hset uid:map 1 uid2</span><br><span class="line">ç„¶ååšæ˜ å°„è¡¨</span><br><span class="line">setbit 20230101 0 1 ç™»å½•è¡¨</span><br><span class="line">setbit 20230101 1 1</span><br><span class="line">setbit 20230101 2 1</span><br><span class="line">setbit 20230102 0 1</span><br><span class="line">setbit 20230102 1 1</span><br><span class="line">ç°åœ¨ç»Ÿè®¡è¿ç»­ä¸¤å¤©éƒ½ç™»å½•çš„ç”¨æˆ·</span><br><span class="line">bit and/or/xor/notä¸æˆ–é</span><br><span class="line">bitop and k3 20230101 20230102 æŠŠ20230101å’Œ20230102ä¸¤å¤©éƒ½ç™»å½•çš„äººæ•°æ”¾å…¥k3</span><br><span class="line">bitcount k3 ç„¶åå°±çŸ¥é“è¿ç»­ç™»å½•ä¸¤å¤©çš„äººæ•°äº†</span><br></pre></td></tr></table></figure>
<h4 id="8-åŸºæ•°ç»Ÿè®¡-hyperloglog"><a href="#8-åŸºæ•°ç»Ÿè®¡-hyperloglog" class="headerlink" title="8 åŸºæ•°ç»Ÿè®¡ hyperloglog"></a>8 åŸºæ•°ç»Ÿè®¡ hyperloglog</h4><p><strong>åº•å±‚æ˜¯string</strong></p>
<p>ç»Ÿè®¡æŸä¸ªç½‘ç«™çš„uvï¼Œç»Ÿè®¡æŸä¸ªæ–‡ç« è¢«é˜…è¯»çš„uv</p>
<p>uvå°±æ˜¯ç‹¬ç«‹è®¿å®¢ï¼Œä¸€èˆ¬è®¤ä¸ºæ˜¯ipï¼Œunion visterï¼ŒåŒä¸€ä¸ªipå°±æ˜¯åŒä¸€ä¸ªå®¢æˆ·</p>
<p>è¿˜æœ‰ç”¨æˆ·æœç´¢ç½‘ç«™å…³é”®è¯çš„æ•°é‡ï¼Œç»Ÿè®¡ç”¨æˆ·æ¯å¤©æœç´¢ä¸åŒè¯æ¡ä¸ªæ•°</p>
<p>åœ¨redisï¼Œæ¯ä¸ªhyperloglogå¥åªéœ€è¦èŠ±è´¹ 12kbå†…å­˜ï¼Œå°±å¯ä»¥å­˜å‚¨2çš„64æ¬¡æ–¹ä¸ªä¸åŒçš„å…ƒç´ çš„åŸºæ•°ã€‚32æ¬¡æ–¹å°±40äº¿äº†ã€‚</p>
<p><strong>pfadd / pfcount / pfmerge</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pfadd hll01 1 3 4 5 7 9 åœ¨hll01åŠ å…ƒç´  1 3 4 5 7 9</span><br><span class="line">pfadd hll02 2 4 4 6 8 9 åœ¨hll02åŠ å…ƒç´  2 4 6 8 9</span><br><span class="line">pfmerge distResult hll01 hll02 æŠŠä¸¤ä¸ªkeyçš„å…ƒç´ åŠ å…¥distResultè¿™ä¸ªkeyé‡Œé¢</span><br><span class="line">pfcount disResult è®¡ç®—disResulté‡Œé¢çš„å…ƒç´  1 2 3 4 5 6 7 8 9 ä¸€å…±9ä¸ªå…ƒç´  </span><br></pre></td></tr></table></figure>
<h4 id="9-åœ°ç†ç©ºé—´-GEO"><a href="#9-åœ°ç†ç©ºé—´-GEO" class="headerlink" title="9 åœ°ç†ç©ºé—´ GEO"></a>9 åœ°ç†ç©ºé—´ GEO</h4><p>åœ°çƒä¸Šçš„åœ°ç†ä½ç½®æ˜¯äºŒç»´çš„ç»çº¬åº¦è¡¨ç¤ºï¼Œç„¶åç¡®å®šä¸€ä¸ªç»çº¬åº¦å°±å¯ä»¥ç¡®å®šä½ç½®ç»åº¦(-180,180] , ç»´åº¦ï¼ˆ-90,90]ï¼Œä½†æ˜¯å¦‚æœè¦å®ç°æ‰¾é™„è¿‘çš„äººï¼Œå¦‚æœç”¨äºŒç»´åæ ‡ï¼Œè¯¯å·®ä¼šå¾ˆå¤§ï¼Œå¹¶ä¸”èŒƒå›´æŸ¥æ‰¾ä¼šå¾ˆæ…¢ã€‚</p>
<p>æ ¸å¿ƒæ€æƒ³å°±æ˜¯å°†çƒä½“è½¬æ¢ä¸ºå¹³é¢ï¼Œå¹³é¢è½¬æ¢ä¸ºä¸€ä¸ªç‚¹ã€‚</p>
<p>ä¸»è¦åˆ†ä¸‰æ­¥ï¼Œå°†ä¸‰ç»´çš„åœ°çƒè½¬å˜ä¸ºäºŒç»´çš„åæ ‡ï¼ŒäºŒç»´å˜ä¸€ç»´ï¼Œæœ€åå°†ä¸€ç»´ç‚¹è½¬æ¢äºŒè¿›åˆ¶base32ç¼–ç </p>
<p><strong>åº•å±‚æ˜¯zset </strong></p>
<p><strong>geoadd æ·»åŠ ç»åº¦ç»´åº¦åæ ‡</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">geoadd [key] [ç»åº¦] [ç»´åº¦] [ä½ç½®åç§°] å…·ä½“çš„ç»çº¬åº¦ç™¾åº¦è·å–</span><br><span class="line">zrange city 0 -1 </span><br><span class="line">å¦‚æœä¸­æ–‡ä¹±ç å…ˆquit ç„¶å</span><br><span class="line">redis-cli -a [å¯†ç ] - - raw è¿™æ ·å¯åŠ¨å®¢æˆ·ç«¯å°±èƒ½é¿å…ä¸­æ–‡ä¹±ç </span><br></pre></td></tr></table></figure>
<p><strong>geopos è¿”å›ç»çº¬åº¦</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geopos city å¤©å®‰é—¨ æ•…å®« é•¿åŸ ç„¶åå°±ä¼šè¿”å›è¿™ä¸‰ä¸ªåœ°ç‚¹çš„ç»çº¬åº¦</span><br></pre></td></tr></table></figure>
<p><strong>grohash è¿”å›åæ ‡çš„hashè¡¨ç¤º</strong></p>
<p>å°æ•°ç‚¹åé¢å¾ˆå¤šä½ï¼Œæ‰€ä»¥åœ¨å†™ç¨‹åºçš„æ—¶å€™éå¸¸ä¸å¥½è¡¨ç¤ºï¼Œæ‰€ä»¥ç”¨ä¸ªæ˜ å°„è¡¨ç¤ºå¯¹åº”çš„ç»çº¬åº¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geohash city å¤©å®‰é—¨ æ•…å®« é•¿åŸ  ç„¶åç»çº¬åº¦å°±å˜æˆå­—ç¬¦ä¸²äº†</span><br></pre></td></tr></table></figure>
<p><strong>geodis ä¸¤ä¸ªä½ç½®çš„è·ç¦»</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">geodis city å¤©å®‰é—¨ é•¿åŸ km åé¢çš„å•ä½å¯ä»¥æ›´æ¢ï¼Œè¿”å›è·ç¦»</span><br></pre></td></tr></table></figure>
<p><strong>georaduis ä»¥åŠå¾„ä¸ºä¸­å¿ƒæŸ¥æ‰¾é™„è¿‘çš„xxx</strong></p>
<p>è¿™é‡Œè¿”å›çš„æ˜¯ä¸ä¸­å¿ƒçš„è·ç¦»ä¸è¶…è¿‡ç»™å®šæœ€å¤§è·ç¦»çš„æ‰€æœ‰ä½ç½®å…ƒç´ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">georadius city [è‡ªå·±çš„ç»åº¦] [è‡ªå·±çš„ç»´åº¦] 10 km withdis withcoord count 10 withhash desc </span><br><span class="line"></span><br><span class="line">GEORADIUS city 116.4 39.9 10 km WITHDIST WITHCOORD COUNT 10 WITHHASH DESC</span><br><span class="line">1) 1) &quot;å¤©æ´¥&quot;        åŸå¸‚</span><br><span class="line">   2) &quot;9.8765&quot;      è·ç¦»çš„è·ç¦»</span><br><span class="line">   3) 1) &quot;117.2000&quot; å¤©æ´¥çš„ç»åº¦</span><br><span class="line">      2) &quot;39.1000&quot;  å¤©æ´¥çš„ç»´åº¦</span><br><span class="line">   4) &quot;4018921763923247&quot; å¤©æ´¥çš„geohashå€¼</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127123133054.png" alt="image-20251127123133054"></p>
<p><strong>georadiusbymember è·Ÿä¸Šé¢ç±»ä¼¼ï¼Œä½†æ˜¯è¿™ä¸ªä¸éœ€è¦çŸ¥é“ç»çº¬åº¦ï¼Œåªè¦çŸ¥é“åœ°ç‚¹åç§°å³å¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GEORADIUSBYMEMBER city &quot;åŒ—äº¬&quot; 200 km 10 km WITHDIST WITHCOORD COUNT 10 WITHHASH DESC</span><br></pre></td></tr></table></figure>
<h4 id="10-redis-æµ-stream"><a href="#10-redis-æµ-stream" class="headerlink" title="10 redis æµ stream"></a>10 redis æµ stream</h4><p>redisçš„streamå°±æ˜¯redisç‰ˆæœ¬çš„MQï¼Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚</p>
<p>MQ æœ‰å¾ˆå¤š kafka RabbitMQ rocketmq</p>
<p>redisæ¶ˆæ¯é˜Ÿåˆ—æœ‰2ä¸ªæ–¹æ¡ˆï¼Œç”¨Listå®ç° lpushrpop å¦‚æœæ¶ˆæ¯é˜Ÿåˆ—åŠå…¶ç®€å•ç”¨rediså°±èƒ½è§£å†³</p>
<p>é€šå¸¸ç”¨ä½œå¼‚æ­¥é˜Ÿåˆ—ï¼Œé€šä¿¡è¿™å—ï¼Œç‚¹å¯¹ç‚¹ã€‚ä½†æ˜¯ä¸€å¯¹å¤šåŠ›ä¸ä»å¿ƒ</p>
<p>ç„¶åå°±æœ‰pubå’Œsub</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127133211608.png" alt="image-20251127133211608"></p>
<p>ä½†æ˜¯æ¶ˆæ¯æ— æ³•æŒä¹…åŒ–ï¼Œç½‘ç»œæ–­å¼€ã€redisæ–­å¼€ï¼Œæ¶ˆæ¯å°±ä¼šä¸¢å¼ƒï¼Œä¹Ÿæ²¡æœ‰ackæœºåˆ¶æ¥ä¿è¯æ•°æ®çš„å¯é æ€§ã€‚</p>
<p>åŸºäºæ­¤ä¸Šé¢è¿™äº›ç—›ç‚¹ï¼Œæ–°å¢äº†Streamå¸Œæœ›èƒ½è§£å†³è¿™äº›é—®é¢˜</p>
<p>æ‰€ä»¥streamæµå°±æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶ + é˜»å¡é˜Ÿåˆ—</p>
<p><strong>steamæµæ”¯æŒæ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¶ˆæ¯æŒä¹…åŒ–ï¼Œæ”¯æŒè‡ªåŠ¨ç”Ÿæˆå…¨å±€å”¯ä¸€IDï¼Œæ”¯æŒackç¡®è®¤æ¶ˆæ¯çš„æ¨¡å¼ï¼Œæ”¯æŒæ¶ˆè´¹ç»„æ¨¡å¼ï¼Œè®©æ¶ˆæ¯é˜Ÿåˆ—æ›´åŠ å¯é å’Œç¨³å®š</strong></p>
<p><strong>streamçš„ç»“æ„</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127133542574.png" alt="image-20251127133542574"></p>
<p>1ã€message content æ¶ˆæ¯å†…å®¹</p>
<p>2ã€æ¶ˆè´¹ç»„ åŒä¸€ä¸ªæ¶ˆè´¹ç»„æœ‰å¤šä¸ªæ¶ˆè´¹è€…</p>
<p>3ã€last_delivered_id æ¸¸æ ‡ï¼Œæ¯ä¸ªæ¶ˆè´¹ç»„æœ‰ä¸ªæ¸¸æ ‡ï¼Œä»»ä½•ä¸€ä¸ªæ¶ˆè´¹è€…è¯»å–äº†æ¶ˆæ¯ä¼šä½¿æ¸¸æ ‡å¾€åç§»åŠ¨</p>
<p>4ã€consumer åœ¨æ¶ˆè´¹ç»„ä¸­çš„æ¶ˆè´¹è€…</p>
<p>5ã€pending_ids æ¶ˆè´¹è€…ä¼šæœ‰ä¸ªçŠ¶æ€å˜é‡ï¼Œè®°å½•å½“å‰æ¶ˆè´¹ä½†æ˜¯æ²¡ackçš„æ¶ˆæ¯çš„idï¼Œå¦‚æœå®¢æˆ·ç«¯æ²¡æœ‰ackï¼Œè¿™ä¸ªæ¶ˆæ¯idä¼šè¶Šæ¥è¶Šå¤šï¼Œä¸€æ—¦ackæ‰ä¼šå‡å°‘ã€‚</p>
<p><strong>å‘½ä»¤</strong></p>
<p><strong>xadd æ·»åŠ æ¶ˆæ¯åˆ°é˜Ÿåˆ—æœ«å°¾</strong></p>
<p>æ¶ˆæ¯idå¿…é¡»æ¯”ä¸Šä¸€ä¸ªidå¤§ï¼Œé»˜è®¤ç”¨æ˜Ÿå·è¡¨ç¤ºè‡ªåŠ¨ç”Ÿæˆidï¼Œç±»ä¼¼äºè‡ªå¢ä¸»é”®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xadd mystream * id 11 cname z3</span><br><span class="line">xadd mystream * id 12 cname l4</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127134603362.png" alt="image-20251127134603362"></p>
<p><strong>xrange </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xrange mystream - + æŠŠæ¶ˆæ¯é˜Ÿåˆ—ä»å°åˆ°å¤§è¿”å›</span><br><span class="line">xrange mystream - + count 1 ä»å°åˆ°å¤§è¿”å›1æ¡</span><br></pre></td></tr></table></figure>
<p><strong>xrevrange</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrevrange mystream + 1 æ„æ€æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ä»å¤§åˆ°å°å€’åºè¿”å›</span><br></pre></td></tr></table></figure>
<p><strong>xdel </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xdel mystream [æ—¶é—´] æ˜¯æŒ‰ç…§idåˆ ä¹Ÿå°±æ˜¯ä¸»é”®åˆ </span><br></pre></td></tr></table></figure>
<p><strong>xlen</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slen mystream è¿”å›æ¶ˆæ¯ä¸ªæ•°ä¹Ÿå°±æ˜¯keyçš„ä¸ªæ•°</span><br></pre></td></tr></table></figure>
<p><strong>strim</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xtrim mystream maxlen 2 ä¹Ÿå°±æ˜¯æŒ‰ç…§æœ€å¤§é•¿åº¦ æˆªå–2æ¡ä¿¡æ¯å¦‚æœæœ‰å››æ¡ä¿¡æ¯ï¼Œé‚£ä¹ˆåªä¼šå‰©ä¸‹ä¸‹é¢ä¸¤æ¡</span><br><span class="line">xtrim mystream minid [æ—¶é—´æˆ³] æ¯”è¿™ä¸ªæ—¶é—´æˆ³å°çš„éƒ½ä¼šè¢«åˆ ï¼Œè¿™é‡Œçš„å°æ˜¯å…ˆå…¥é˜Ÿçš„è€Œä¸æ˜¯æ•°å€¼ä¸Šçš„å°</span><br></pre></td></tr></table></figure>
<p><strong>xread</strong></p>
<p>blockæ²¡å†™éé˜»å¡ï¼Œå¦åˆ™æ˜¯é˜»å¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xadd mystream * k2 v2</span><br><span class="line">xadd mystream * k3 v3</span><br><span class="line">xadd mystream * k4 v4</span><br><span class="line">xadd mystream * k5 v5</span><br><span class="line">xread count 2 streams mystream $ è¯»å–2æ¡æ¯”æœ€ååŠ å…¥çš„è¿˜åçš„ä¿¡æ¯ è¿”å›nil</span><br><span class="line">xread count 2 streams mystream 0- 0  æˆ–è€…å†™000 è¯»å–2æ¡æ¯”æœ€æ—©åŠ å…¥çš„åé¢çš„ä¸¤æ¡ä¿¡æ¯åŒ…æ‹¬æœ€æ—©åŠ å…¥çš„ä¿¡æ¯</span><br><span class="line">xread count1 block 0 streams mystream &amp; </span><br><span class="line">æ— é™ç­‰å¾…block 0 ä¹Ÿå¯ä»¥å†™block 5000 æœ€å¤š5ç§’çš„æ„æ€ï¼Œç„¶åæ–°å¼€ä¸€ä¸ªå®¢æˆ·ç«¯åŠ æ¶ˆæ¯ï¼Œç„¶åè¿™è¾¹å°±ä¼šè¿”å›</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127154423422.png" alt="image-20251127154423422"></p>
<p><strong>æ¶ˆè´¹ç»„çš„ç›¸å…³æŒ‡ä»¤</strong></p>
<p>é¦–å…ˆ$ è¡¨ç¤ºä»Streamå°¾éƒ¨å¼€å§‹æ¶ˆè´¹</p>
<p>0è¡¨ç¤ºä»Streamå¤´éƒ¨å¼€å§‹æ¶ˆè´¹</p>
<p>åˆ›å»ºæ¶ˆè´¹è€…ç»„çš„æ—¶å€™å¿…é¡»æŒ‡å®š IDï¼ŒIDä¸º0è¡¨ç¤ºä»å¤´å¼€å§‹æ¶ˆè´¹ï¼Œä¸º $ è¡¨ç¤ºåªæ¶ˆè´¹æ–°çš„æ¶ˆæ¯ï¼Œé˜Ÿå°¾æ–°æ¥</p>
<p><strong>xgroup create</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xgroup create mystream groupX $</span><br><span class="line">xgroup create mystream groupA 0</span><br></pre></td></tr></table></figure>
<p><strong>xreadgroup group</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; è¡¨ç¤ºä»ç¬¬ä¸€æ¡å°šæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯å¼€å§‹è¯»å–</span><br><span class="line">æ¶ˆæ¯ç»„groupAå†…çš„æ¶ˆè´¹è€…consumer1ä»mystreamæ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–æ‰€æœ‰ä¿¡æ¯</span><br><span class="line">ä½†æ˜¯ï¼Œä¸åŒæ¶ˆè´¹ç»„çš„æ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹åŒä¸€æ¡æ¶ˆæ¯</span><br><span class="line">xadd mystream * k2 v2</span><br><span class="line">xadd mystream * k3 v3</span><br><span class="line">xadd mystream * k4 v4</span><br><span class="line">xadd mystream * k5 v5</span><br><span class="line">xgroup create mystream groupX $</span><br><span class="line">xgroup create mystream groupA 0</span><br><span class="line">xgroup create mystream groupB 0</span><br><span class="line"></span><br><span class="line">xreadgroup groupA consumer1 streams mystream &gt;  è¿™ä¸ªconusmer1æ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œä¸æ˜¯é¢„å…ˆå­˜åœ¨çš„</span><br><span class="line">streamä¸­çš„æ¶ˆæ¯ä¸€æ—¦è¢«æ¶ˆè´¹ç»„é‡Œçš„ä¸€ä¸ªæ¶ˆè´¹è€…è¯»å–äº†ï¼Œå°±ä¸èƒ½è¢«è¯¥ç»„å†…çš„å…¶ä»–æ¶ˆè´¹è€…è¯»å–ã€‚ä½†æ˜¯ä¸åŒæ¶ˆè´¹ç»„å¯ä»¥æ¶ˆè´¹ã€‚</span><br><span class="line">è®©ç»„å†…çš„å¤šä¸ªæ¶ˆè´¹è€…å…±åŒåˆ†æ‹…è¯»å–æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸ä¼šè®©æ¯ä¸ªæ¶ˆè´¹è€…è¯»å–éƒ¨åˆ†æ¶ˆæ¯ï¼Œä»è€Œå®ç°æ¶ˆæ¯è¯»å–è´Ÿè½½åœ¨å¤šä¸ªæ¶ˆè´¹è€…é—´æ˜¯å‡è¡¡åˆ†å¸ƒçš„</span><br><span class="line">xreadgroup group groupB consumer1 count 1 streams mystream &gt;</span><br><span class="line">xreadgroup group groupB consumer2 count 1 streams mystream &gt; ç­‰ç­‰æ¯äººè¯»ä¸€æ¡</span><br></pre></td></tr></table></figure>
<p><strong>é‡ç‚¹é—®é¢˜</strong></p>
<p>åŸºäºStreamå®ç°çš„é˜Ÿåˆ—ï¼Œå¦‚ä½•ä¿è¯æ¶ˆè´¹è€…åœ¨å‘ç”Ÿæ•…éšœæˆ–å®•æœºå†æ¬¡é‡å¯åï¼Œä»ç„¶å¯ä»¥è¯»å–æœªå¤„ç†å®Œçš„æ¶ˆæ¯ï¼Ÿ</p>
<p>åˆšæ‰åªæ˜¯è¯»äº†ä½†æ˜¯è¿˜æ²¡ackï¼Œè¿˜æ²¡ç­¾æ”¶ï¼ŒStreamsä¼šè‡ªåŠ¨ä½¿ç”¨å†…éƒ¨é˜Ÿåˆ—ä¹Ÿç§°ä¸ºPENDINGList ç•™å­˜æ¶ˆè´¹ç»„é‡Œæ¯ä¸ªæ¶ˆè´¹è€…è¯»å–çš„æ¶ˆæ¯ä¿åº•æªæ–½ï¼Œç›´åˆ°æ¶ˆè´¹è€…ä½¿ç”¨XACKå‘½ä»¤é€šçŸ¥Streams æ¶ˆæ¯å·²ç»å¤„ç†å®Œæˆ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127184041160.png" alt="image-20251127184041160"></p>
<p><strong>xpending</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">xpending mystream groupc  çœ‹çœ‹æ¶ˆè´¹ç»„é‡Œå·²è¯»æœªç¡®è®¤çš„æ¸…å•</span><br><span class="line">é¦–å…ˆä¼šè¿”å›æ‰€æœ‰æ¶ˆè´¹è€…è¯»å–çš„æ¶ˆæ¯æœ€å°ID</span><br><span class="line">ç„¶åè¿”å›æ‰€æœ‰æ¶ˆè´¹è€…è¯»å–çš„æ¶ˆæ¯æœ€å¤§ID</span><br><span class="line">ç„¶åè¿”å›æ¯ä¸ªæ¶ˆè´¹è€…è¯»å–çš„ä¸ªæ•°</span><br><span class="line">XPENDING mystream groupC - + 10</span><br><span class="line"></span><br><span class="line">1) 1) &quot;1710000000000-0&quot;   # æ¶ˆæ¯ ID</span><br><span class="line">   2) &quot;consumer1&quot;         # è¢«å“ªä¸ªæ¶ˆè´¹è€…è¯»å–</span><br><span class="line">   3) (integer) 123456    # idle æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œä»äº¤ä»˜åˆ°ç°åœ¨ï¼‰</span><br><span class="line">   4) (integer) 1         # delivery counterï¼ˆé‡è¯•æ¬¡æ•°ï¼‰</span><br><span class="line"></span><br><span class="line">2) 1) &quot;1710000000001-0&quot;</span><br><span class="line">   2) &quot;consumer1&quot;</span><br><span class="line">   3) (integer) 98765</span><br><span class="line">   4) (integer) 1</span><br><span class="line"></span><br><span class="line">3) 1) &quot;1710000000002-0&quot;</span><br><span class="line">   2) &quot;consumer2&quot;</span><br><span class="line">   3) (integer) 45678</span><br><span class="line">   4) (integer) 1</span><br><span class="line">   </span><br><span class="line"> xpending mystream groupC - + 2 consumer2 è¿™æ ·çœ‹å›ºå®šæ¶ˆè´¹è€…è¯»å–çš„æ¶ˆè´¹ä¿¡æ¯</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>XACK</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XACK mystream groupc [æ—¶é—´æˆ³] è¿™æ ·å°±ç¡®è®¤ç­¾æ”¶äº†</span><br></pre></td></tr></table></figure>
<h4 id="11-ä½åŸŸ-bitfield"><a href="#11-ä½åŸŸ-bitfield" class="headerlink" title="11 ä½åŸŸ bitfield"></a>11 ä½åŸŸ bitfield</h4><p>å°†ä¸€ä¸ªrediså­—ç¬¦ä¸²çœ‹åšæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶ç»„æˆçš„æ•°ç»„ï¼Œå¹¶èƒ½å¯¹å˜é•¿ä½å®½å’Œä»»æ„æ²¡æœ‰å­—èŠ‚å¯¹é½çš„æŒ‡å®šæ•´å½¢ä½åŸŸè¿›è¡Œå¯»å€å’Œä¿®æ”¹</p>
<h2 id="RedisæŒä¹…åŒ–ç­–ç•¥"><a href="#RedisæŒä¹…åŒ–ç­–ç•¥" class="headerlink" title="RedisæŒä¹…åŒ–ç­–ç•¥"></a><strong>RedisæŒä¹…åŒ–ç­–ç•¥</strong></h2><p>â€‹    Redisä¸ä»…ä»…æ˜¯ä¸€ä¸ªå†…å­˜å‹æ•°æ®åº“ï¼Œè¿˜å…·å¤‡æŒä¹…åŒ–èƒ½åŠ›ã€‚</p>
<p>æŒä¹…åŒ–ä¸¤ä¸ªç­–ç•¥RDB AOFï¼ŒRDBå°±æ˜¯åšä¸€ä¸ªå¿«ç…§ï¼ŒAOFå°±æ˜¯æŠŠå†™æ“ä½œéƒ½è®°å½•åœ¨æ–‡æ¡£é‡Œ</p>
<h4 id="1-RDB"><a href="#1-RDB" class="headerlink" title="1. RDB"></a>1. <strong>RDB</strong></h4><p>ä»¥æŒ‡å®šçš„æ—¶é—´é—´éš”æ‰§è¡Œæ•°æ®é›†çš„æ—¶é—´ç‚¹å¿«ç…§ï¼Œå³ä¾¿redisæ•…éšœï¼Œå¿«ç…§æ–‡ä»¶ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œæ•°æ®çš„å¯é æ€§å¾—åˆ°ä¿è¯ã€‚è¿™ä¸ªå¿«ç…§ä»¥dump.rdbã€‚ä¿å­˜çš„æ˜¯ <strong>å…¨é‡å¿«ç…§</strong></p>
<p><strong>redis6ä»¥ä¸‹</strong>ï¼Œè‡ªåŠ¨è§¦å‘ï¼Œæ¯ä¸ª900sï¼Œå¦‚æœæœ‰è¶…è¿‡1ä¸ªkeyå‘ç”Ÿå˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„RDBæ–‡ä»¶</p>
<p>æ¯éš”300sï¼Œå¦‚æœæœ‰è¶…è¿‡10ä¸ªkeyå‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„RDBæ–‡ä»¶</p>
<p>æ¯éš”60sï¼Œå¦‚æœè¶…è¿‡10000ä¸ªkeyå‘ç”Ÿäº†å˜åŒ–ï¼Œå°±å†™ä¸€ä»½æ–°çš„RDBæ–‡ä»¶</p>
<p><strong>redis7ä»¥å</strong>ï¼Œ3600sä»¥å†…ï¼Œ1ä¸ªä¿®æ”¹ï¼Œ300sä»¥å†…100ä¸ªä¿®æ”¹ï¼Œ60så†…10000ä¸ªä¿®æ”¹</p>
<p><strong>rdbçš„æ“ä½œåˆ†ä¸ºè‡ªåŠ¨è§¦å‘å’Œæ‰‹åŠ¨è§¦å‘</strong></p>
<p><strong>è¿™é‡Œä¿®æ”¹é…ç½®æ–‡ä»¶æ¥è‡ªå®šä¹‰</strong></p>
<p>ä¸‹é¢æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶çš„å†™æ³•ï¼Œä½ç½®è‡ªå·±æ‰¾ï¼Œä»¥ååšredisé›†ç¾¤éœ€è¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save 5 2                ä¿®æ”¹å¿«ç…§é¢‘ç‡è¿™ä¸ª5ç§’å†…å¦‚æœæœ‰ç´¯è®¡2æ¬¡ä¿®æ”¹ä»¥ä¸ŠåŒ…æ‹¬ä¸¤æ¬¡å°±ä¼šè§¦å‘ï¼Œå¦‚æœå¢åŠ k3ç„¶å5ç§’å†…ä¸ä¼šæ–°å¢ï¼Œç„¶å5ç§’åæ–°å¢k4ä¹‹åä¹Ÿä¼šä¿å­˜ã€‚</span><br><span class="line">dir /myredis/dumpfiles  ä¿®æ”¹ä¿å­˜è·¯å¾„</span><br><span class="line">dbfilename dump6379.rdb ä¿®æ”¹ä¿å­˜çš„æ–‡ä»¶å</span><br></pre></td></tr></table></figure>
<p>åœ¨redis-cliå†…å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹redisä¿¡æ¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">config get requirepass æŸ¥çœ‹å¯†ç </span><br><span class="line">config get port æŸ¥çœ‹ç«¯å£å·</span><br><span class="line">config get dir æŸ¥çœ‹å¿«ç…§ä¿å­˜çš„è·¯å¾„</span><br></pre></td></tr></table></figure>
<p>rdbæ¨¡å¼æ˜¯é»˜è®¤æ¨¡å¼ï¼Œå¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…ç”Ÿæˆæ•°æ®å¿«ç…§ï¼ˆsnapshotï¼‰ï¼Œé»˜è®¤ä¿å­˜åˆ°dump.rdbæ–‡ä»¶ä¸­ã€‚å½“redisé‡å¯åä¼šè‡ªåŠ¨åŠ è½½dump.rdbæ–‡ä»¶ä¸­å†…å®¹åˆ°å†…å­˜ä¸­ã€‚</p>
<p><strong>æ¢å¤</strong></p>
<p>å°†å¤‡ä»½æ–‡ä»¶ç§»åŠ¨åˆ°rediså®‰è£…ç›®å½•å¹¶å¯åŠ¨æœåŠ¡å³å¯ã€‚ä¹Ÿå°±æ˜¯è¯´å°†å¤‡ä»½æ–‡ä»¶æ”¾åˆ°é…ç½®é‡Œé¢å¤‡ä»½çš„è·¯å¾„ï¼Œrediså¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨æ¢å¤</p>
<p>é¦–å…ˆå¦‚æœshutdownå°±ä¼šä¿å­˜ä¸€æ¬¡ï¼Œå¹¶ä¸”è°ƒç”¨flushallçš„æ—¶å€™ä¹Ÿä¼šæ›´æ–°åˆ°dump.dbé‡Œé¢</p>
<p><strong>æ‰€ä»¥ä¸å¯ä»¥æŠŠå¤‡ä»½æ–‡ä»¶å’Œç”Ÿäº§redisæœåŠ¡å™¨æ”¾åœ¨åŒä¸€å°æœåŠ¡å™¨ï¼Œå¿…é¡»åˆ†å¼€å„è‡ªå­˜å‚¨ï¼Œä»¥é˜²å¤‡ä»½æ–‡ä»¶ä¹Ÿæ²¡äº†</strong></p>
<p><strong>æ‰‹åŠ¨è§¦å‘ save / bgsave</strong></p>
<p>redisä¼šforks ï¼Œç„¶åå°±ä¼šæœ‰ä¸ªå­çš„å’Œçˆ¶è¿›ç¨‹ã€‚ç„¶ååå°å­è¿›ç¨‹ä¼šè¦†ç›–rdbäº†ã€‚</p>
<p>ç”Ÿäº§ä¸Šåªå…è®¸ç”¨bgsaveä¸è®¸ç”¨save</p>
<p>å› ä¸ºsaveä¼šé˜»å¡å½“å‰redisæœåŠ¡å™¨ï¼Œç›´åˆ°æŒä¹…åŒ–å·¥ä½œå®Œæˆï¼Œredisä¸èƒ½æ‰§è¡Œå…¶ä»–å‘½ä»¤ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">save</span><br><span class="line">bgsave è¿™ä¸ªæ˜¯åœ¨åå°è¿›è¡Œå¼‚æ­¥çš„å¿«ç…§æ“ä½œï¼Œä¸é˜»å¡ã€‚è¦†ç›–è€çš„rdb</span><br><span class="line"></span><br><span class="line">lastsave é€šè¿‡è¿™ä¸ªå‘½ä»¤è·å–æœ€åä¸€æ¬¡å¿«ç…§çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´æˆ³è¦åœ¨Linuxå‘½ä»¤</span><br><span class="line"></span><br><span class="line">date -d @åˆšåˆšçš„æ—¶é—´æˆ³ å°±èƒ½ç›´åˆ°æ—¶é—´äº†</span><br></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹å’Œç¼ºç‚¹</strong></p>
<p>é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤ï¼Œå®šæ—¶å¤‡ä»½ï¼Œå†…å­˜åŠ è½½é€Ÿåº¦å¿«ï¼Œå¯¹ä¸€è‡´æ€§è¦æ±‚ä¸é«˜ã€‚</p>
<p>rdbåœ¨æ²¡æœ‰æ­£ç¡®å…³é—­çš„æ—¶å€™ä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®ã€‚forkå¯èƒ½ä¼šå¾ˆè€—æ—¶å¦‚æœæ•°æ®é‡å¤§ã€‚    </p>
<p><strong>æ£€æŸ¥å¹¶ä¿®å¤rdbæ–‡ä»¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/bin  ç±»ä¼¼äºprogramfileç„¶åé‡Œé¢æœ‰redis-check</span><br><span class="line">redis-check-rdb /myredis/dumpfiles/dump6379.rdb</span><br></pre></td></tr></table></figure>
<p><strong>å“ªäº›æƒ…å†µä¼šè§¦å‘RDBå¿«ç…§</strong></p>
<p>1ã€é…ç½®æ–‡ä»¶ä¸­é»˜è®¤çš„å¿«ç…§é…ç½®</p>
<p>2ã€æ‰‹åŠ¨save/bgsave</p>
<p>3ã€æ‰§è¡Œflushall / flushdb å‘½ä»¤ä½†é‡Œé¢æ˜¯ç©ºçš„æ— æ„ä¹‰</p>
<p>4ã€æ‰§è¡Œshutdownä¸”æ²¡æœ‰è®¾ç½®å¼€å¯AOFæŒä¹…åŒ–</p>
<p>5ã€ä¸»ä»å¤åˆ¶æ—¶ï¼Œä¸»èŠ‚ç‚¹è‡ªåŠ¨è§¦å‘</p>
<p><strong>rdbä¼˜åŒ–é…ç½®é¡¹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">save &lt;seconds&gt; &lt;changes&gt;</span><br><span class="line">dbfilename</span><br><span class="line">dir</span><br><span class="line">stop-writes-on-bgsave-error  é»˜è®¤yes å½“bgsave errorçš„æ—¶å€™åœæ­¢å†™</span><br><span class="line">å¦‚æœé…ç½®noè¡¨ç¤ºä½ ä¸åœ¨ä¹æ•°æ®ä¸ä¸€è‡´æˆ–è€…æœ‰å…¶ä»–çš„æ‰‹æ®µå‘ç°å’Œæ§åˆ¶è¿™ç§ä¸ä¸€è‡´ï¼Œé‚£ä¹ˆåœ¨å¿«ç…§å†™å…¥å¤±è´¥æ—¶ï¼Œä¹Ÿèƒ½ç¡®ä¿redisç»§ç»­æ¥å—æ–°çš„å†™è¯·æ±‚</span><br><span class="line">rdbcompression  é»˜è®¤yes å¯¹äºå­˜å‚¨åˆ°ç£ç›˜ä¸­çš„å¿«ç…§ï¼Œå¯ä»¥è®¾ç½®æ˜¯å¦è¿›è¡Œå‹ç¼©å­˜å‚¨</span><br><span class="line">rdbchecksum é»˜è®¤yes åœ¨å­˜å‚¨å¿«ç…§åï¼Œè¿›è¡ŒCRC64è¿›è¡Œæ•°æ®æ ¡éªŒï¼Œä¼šå¢åŠ 10%æ€§èƒ½æ¶ˆè€—</span><br><span class="line">rdb-del-sync-files é»˜è®¤no åœ¨æ²¡æœ‰æŒä¹…æ€§çš„æƒ…å†µä¸‹åˆ é™¤å¤åˆ¶ä¸­ä½¿ç”¨çš„RDBæ–‡ä»¶ï¼Œæ²¡å¿…è¦åˆ </span><br></pre></td></tr></table></figure>
<p><strong>å¦‚ä½•ç¦ç”¨å¿«ç…§</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">åŠ¨æ€çš„åœæ­¢RDB redis-cli config set save &quot;&quot;  æœ¬æ¬¡cliç¦ç”¨</span><br><span class="line">é…ç½®æ–‡ä»¶ç¦ç”¨ åœ¨save &quot;&quot; å†™ä¸ªç©ºå­—ç¬¦ä¸²å³å¯</span><br></pre></td></tr></table></figure>
<h4 id="2-AOF"><a href="#2-AOF" class="headerlink" title="2 AOF"></a>2 <strong>AOF</strong></h4><p>â€‹    AOF(Append Only File)æŠŠRedisæ‰§è¡Œè¿‡çš„æ‰€æœ‰å†™æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼Œè¯»æ“ä½œä¸è®°å½•ã€rediså¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œredisæ²¡æœ‰å¼€å¯ï¼Œè¦å¼€å¯éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ <code>appendonly yes</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># é»˜è®¤no</span><br><span class="line">appendonly yes</span><br><span class="line"># aofæ–‡ä»¶å</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br></pre></td></tr></table></figure>
<p><strong>AOFå·¥ä½œæµç¨‹</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127233133875.png" alt="image-20251127233133875"></p>
<p><strong>AOFä¸‰ç§å†™å›ç­–ç•¥</strong></p>
<p>Always / everysec / no</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">appendfsync everysec åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæ¯ç§’å†™å›ï¼Œå…ˆæŠŠæ—¥å¿—å†™åˆ°AOFç¼“å†²åŒºï¼Œæ¯éš”1ç§’å†™å›aofæ–‡ä»¶ä¸­</span><br><span class="line">Alwaysæ˜¯åŒæ­¥å†™å›ï¼Œæ¯ä¸ªå†™å‘½ä»¤ï¼Œç«‹åˆ»åŒæ­¥å†™å›</span><br><span class="line">no æ“ä½œç³»ç»Ÿæ§åˆ¶çš„å†™å›ï¼Œæ¯ä¸ªå†™å‘½ä»¤æ‰§è¡Œå®Œï¼Œåªæ˜¯å…ˆæŠŠæ—¥å¿—å†™åˆ°AOFæ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒºï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶å†™å›</span><br></pre></td></tr></table></figure>
<p><strong>AOFçš„é…ç½®æ–‡ä»¶è¯´æ˜</strong></p>
<p><strong>Redis7æ–°ç‰¹æ€§ Multi-part AOF</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251127234924610.png" alt="image-20251127234924610"></p>
<p><strong>aofçš„ä¿å­˜è·¯å¾„</strong></p>
<p>redis6æ˜¯ AOF ä¿å­˜æ–‡ä»¶çš„ä½ç½®å’Œ RDB æ–‡ä»¶ä½ç½®æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯dirä¸­é…ç½®çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dir /myredis</span><br><span class="line"></span><br><span class="line">/myredis/dump.db</span><br><span class="line">/myredis/appendonly.aof</span><br></pre></td></tr></table></figure>
<p>redis7æ˜¯ æœ‰dir + appenddirname</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dir /myredis</span><br><span class="line">appenddirname &quot;appendonlydir&quot;</span><br><span class="line"></span><br><span class="line">/myredis/dump.rdb</span><br><span class="line">/myredis/appendonlydir/xxx.aof</span><br></pre></td></tr></table></figure>
<p><strong>aofä¿å­˜çš„åç§°</strong></p>
<p>redis6 åªæœ‰å«appendonly.aof</p>
<p>redis7 Muti Part AOFè®¾è®¡ï¼Œå¤šéƒ¨åˆ†ç»„æˆaof å¯¹å¤–åå­—è¿˜å«appendonly.aof ä½†æ˜¯å®é™…ä¸Šåˆ†ä¸ºäº†ä¸‰ä¸ªæ–‡ä»¶ç»„æˆ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251128000800062.png" alt="image-20251128000800062"></p>
<p>base åŸºæœ¬æ–‡ä»¶</p>
<p>incr å¢é‡æ–‡ä»¶</p>
<p>manifest æ¸…å•æ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251128000904887.png" alt="image-20251128000904887"></p>
<p>å°è¯•åˆ©ç”¨ AOF æ¢å¤æµç¨‹</p>
<p>å†™æ“ä½œç»§ç»­ï¼Œç„¶åç”ŸæˆAOFæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</p>
<p>æ¢å¤1 ï¼š é‡å¯redisç„¶åé‡æ–°åŠ è½½ï¼Œç»“æœOK</p>
<p>æ¢å¤2ï¼šå†™å…¥æ•°æ®è¿›redisï¼Œç„¶åflushdb+shutdownæœåŠ¡å™¨ï¼Œæ–°ç”Ÿæˆäº†dumpå’Œaofï¼Œå¤‡ä»½æ–°ç”Ÿæˆçš„aof.bakï¼Œç„¶ååˆ é™¤dump/aofå†çœ‹æ¢å¤ï¼Œé‡å¯redisç„¶ååŠ è½½ï¼Œåœæ­¢æœåŠ¡å™¨ï¼Œæ‹¿å‡ºæˆ‘ä»¬çš„å¤‡ä»½ä¿®æ”¹åå†é‡å¯æœåŠ¡å™¨</p>
<p>ä¸Šé¢éƒ½æ˜¯æ­£å¸¸çŠ¶å†µ</p>
<p><strong>å¼‚å¸¸æ¢å¤</strong> å‡è®¾å†…å®¹åªå†™äº†ä¸€å°åŠï¼Œæ²¡å†™å®Œæ•´ï¼ŒredisæŒ‚äº†ï¼Œå¯¼è‡´aofæ–‡ä»¶é”™è¯¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åˆ©ç”¨å‘½ä»¤ redis-check-aof --fix è¿›è¡Œä¿®å¤</span><br></pre></td></tr></table></figure>
<p><strong>aofé‡å†™æœºåˆ¶</strong></p>
<p>å½“aofçš„æ–‡ä»¶è¶Šæ¥è¶Šå¤§ï¼Œä¸æ–­è®°å½•å†™å‘½ä»¤ï¼ŒAOFæ¢å¤è¦æ±‚çš„æ—¶é—´è¶Šæ¥è¶Šé•¿ã€‚</p>
<p>åªä¿ç•™å¯ä»¥æ¢å¤æ•°æ®çš„æœ€å°æŒ‡ä»¤é›†ï¼Œ<strong>æˆ–è€…æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤æ¥é‡å†™</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è‡ªåŠ¨çš„è¯é…ç½®ï¼ŒåŒæ—¶æ»¡è¶³ä¸”çš„å…³ç³»æ‰ä¼šè§¦å‘</span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb </span><br><span class="line">æ ¹æ®ä¸Šæ¬¡é‡å†™åaofçš„å¤§å°ï¼Œåˆ¤æ–­å½“å‰aofå¤§å°æ˜¯ä¸æ˜¯å¢é•¿äº†1å€ï¼Œé‡å†™æ—¶æ»¡è¶³çš„æ–‡ä»¶å¤§å° å¤§äº64M</span><br></pre></td></tr></table></figure>
<p>æ‰‹åŠ¨çš„è¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€<code>bgrewriteaof</code> å‘½ä»¤ </p>
<p><strong>AOFæ–‡ä»¶çš„é‡å†™å¹¶ä¸æ˜¯å¯¹æºæ–‡ä»¶è¿›è¡Œé‡æ–°æ•´ç†ï¼Œè€Œæ˜¯ç›´æ¥è¯»å–æœåŠ¡å™¨ç°æœ‰çš„é”®å€¼å¯¹ï¼Œç„¶åç”¨ä¸€æ¡å‘½ä»¤å»ä»£æ›¿ä¹‹å‰è®°å½•è¿™ä¸ªé”®å€¼å¯¹çš„å¤šæ¡å‘½ä»¤ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶åå»æ›¿æ¢åŸæ¥çš„AOFæ–‡ä»¶ã€‚</strong></p>
<p><strong>é‡å†™åŸç†</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251128010832943.png" alt="image-20251128010832943"></p>
<p><strong>Redis 7 çš„ AOF é‡å†™é€šè¿‡ fork å­è¿›ç¨‹å°†å†…å­˜æ•°æ®è½¬ä¸ºç´§å‡‘å‘½ä»¤å†™å…¥ <code>base</code> æ–‡ä»¶ï¼Œçˆ¶è¿›ç¨‹å°†é‡å†™æœŸé—´çš„æ–°å‘½ä»¤å†™å…¥æ–°çš„ <code>incr</code> æ–‡ä»¶ï¼Œæœ€åé€šè¿‡ <code>manifest</code> æ¸…å•å°† <code>base + incr</code> ç»„åˆæˆé€»è¾‘ä¸Šçš„å®Œæ•´ AOFï¼Œå…¨ç¨‹æ— éœ€è¦†ç›–æˆ–åˆ é™¤ä»»ä½•ç°æœ‰æ–‡ä»¶ã€‚</strong></p>
<p><strong>Redis 7 çš„ AOF é‡å†™å…¨ç¨‹åœ¨æ–°æ–‡ä»¶ä¸Šæ“ä½œï¼Œæ—§ AOF æ–‡ä»¶ä¿ç•™ä¸”ä¸è¢«è¦†ç›–ã€‚<br> æ—§æ–‡ä»¶åœ¨ä¸å†è¢« <code>manifest</code> å¼•ç”¨åï¼Œç”± Redis åå°å¼‚æ­¥æ¸…ç†ï¼Œç¡®ä¿é«˜å¯ç”¨ä¸æ•°æ®å®‰å…¨ã€‚</strong></p>
<p><strong>æ€»ç»“é…ç½®</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20251128014335015.png" alt="image-20251128014335015"></p>
<h4 id="3-RDB-AOF-æ··åˆ"><a href="#3-RDB-AOF-æ··åˆ" class="headerlink" title="3 RDB + AOF æ··åˆ"></a>3 RDB + AOF æ··åˆ</h4><p>å¦‚æœå¼€å¯äº†aofï¼Œä¼šä¼˜å…ˆåŠ è½½aofï¼Œå…¶æ¬¡å†åŠ è½½rdbæ–‡ä»¶æ¥æ¢å¤ã€‚</p>
<p>å¼€å¯æ··åˆé…ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aof-use-rdb-preamble yes</span><br><span class="line">å¼€å¯årdbåšå…¨é‡ï¼Œaofåšå¢é‡</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™äº§ç”Ÿçš„æ–‡ä»¶ä¸€éƒ¨åˆ†æ˜¯rdbï¼Œä¸€éƒ¨åˆ†æ˜¯aofã€‚</p>
<p><strong>å¦‚æœç”¨çº¯ç¼“å­˜æ¨¡å¼ï¼ŒåŒæ—¶å…³é—­RDBå’ŒAOF</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åœ¨é…ç½®é‡Œé¢</span><br><span class="line">save &quot;&quot; ç¦ç”¨rdb</span><br><span class="line">appendonly no ç¦ç”¨aof</span><br></pre></td></tr></table></figure>
<h2 id="Redisä¸»ä»å¤åˆ¶"><a href="#Redisä¸»ä»å¤åˆ¶" class="headerlink" title="Redisä¸»ä»å¤åˆ¶"></a><strong>Redisä¸»ä»å¤åˆ¶</strong></h2><p>â€‹    Redisæ”¯æŒé›†ç¾¤åŠŸèƒ½ã€‚ä¸ºäº†ä¿è¯å•ä¸€èŠ‚ç‚¹å¯ç”¨æ€§ï¼Œredisæ”¯æŒä¸»ä»å¤åˆ¶åŠŸèƒ½ã€‚æ¯ä¸ªèŠ‚ç‚¹æœ‰Nä¸ªå¤åˆ¶å“ï¼ˆreplicaï¼‰ï¼Œå…¶ä¸­ä¸€ä¸ªå¤åˆ¶å“æ˜¯ä¸»ï¼ˆmasterï¼‰ï¼Œå¦å¤–N-1ä¸ªå¤åˆ¶å“æ˜¯ä»ï¼ˆSlaveï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´Redisæ”¯æŒä¸€ä¸»å¤šä»ã€‚</p>
<p>â€‹    ä¸€ä¸ªä¸»å¯æœ‰å¤šä¸ªä»ï¼Œè€Œä¸€ä¸ªä»åˆå¯ä»¥çœ‹æˆä¸»ï¼Œå®ƒè¿˜å¯ä»¥æœ‰å¤šä¸ªä»ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-04.jpg" alt=""></p>
<h4 id="1-ä¸»ä»ä¼˜ç‚¹"><a href="#1-ä¸»ä»ä¼˜ç‚¹" class="headerlink" title="1. ä¸»ä»ä¼˜ç‚¹"></a>1. <strong>ä¸»ä»ä¼˜ç‚¹</strong></h4><p>â€‹    å¢åŠ å•ä¸€èŠ‚ç‚¹çš„å¥å£®æ€§ï¼Œä»è€Œæå‡æ•´ä¸ªé›†ç¾¤çš„ç¨³å®šæ€§ã€‚ï¼ˆRedisä¸­å½“è¶…è¿‡1/2èŠ‚ç‚¹ä¸å¯ç”¨æ—¶ï¼Œæ•´ä¸ªé›†ç¾¤ä¸å¯ç”¨ï¼‰</p>
<p>â€‹    ä»èŠ‚ç‚¹å¯ä»¥å¯¹ä¸»èŠ‚ç‚¹æ•°æ®å¤‡ä»½ï¼Œæå‡å®¹ç¾èƒ½åŠ›ã€‚</p>
<p>â€‹    è¯»å†™åˆ†ç¦»ã€‚åœ¨redisä¸»ä»ä¸­ï¼Œä¸»èŠ‚ç‚¹ä¸€èˆ¬ç”¨ä½œå†™ï¼ˆå…·å¤‡è¯»çš„èƒ½åŠ›ï¼‰ï¼Œä»èŠ‚ç‚¹åªèƒ½è¯»ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§å®ç°è¯»å†™åˆ†ç¦»ï¼Œå†™ç”¨ä¸»ï¼Œè¯»ç”¨ä»ã€‚</p>
<h5 id="1-1-ä¸€ä¸»å¤šä»æ­å»º"><a href="#1-1-ä¸€ä¸»å¤šä»æ­å»º" class="headerlink" title="1.1 ä¸€ä¸»å¤šä»æ­å»º"></a>1.1 <strong>ä¸€ä¸»å¤šä»æ­å»º</strong></h5><p>â€‹    åœ¨å·²ç»æ­å»ºçš„å•æœºç‰ˆredisåŸºç¡€ä¸Šè¿›è¡Œæ“ä½œã€‚</p>
<p>â€‹    å¹¶ä¸”å…³é—­rediså•æœºç‰ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./redis-cli shutdown</span><br></pre></td></tr></table></figure>
<h5 id="1-2-æ–°å»ºç›®å½•"><a href="#1-2-æ–°å»ºç›®å½•" class="headerlink" title="1.2 æ–°å»ºç›®å½•"></a>1.2 <strong>æ–°å»ºç›®å½•</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir /usr/local/replica</span><br></pre></td></tr></table></figure>
<h5 id="1-3-å¤åˆ¶ç›®å½•"><a href="#1-3-å¤åˆ¶ç›®å½•" class="headerlink" title="1.3 å¤åˆ¶ç›®å½•"></a>1.3 <strong>å¤åˆ¶ç›®å½•</strong></h5><p>â€‹    æŠŠä¹‹å‰å®‰è£…çš„rediså•æœºç‰ˆä¸­binç›®å½•å¤åˆ¶ä¸‰ä»½ï¼Œåˆ†åˆ«å«åšï¼šmasterã€slave1ã€slave2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cp -r /usr/local/redis/bin /usr/local/replica/master</span><br><span class="line"># cp -r /usr/local/redis/bin /usr/local/replica/slave1</span><br><span class="line"># cp -r /usr/local/redis/bin /usr/local/replica/slave2</span><br></pre></td></tr></table></figure>
<h5 id="1-4-ä¿®æ”¹ä»çš„é…ç½®æ–‡ä»¶"><a href="#1-4-ä¿®æ”¹ä»çš„é…ç½®æ–‡ä»¶" class="headerlink" title="1.4 ä¿®æ”¹ä»çš„é…ç½®æ–‡ä»¶"></a>1.4 <strong>ä¿®æ”¹ä»çš„é…ç½®æ–‡ä»¶</strong></h5><p>â€‹    ä¿®æ”¹2ä¸ªä»çš„redis.confï¼ŒæŒ‡å®šä¸»èŠ‚ç‚¹ipå’Œç«¯å£ã€‚å¹¶ä¿®æ”¹è‡ªèº«ç«¯å£å·é˜²æ­¢å’Œå…¶ä»–rediså†²çªã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vim /usr/local/replica/slave1/redis.conf</span><br></pre></td></tr></table></figure>
<p>â€‹    æŒ‡å®šä¸»èŠ‚ç‚¹ipå’Œç«¯å£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replicaof 192.168.93.10 6379</span><br></pre></td></tr></table></figure>
<p>â€‹    ä¿®æ”¹è‡ªå·±ç«¯å£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port 6380</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vim /usr/local/replica/slave2/redis.conf</span><br></pre></td></tr></table></figure>
<p>â€‹    æŒ‡å®šä¸»èŠ‚ç‚¹ipå’Œç«¯å£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replicaof 192.168.93.10 6379</span><br></pre></td></tr></table></figure>
<p>â€‹    ä¿®æ”¹è‡ªå·±ç«¯å£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">port 6381</span><br></pre></td></tr></table></figure>
<h5 id="1-5-å¯åŠ¨ä¸‰ä¸ªrediså®ä¾‹"><a href="#1-5-å¯åŠ¨ä¸‰ä¸ªrediså®ä¾‹" class="headerlink" title="1.5 å¯åŠ¨ä¸‰ä¸ªrediså®ä¾‹"></a>1.5 <strong>å¯åŠ¨ä¸‰ä¸ªrediså®ä¾‹</strong></h5><p>â€‹    æ³¨æ„ï¼šä¸€å®šè¦å…³é—­å•æœºçš„redisï¼Œå¦åˆ™ç«¯å£å†²çªã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/replica</span><br><span class="line"># vim startup.sh</span><br></pre></td></tr></table></figure>
<p>â€‹    åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢å†…å®¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/replica/master/</span><br><span class="line">./redis-server redis.conf</span><br><span class="line">  cd /usr/local/replica/slave1</span><br><span class="line">./redis-server redis.conf</span><br><span class="line">  cd /usr/local/replica/slave2</span><br><span class="line">./redis-server redis.conf</span><br></pre></td></tr></table></figure>
<pre><code> èµ‹äºˆæƒé™
</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># chmod a+x startup.sh</span><br></pre></td></tr></table></figure>
<p>â€‹    å¼€å¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ./startup.sh</span><br></pre></td></tr></table></figure>
<h5 id="1-6-æŸ¥çœ‹å¯åŠ¨çŠ¶æ€"><a href="#1-6-æŸ¥çœ‹å¯åŠ¨çŠ¶æ€" class="headerlink" title="1.6 æŸ¥çœ‹å¯åŠ¨çŠ¶æ€"></a>1.6 <strong>æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ps aux|grep redis</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-05.jpg" alt=""></p>
<h5 id="1-7-æµ‹è¯•"><a href="#1-7-æµ‹è¯•" class="headerlink" title="1.7 æµ‹è¯•*"></a>1.7 <strong>æµ‹è¯•*</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/replica/master/</span><br><span class="line"># ./redis-cli </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-06.jpg" alt=""></p>
<p>â€‹    åœ¨å®¢æˆ·ç«¯å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ï¼Œæ·»åŠ ä¸€æ¡æ•°æ®ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-07.jpg" alt=""></p>
<p>â€‹    è¿›å»slaveæŸ¥çœ‹æ•°æ®æ˜¯å¦åŒæ­¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/replica/slave1</span><br><span class="line"># ./redis-cli -p 6380</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-08.jpg" alt=""></p>
<h2 id="å“¨å…µï¼ˆSentinelï¼‰"><a href="#å“¨å…µï¼ˆSentinelï¼‰" class="headerlink" title="å“¨å…µï¼ˆSentinelï¼‰"></a><strong>å“¨å…µï¼ˆSentinelï¼‰</strong></h2><p>â€‹    åœ¨redisä¸»ä»é»˜è®¤æ˜¯åªæœ‰ä¸»å…·å¤‡å†™çš„èƒ½åŠ›ï¼Œè€Œä»åªèƒ½è¯»ã€‚å¦‚æœä¸»å®•æœºï¼Œæ•´ä¸ªèŠ‚ç‚¹ä¸å…·å¤‡å†™èƒ½åŠ›ã€‚ä½†æ˜¯å¦‚æœè¿™æ˜¯è®©ä¸€ä¸ªä»å˜æˆä¸»ï¼Œæ•´ä¸ªèŠ‚ç‚¹å°±å¯ä»¥ç»§ç»­å·¥ä½œã€‚å³ä½¿ä¹‹å‰çš„ä¸»æ¢å¤è¿‡æ¥ä¹Ÿå½“åšè¿™ä¸ªèŠ‚ç‚¹çš„ä»å³å¯ã€‚</p>
<p>â€‹    Redisçš„å“¨å…µå°±æ˜¯å¸®åŠ©ç›‘æ§æ•´ä¸ªèŠ‚ç‚¹çš„ï¼Œå½“èŠ‚ç‚¹ä¸»å®•æœºç­‰æƒ…å†µä¸‹ï¼Œå¸®åŠ©é‡æ–°é€‰å–ä¸»ã€‚</p>
<p>â€‹    Redisä¸­å“¨å…µæ”¯æŒå•å“¨å…µå’Œå¤šå“¨å…µã€‚å•å“¨å…µæ˜¯åªè¦è¿™ä¸ªå“¨å…µå‘ç°masterå®•æœºäº†ï¼Œå°±ç›´æ¥é€‰å–å¦ä¸€ä¸ªmasterã€‚è€Œå¤šå“¨å…µæ˜¯æ ¹æ®æˆ‘ä»¬è®¾å®šï¼Œè¾¾åˆ°ä¸€å®šæ•°é‡å“¨å…µè®¤ä¸ºmasterå®•æœºåæ‰ä¼šè¿›è¡Œé‡æ–°é€‰å–ä¸»ã€‚æˆ‘ä»¬ä»¥å¤šå“¨å…µæ¼”ç¤ºã€‚</p>
<h4 id="1-æ²¡æœ‰å“¨å…µä¸‹ä¸»ä»æ•ˆæœ"><a href="#1-æ²¡æœ‰å“¨å…µä¸‹ä¸»ä»æ•ˆæœ" class="headerlink" title="1. æ²¡æœ‰å“¨å…µä¸‹ä¸»ä»æ•ˆæœ"></a>1. <strong>æ²¡æœ‰å“¨å…µä¸‹ä¸»ä»æ•ˆæœ</strong></h4><p>â€‹    åªè¦æ€æ‰ä¸»ï¼Œæ•´ä¸ªèŠ‚ç‚¹æ— æ³•åœ¨å†™æ•°æ®ï¼Œä»èº«ä»½ä¸ä¼šå˜åŒ–ï¼Œä¸»çš„ä¿¡æ¯è¿˜æ˜¯ä»¥å‰çš„ä¿¡æ¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-09.jpg" alt=""></p>
<h4 id="2-æ­å»ºå¤šå“¨å…µ"><a href="#2-æ­å»ºå¤šå“¨å…µ" class="headerlink" title="2.æ­å»ºå¤šå“¨å…µ"></a>2.<strong>æ­å»ºå¤šå“¨å…µ</strong></h4><p>â€‹    å‰æï¼šå®‰è£…äº†å•æœºçš„redis</p>
<h5 id="2-1-æ–°å»ºç›®å½•"><a href="#2-1-æ–°å»ºç›®å½•" class="headerlink" title="2.1 æ–°å»ºç›®å½•"></a>2.1 <strong>æ–°å»ºç›®å½•</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir /usr/local/sentinel</span><br></pre></td></tr></table></figure>
<h5 id="2-2-å¤åˆ¶redis"><a href="#2-2-å¤åˆ¶redis" class="headerlink" title="2.2 å¤åˆ¶redis"></a>2.2 <strong>å¤åˆ¶redis</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cp -r /usr/local/redis/bin/* /usr/local/sentinel</span><br></pre></td></tr></table></figure>
<h5 id="2-3-å¤åˆ¶é…ç½®æ–‡ä»¶"><a href="#2-3-å¤åˆ¶é…ç½®æ–‡ä»¶" class="headerlink" title="2.3 å¤åˆ¶é…ç½®æ–‡ä»¶"></a>2.3 <strong>å¤åˆ¶é…ç½®æ–‡ä»¶</strong></h5><p>â€‹    ä»redisè§£å‹ç›®å½•ä¸­å¤åˆ¶sentinelé…ç½®æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/tmp/redis-5.0.5/</span><br><span class="line"># cp sentinel.conf /usr/local/sentinel/</span><br></pre></td></tr></table></figure>
<h5 id="2-4-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#2-4-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="2.4 ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>2.4 <strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/sentinel</span><br><span class="line"># vim sentinel.conf</span><br><span class="line"></span><br><span class="line">port 26379</span><br><span class="line">daemonize yes</span><br><span class="line">logfile â€œ/usr/local/sentinel/26379.logâ€</span><br><span class="line">sentinel monitor mymaster 192.168.93.10 6379 2</span><br></pre></td></tr></table></figure>
<p>â€‹    å¤åˆ¶sentinel.confï¼Œå‘½åä¸ºsentinel-26380.conf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cp sentinel.conf sentinel-26380.conf</span><br><span class="line"># vim sentinel-26380.conf</span><br><span class="line"></span><br><span class="line">port 26380</span><br><span class="line">daemonize yes</span><br><span class="line">logfile â€œ/usr/local/sentinel/26380.logâ€</span><br><span class="line">sentinel monitor mymaster 192.168.93.10 6379 2</span><br></pre></td></tr></table></figure>
<p>å¤åˆ¶sentinel.confï¼Œå‘½åä¸ºsentinel-26381.conf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cp sentinel.conf sentinel-26381.conf</span><br><span class="line"># vim sentinel-26381.conf</span><br><span class="line"></span><br><span class="line">port 26381</span><br><span class="line">daemonize yes</span><br><span class="line">logfile â€œ/usr/local/sentinel/26381.logâ€</span><br><span class="line">sentinel monitor mymaster 192.168.93.10 6379 2</span><br></pre></td></tr></table></figure>
<h5 id="2-5-å¯åŠ¨ä¸»ä»"><a href="#2-5-å¯åŠ¨ä¸»ä»" class="headerlink" title="2.5 å¯åŠ¨ä¸»ä»"></a>2.5 <strong>å¯åŠ¨ä¸»ä»</strong></h5><p>â€‹    å¦‚æœå·²ç»å¯åŠ¨çŠ¶æ€ï¼Œå¿½ç•¥ä¸‹é¢å‘½ä»¤ã€‚å¦‚æœå¯åŠ¨éƒ¨åˆ†ï¼Œå…¨éƒ¨killåé‡æ–°å¯åŠ¨ã€‚</p>
<p>â€‹    ä½¿ç”¨killæ€æ­»å…¨éƒ¨redis</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ps aux|grep redis</span><br><span class="line"># kill -9 è¿›ç¨‹å·</span><br></pre></td></tr></table></figure>
<p>â€‹    å¯åŠ¨redisä¸»ä»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/replica</span><br><span class="line"># ./startup.sh</span><br></pre></td></tr></table></figure>
<h5 id="2-6-å¯åŠ¨ä¸‰ä¸ªå“¨å…µ"><a href="#2-6-å¯åŠ¨ä¸‰ä¸ªå“¨å…µ" class="headerlink" title="2.6 å¯åŠ¨ä¸‰ä¸ªå“¨å…µ"></a>2.6 <strong>å¯åŠ¨ä¸‰ä¸ªå“¨å…µ</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/sentinel</span><br><span class="line"># ./redis-sentinel sentinel.conf</span><br><span class="line"># ./redis-sentinel sentinel-26380.conf</span><br><span class="line"># ./redis-sentinel sentinel-26381.conf</span><br></pre></td></tr></table></figure>
<h5 id="2-7-æŸ¥çœ‹æ—¥å¿—"><a href="#2-7-æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="2.7 æŸ¥çœ‹æ—¥å¿—"></a>2.7 <strong>æŸ¥çœ‹æ—¥å¿—</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cat 26379.log</span><br></pre></td></tr></table></figure>
<h5 id="2-8-æµ‹è¯•å®•æœº"><a href="#2-8-æµ‹è¯•å®•æœº" class="headerlink" title="2.8 æµ‹è¯•å®•æœº"></a>2.8 <strong>æµ‹è¯•å®•æœº</strong></h5><p>â€‹    æŸ¥çœ‹redisè¿›ç¨‹å·</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ps aux|grep redis</span><br></pre></td></tr></table></figure>
<p>â€‹    æ€æ­»ä¸»è¿›ç¨‹å·</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># kill -9 è¿›ç¨‹å·</span><br></pre></td></tr></table></figure>
<p>â€‹    æŸ¥çœ‹æ—¥å¿—ï¼ŒçŸ­æš‚å»¶è¿Ÿåä¼šå‘ç°ï¼Œå‡ºç°æ–°çš„ä¸»ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cat 26379.log</span><br></pre></td></tr></table></figure>
<h2 id="é›†ç¾¤ï¼ˆClusterï¼‰"><a href="#é›†ç¾¤ï¼ˆClusterï¼‰" class="headerlink" title="é›†ç¾¤ï¼ˆClusterï¼‰"></a>é›†ç¾¤ï¼ˆClusterï¼‰</h2><p>â€‹    å‰æï¼šå·²ç»å®‰è£…å¥½rediså•æœºç‰ˆã€‚</p>
<p>â€‹    å½“é›†ç¾¤ä¸­è¶…è¿‡æˆ–ç­‰äº1/2èŠ‚ç‚¹ä¸å¯ç”¨æ—¶ï¼Œæ•´ä¸ªé›†ç¾¤ä¸å¯ç”¨ã€‚ä¸ºäº†æ­å»ºç¨³å®šé›†ç¾¤ï¼Œéƒ½é‡‡ç”¨å¥‡æ•°èŠ‚ç‚¹ã€‚</p>
<h4 id="1-å¤åˆ¶redisé…ç½®æ–‡ä»¶"><a href="#1-å¤åˆ¶redisé…ç½®æ–‡ä»¶" class="headerlink" title="1 .å¤åˆ¶redisé…ç½®æ–‡ä»¶"></a>1 .<strong>å¤åˆ¶redisé…ç½®æ–‡ä»¶</strong></h4><p>â€‹    ä»/usr/local/redis/binä¸‹æŠŠredis.confå¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸­ï¼Œå‘½åä¸ºredis-7001.conf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cp /usr/local/redis/bin/redis.conf /usr/local/redis/bin/redis-7001.conf</span><br></pre></td></tr></table></figure>
<h4 id="2-ä¿®æ”¹redis-7001-conf"><a href="#2-ä¿®æ”¹redis-7001-conf" class="headerlink" title="2. ä¿®æ”¹redis-7001.conf"></a>2. <strong>ä¿®æ”¹redis-7001.conf</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /usr/local/redis/bin</span><br><span class="line"># vim redis-7001.conf</span><br></pre></td></tr></table></figure>
<p>â€‹    éœ€è¦ä¿®æ”¹å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">port 7001</span><br><span class="line">cluster-enabled yes</span><br><span class="line">cluster-config-file nodes-7001.conf</span><br><span class="line">cluster-node-timeout 15000</span><br><span class="line"># appendonly yes å¦‚æœå¼€å¯aofé»˜è®¤ï¼Œéœ€è¦ä¿®æ”¹ä¸ºyesã€‚å¦‚æœä½¿ç”¨rdbï¼Œæ­¤å¤„ä¸éœ€è¦ä¿®æ”¹</span><br><span class="line">daemonize yes</span><br><span class="line">protected-mode no</span><br><span class="line">pidfile /var/run/redis_7001.pid</span><br></pre></td></tr></table></figure>
<h4 id="3-å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹å†…å®¹"><a href="#3-å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹å†…å®¹" class="headerlink" title="3 .å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹å†…å®¹"></a>3 .<strong>å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹å†…å®¹</strong></h4><p>â€‹    æŠŠredis-7001.conf å¤åˆ¶5ä»½ï¼Œåˆ†åˆ«å«åšredis-7002.confã€redis-7003.confã€redis-7004.confã€redis-7005.confã€redis-7006.conf </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># cp redis-7001.conf redis-7002.conf</span><br><span class="line"># cp redis-7001.conf redis-7003.conf</span><br><span class="line"># cp redis-7001.conf redis-7004.conf</span><br><span class="line"># cp redis-7001.conf redis-7005.conf</span><br><span class="line"># cp redis-7001.conf redis-7006.conf</span><br></pre></td></tr></table></figure>
<pre><code> æ–°å¤åˆ¶çš„5ä¸ªé…ç½®æ–‡ä»¶éƒ½éœ€è¦éœ€æ”¹ä¸‰å¤„ã€‚
</code></pre><p>â€‹    ä¾‹å¦‚nodes-7002.confä¸­éœ€è¦æŠŠæ‰€æœ‰7001éƒ½æ¢æˆ7002ã€‚</p>
<p>â€‹    å¯ä»¥ä½¿ç”¨ :%s/7001/7002/g è¿›è¡Œå…¨å±€ä¿®æ”¹ã€‚ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">port 7002</span><br><span class="line">cluster-config-file nodes-7002.conf</span><br><span class="line">pidfile /var/run/redis_7002.pid</span><br></pre></td></tr></table></figure>
<h4 id="4-å¯åŠ¨6ä¸ªredis"><a href="#4-å¯åŠ¨6ä¸ªredis" class="headerlink" title="4 .å¯åŠ¨6ä¸ªredis"></a>4 .<strong>å¯åŠ¨6ä¸ªredis</strong></h4><p>â€‹    å¯ä»¥ä½¿ç”¨redis-serverç»“åˆ6ä¸ªé…ç½®æ–‡ä»¶è¿›è¡Œå¯åŠ¨6ä¸ªå®ä¾‹ã€‚</p>
<p>â€‹    æ‰§è¡Œä¹‹å‰ä¸€å®šè¦å…ˆåˆ é™¤dump.rdb</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># rm -f dump.rdb</span><br><span class="line"># vim startup.sh</span><br><span class="line"></span><br><span class="line">./redis-server redis-7001.conf</span><br><span class="line">./redis-server redis-7002.conf</span><br><span class="line">./redis-server redis-7003.conf</span><br><span class="line">./redis-server redis-7004.conf</span><br><span class="line">./redis-server redis-7005.conf</span><br><span class="line">./redis-server redis-7006.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># chmod a+x startup.sh</span><br><span class="line"># ./startup.sh</span><br></pre></td></tr></table></figure>
<h4 id="5-æŸ¥çœ‹å¯åŠ¨çŠ¶æ€"><a href="#5-æŸ¥çœ‹å¯åŠ¨çŠ¶æ€" class="headerlink" title="5. æŸ¥çœ‹å¯åŠ¨çŠ¶æ€"></a>5. <strong>æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</strong></h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-10.jpg" alt=""></p>
<h4 id="6-å»ºç«‹é›†ç¾¤"><a href="#6-å»ºç«‹é›†ç¾¤" class="headerlink" title="6. å»ºç«‹é›†ç¾¤"></a>6. <strong>å»ºç«‹é›†ç¾¤</strong></h4><p>â€‹    åœ¨redis3çš„æ—¶å€™éœ€è¦å€ŸåŠ©rubyè„šæœ¬å®ç°é›†ç¾¤ã€‚åœ¨redis5ä¸­å¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„redis-cliå®ç°é›†ç¾¤åŠŸèƒ½ï¼Œæ¯”redis3çš„æ—¶å€™æ›´åŠ æ–¹ä¾¿äº†ã€‚</p>
<p>â€‹    å»ºè®®é…ç½®é™æ€ipï¼Œipæ”¹å˜é›†ç¾¤å¤±æ•ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./redis-cli --cluster create 192.168.93.10:7001 192.168.93.10:7002 192.168.93.10:7003 192.168.93.10:7004 192.168.93.10:7005 192.168.93.10:7006 --cluster-replicas 1</span><br></pre></td></tr></table></figure>
<h4 id="7-æµ‹è¯•"><a href="#7-æµ‹è¯•" class="headerlink" title="7. æµ‹è¯•"></a>7. <strong>æµ‹è¯•</strong></h4><p>â€‹    é›†ç¾¤æµ‹è¯•æ—¶ï¼Œåƒä¸‡ä¸è¦å¿˜è®°æœ€åä¸€ä¸ª-cå‚æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ./redis-cli -p 7001 -c</span><br><span class="line"># set age 18</span><br></pre></td></tr></table></figure>
<h4 id="8-ç¼–å†™å…³é—­è„šæœ¬"><a href="#8-ç¼–å†™å…³é—­è„šæœ¬" class="headerlink" title="8 .ç¼–å†™å…³é—­è„šæœ¬"></a>8 .<strong>ç¼–å†™å…³é—­è„šæœ¬</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># vim stop.sh</span><br><span class="line"># chmod a+x stop.sh</span><br><span class="line"></span><br><span class="line">./redis-cli -p 7001 shutdown</span><br><span class="line">./redis-cli -p 7002 shutdown</span><br><span class="line">./redis-cli -p 7003 shutdown</span><br><span class="line">./redis-cli -p 7004 shutdown</span><br><span class="line">./redis-cli -p 7005 shutdown</span><br><span class="line">./redis-cli -p 7006 shutdown</span><br></pre></td></tr></table></figure>
<h2 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a><strong>Jedis</strong></h2><p>â€‹    Redisç»™Javaè¯­è¨€æä¾›äº†å®¢æˆ·ç«¯APIï¼Œç§°ä¹‹ä¸ºJedisã€‚</p>
<p>â€‹    Jedis APIå’ŒRedis å‘½ä»¤å‡ ä¹æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>â€‹    ä¾‹å¦‚ï¼šRediså¯¹Stringå€¼æ–°å¢æ—¶setå‘½ä»¤ï¼ŒJedisä¸­ä¹Ÿæ˜¯setæ–¹æ³•ã€‚æ‰€ä»¥æœ¬è¯¾ç¨‹ä¸­æ²¡æœ‰é‡ç‚¹æŠŠæ‰€æœ‰æ–¹æ³•è¿›è¡Œæ¼”ç¤ºï¼Œé‡è¦æ¼”ç¤ºJediså¦‚ä½•ä½¿ç”¨ã€‚</p>
<p>â€‹    Jedis APIç‰¹åˆ«ç®€å•ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åˆ›å»ºå¯¹è±¡è°ƒç”¨æ–¹æ³•å³å¯ã€‚</p>
<h4 id="1-å•æœºç‰ˆ"><a href="#1-å•æœºç‰ˆ" class="headerlink" title="1. å•æœºç‰ˆ"></a>1. <strong>å•æœºç‰ˆ</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public void testStandalone()&#123;</span><br><span class="line">    Jedis jedis = new Jedis(&quot;192.168.93.10&quot;,6379);</span><br><span class="line">    jedis.set(&quot;name&quot;,&quot;msb-standalone&quot;);</span><br><span class="line">    String value = jedis.get(&quot;name&quot;);</span><br><span class="line">    System.out.println(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-å¸¦æœ‰è¿æ¥æ± "><a href="#2-å¸¦æœ‰è¿æ¥æ± " class="headerlink" title="2. å¸¦æœ‰è¿æ¥æ± "></a>2. <strong>å¸¦æœ‰è¿æ¥æ± </strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public void testPool()&#123;</span><br><span class="line">    JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();</span><br><span class="line">    jedisPoolConfig.setMaxTotal(20);</span><br><span class="line">    jedisPoolConfig.setMaxIdle(5);</span><br><span class="line">    jedisPoolConfig.setMinIdle(3);</span><br><span class="line">    JedisPool jedisPool = new JedisPool(jedisPoolConfig,&quot;192.168.93.10&quot;,6379);</span><br><span class="line">    Jedis jedis = jedisPool.getResource();</span><br><span class="line">    jedis.set(&quot;name&quot;,&quot;msb-pool&quot;);</span><br><span class="line">    String value = jedis.get(&quot;name&quot;);</span><br><span class="line">    System.out.println(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-é›†ç¾¤"><a href="#3-é›†ç¾¤" class="headerlink" title="3. é›†ç¾¤"></a>3. <strong>é›†ç¾¤</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public void testCluster()&#123;</span><br><span class="line">    Set&lt;HostAndPort&gt; set = new HashSet&lt;&gt;();</span><br><span class="line">    set.add(new HostAndPort(&quot;192.168.93.10&quot;,7001));</span><br><span class="line">    set.add(new HostAndPort(&quot;192.168.93.10&quot;,7002));</span><br><span class="line">    set.add(new HostAndPort(&quot;192.168.93.10&quot;,7003));</span><br><span class="line">    set.add(new HostAndPort(&quot;192.168.93.10&quot;,7004));</span><br><span class="line">    set.add(new HostAndPort(&quot;192.168.93.10&quot;,7005));</span><br><span class="line">    set.add(new HostAndPort(&quot;192.168.93.10&quot;,7006));</span><br><span class="line">    JedisCluster jedisCluster = new JedisCluster(set);</span><br><span class="line">    jedisCluster.set(&quot;name&quot;,&quot;bjmsb&quot;);</span><br><span class="line">    String value = jedisCluster.get(&quot;name&quot;);</span><br><span class="line">    System.out.println(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨SpringBootæ•´åˆSpringDataRedisæ“ä½œredis"><a href="#ä½¿ç”¨SpringBootæ•´åˆSpringDataRedisæ“ä½œredis" class="headerlink" title="ä½¿ç”¨SpringBootæ•´åˆSpringDataRedisæ“ä½œredis"></a><strong>ä½¿ç”¨SpringBootæ•´åˆSpringDataRedisæ“ä½œredis</strong></h2><p>â€‹    Spring Dataæ˜¯Springå…¬å¸çš„é¡¶çº§é¡¹ç›®ï¼Œé‡Œé¢åŒ…å«äº†Nå¤šä¸ªäºŒçº§å­é¡¹ç›®ï¼Œè¿™äº›å­é¡¹ç›®éƒ½æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„é¡¹ç›®ã€‚æ¯ä¸ªå­é¡¹ç›®æ˜¯å¯¹ä¸åŒAPIçš„å°è£…ã€‚</p>
<p>â€‹    æ‰€æœ‰Spring Bootæ•´åˆSpring Data xxxxçš„å¯åŠ¨å™¨éƒ½å«åšspring-boot-starter-data-xxxx</p>
<p>â€‹    Spring Data å¥½å¤„å¾ˆæ–¹ä¾¿æ“ä½œå¯¹è±¡ç±»å‹ã€‚</p>
<p>â€‹    æŠŠRedisä¸åŒå€¼å¾—ç±»å‹æ”¾åˆ°ä¸€ä¸ªopsForXXXæ–¹æ³•ä¸­ã€‚</p>
<p>â€‹        opsForValue : Stringå€¼</p>
<p>â€‹        opsForList : åˆ—è¡¨List</p>
<p>â€‹        opsForHash: å“ˆå¸Œè¡¨Hash</p>
<p>â€‹        opsForZSet: æœ‰åºé›†åˆSorted Set</p>
<p>â€‹        opsForSet : é›†åˆ</p>
<h4 id="1-æ·»åŠ ä¾èµ–"><a href="#1-æ·»åŠ ä¾èµ–" class="headerlink" title="1. æ·»åŠ ä¾èµ–"></a>1. <strong>æ·»åŠ ä¾èµ–</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/parent&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>
<h4 id="2-é…ç½®é…ç½®æ–‡ä»¶"><a href="#2-é…ç½®é…ç½®æ–‡ä»¶" class="headerlink" title="2. é…ç½®é…ç½®æ–‡ä»¶"></a>2. <strong>é…ç½®é…ç½®æ–‡ä»¶</strong></h4><p>â€‹    spring.redis.host=localhost é»˜è®¤å€¼</p>
<p>â€‹    spring.redis.port=6379 ç«¯å£å·é»˜è®¤å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">  redis:</span><br><span class="line">    host: 192.168.52.133</span><br><span class="line"># cluster:</span><br><span class="line"># nodes: 192.168.93.10:7001,192.168.93.10:7002,192.168.93.10:7003,192.168.93.10:7004,192.168.93.10:7005,192.168.93.10:7006</span><br></pre></td></tr></table></figure>
<h4 id="3-ç¼–å†™é…ç½®ç±»"><a href="#3-ç¼–å†™é…ç½®ç±»" class="headerlink" title="3.ç¼–å†™é…ç½®ç±»"></a>3.<strong>ç¼–å†™é…ç½®ç±»</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class RedisConfig &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public RedisTemplate&lt;String,Object&gt; redisTemplate(RedisConnectionFactory 		  factory)&#123;</span><br><span class="line">        RedisTemplate&lt;String,Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();</span><br><span class="line">        redisTemplate.setConnectionFactory(factory);</span><br><span class="line">        redisTemplate.setKeySerializer(new StringRedisSerializer());</span><br><span class="line">        redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;Object&gt;(Object.class));</span><br><span class="line">        return redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-ç¼–å†™ä»£ç "><a href="#4-ç¼–å†™ä»£ç " class="headerlink" title="4. ç¼–å†™ä»£ç "></a>4. <strong>ç¼–å†™ä»£ç </strong></h4><h5 id="4-1-ç¼–å†™å¯¹è±¡æ–°å¢"><a href="#4-1-ç¼–å†™å¯¹è±¡æ–°å¢" class="headerlink" title="4.1 ç¼–å†™å¯¹è±¡æ–°å¢"></a>4.1 <strong>ç¼–å†™å¯¹è±¡æ–°å¢</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">private RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void testString() &#123;</span><br><span class="line">    People peo = new People(1, &quot;å¼ ä¸‰&quot;);</span><br><span class="line">    redisTemplate.opsForValue().set(&quot;peo1&quot;, peo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-2-ç¼–å†™å¯¹è±¡è·å–"><a href="#4-2-ç¼–å†™å¯¹è±¡è·å–" class="headerlink" title="4.2 ç¼–å†™å¯¹è±¡è·å–"></a>4.2 <strong>ç¼–å†™å¯¹è±¡è·å–</strong></h5><p>æ­¤å¤„å¿…é¡»ç¼–å†™å€¼åºåˆ—åŒ–å™¨ã€‚ä¸æŒ‡å®šæ—¶è¿”å›ç±»å‹ä¸ºLinkedHashMap</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testGetString() &#123;</span><br><span class="line">    redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;People&gt;(People.class));</span><br><span class="line">    People peo = (People) redisTemplate.opsForValue().get(&quot;peo1&quot;);</span><br><span class="line">    System.out.println(peo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-3-ç¼–å†™List"><a href="#4-3-ç¼–å†™List" class="headerlink" title="4.3 ç¼–å†™List"></a>4.3 <strong>ç¼–å†™List</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testList() &#123;</span><br><span class="line">    List&lt;People&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">    list.add(new People(1, &quot;å¼ ä¸‰&quot;));</span><br><span class="line">    list.add(new People(2, &quot;æå››&quot;));</span><br><span class="line">    redisTemplate.opsForValue().set(&quot;list2&quot;, list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-4-ç¼–å†™Listå–å€¼"><a href="#4-4-ç¼–å†™Listå–å€¼" class="headerlink" title="4.4 ç¼–å†™Listå–å€¼"></a>4.4 <strong>ç¼–å†™Listå–å€¼</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testGetList()&#123;</span><br><span class="line">    redisTemplate.setValueSerializer(new Jackson2JsonRedisSerializer&lt;List&gt;(List.class));</span><br><span class="line">    List&lt;People&gt; list2 = (List&lt;People&gt;) redisTemplate.opsForValue().get(&quot;list2&quot;);</span><br><span class="line">    System.out.println(list2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨Redisæ•ˆæœ"><a href="#ä½¿ç”¨Redisæ•ˆæœ" class="headerlink" title="ä½¿ç”¨Redisæ•ˆæœ"></a><strong>ä½¿ç”¨Redisæ•ˆæœ</strong></h2><p>â€‹    ä½¿ç”¨ç¼“å­˜æµç¨‹</p>
<p>â€‹    1. å…ˆåˆ¤æ–­ç¼“å­˜ä¸­æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœå­˜åœ¨ç›´æ¥ä»ç¼“å­˜ä¸­å–å‡ºæ•°æ®ã€‚ä¸æ‰§è¡Œ2ï¼Œ3æ­¥éª¤</p>
<p>â€‹    2. å¦‚æœä¸å­˜åœ¨ï¼Œä»mysqlä¸­è·å–æ•°æ®</p>
<p>â€‹    3. è·å–æ•°æ®åï¼ŒæŠŠæ•°æ®ç¼“å­˜åˆ°redisä¸­</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/Redis-11.jpg" alt="Redis-11"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://oyy0v0.top">oyy0v0</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://oyy0v0.top/2024/08/23/2025-11-26%20redis/">https://oyy0v0.top/2024/08/23/2025-11-26%20redis/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://oyy0v0.top" target="_blank">oyy0v0ğŸ˜¼</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/redis/">-redis</a></div><div class="post_share"><div class="social-share" data-image="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/08/23/2024-8-23%20Nginx%E5%92%8Clua%E5%92%8COpenresty%E9%AB%98%E6%80%A7%E8%83%BD%E5%AE%9E%E8%B7%B5/" title="Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ</div></div></a></div><div class="next-post pull-right"><a href="/2024/08/16/2024-8-16%20%E5%89%8D%E7%AB%AF%E9%80%9F%E9%80%9A/" title="å‰ç«¯é€Ÿé€š"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">å‰ç«¯é€Ÿé€š</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/7.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">oyy0v0</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">53</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/oyy0v0"><i class="fab fa-github"></i><span>ğŸ’•å‰å¾€å°å®¶</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/assets/QRCode.jpg" target="_blank" title="icon-weixin"><i class="å¾®ä¿¡" style="color: faa-tada;"></i></a><a class="social-icon" href="https://github.com/oyy0v0" target="_blank" title="icon-github"><i class="Github" style="color: faa-tade;"></i></a><a class="social-icon" href="mailto:2925886492@qq.com" target="_blank" title="icon-youxiang"><i class="QQé‚®ç®±" style="color: faa-tada;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">æ¬¢è¿æ¥æ¥åˆ°æˆ‘çš„åšå®¢</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Redis"><span class="toc-text">Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-Redis%E7%AE%80%E4%BB%8B"><span class="toc-text">ä¸€.Redisç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NoSQL%E7%AE%80%E4%BB%8B"><span class="toc-text">NoSQLç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Redis%E7%AE%80%E4%BB%8B"><span class="toc-text">2.Redisç®€ä»‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis%E5%8D%95%E6%9C%BA%E7%89%88%E5%AE%89%E8%A3%85"><span class="toc-text">Rediså•æœºç‰ˆå®‰è£…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis%E5%B8%B8%E7%94%A8%E7%9A%8410%E5%A4%A7%E7%B1%BB%E5%9E%8B"><span class="toc-text">Rediså¸¸ç”¨çš„10å¤§ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#String%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89"><span class="toc-text">Stringï¼ˆå­—ç¬¦ä¸²ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hash%EF%BC%88%E5%93%88%E5%B8%8C%EF%BC%89"><span class="toc-text">Hashï¼ˆå“ˆå¸Œï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Set%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89"><span class="toc-text">Setï¼ˆé›†åˆï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zset-sorted-set%EF%BC%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88"><span class="toc-text">zset(sorted setï¼šæœ‰åºé›†åˆ)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GEO%E5%9C%B0%E7%90%86%E7%A9%BA%E9%97%B4"><span class="toc-text">GEOåœ°ç†ç©ºé—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HyperLogLog-%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-text">HyperLogLog åŸºæ•°ç»Ÿè®¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bitmap-%E4%BD%8D%E5%9B%BE"><span class="toc-text">bitmap ä½å›¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bitfield-%E4%BD%8D%E5%9F%9F"><span class="toc-text">bitfield ä½åŸŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stream%E6%B5%81"><span class="toc-text">streamæµ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">Rediså¸¸ç”¨å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Key%E6%93%8D%E4%BD%9C"><span class="toc-text">1. Keyæ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-exists"><span class="toc-text">1.1  exists</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-expire"><span class="toc-text">1.2 expire</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-ttl"><span class="toc-text">1.3 ttl</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-4-del"><span class="toc-text">1.4 del</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%BC-String"><span class="toc-text">2. å­—ç¬¦ä¸²å€¼(String)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%93%88%E5%B8%8C%E8%A1%A8-Hash"><span class="toc-text">3 å“ˆå¸Œè¡¨(Hash)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%88%97%E8%A1%A8%EF%BC%88List%EF%BC%89"><span class="toc-text">4. åˆ—è¡¨ï¼ˆListï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E9%9B%86%E5%90%88-Set"><span class="toc-text">5 é›†åˆ(Set)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88-zset"><span class="toc-text">6 æœ‰åºé›†åˆ zset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E4%BD%8D%E5%9B%BE-bitmap"><span class="toc-text">7 ä½å›¾ bitmap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E5%9F%BA%E6%95%B0%E7%BB%9F%E8%AE%A1-hyperloglog"><span class="toc-text">8 åŸºæ•°ç»Ÿè®¡ hyperloglog</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E5%9C%B0%E7%90%86%E7%A9%BA%E9%97%B4-GEO"><span class="toc-text">9 åœ°ç†ç©ºé—´ GEO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-redis-%E6%B5%81-stream"><span class="toc-text">10 redis æµ stream</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E4%BD%8D%E5%9F%9F-bitfield"><span class="toc-text">11 ä½åŸŸ bitfield</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis%E6%8C%81%E4%B9%85%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-text">RedisæŒä¹…åŒ–ç­–ç•¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-RDB"><span class="toc-text">1. RDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-AOF"><span class="toc-text">2 AOF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-RDB-AOF-%E6%B7%B7%E5%90%88"><span class="toc-text">3 RDB + AOF æ··åˆ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Redis%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6"><span class="toc-text">Redisä¸»ä»å¤åˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%B8%BB%E4%BB%8E%E4%BC%98%E7%82%B9"><span class="toc-text">1. ä¸»ä»ä¼˜ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E4%B8%80%E4%B8%BB%E5%A4%9A%E4%BB%8E%E6%90%AD%E5%BB%BA"><span class="toc-text">1.1 ä¸€ä¸»å¤šä»æ­å»º</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E6%96%B0%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-text">1.2 æ–°å»ºç›®å½•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E5%A4%8D%E5%88%B6%E7%9B%AE%E5%BD%95"><span class="toc-text">1.3 å¤åˆ¶ç›®å½•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-4-%E4%BF%AE%E6%94%B9%E4%BB%8E%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">1.4 ä¿®æ”¹ä»çš„é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-%E5%90%AF%E5%8A%A8%E4%B8%89%E4%B8%AAredis%E5%AE%9E%E4%BE%8B"><span class="toc-text">1.5 å¯åŠ¨ä¸‰ä¸ªrediså®ä¾‹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-6-%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E7%8A%B6%E6%80%81"><span class="toc-text">1.6 æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-7-%E6%B5%8B%E8%AF%95"><span class="toc-text">1.7 æµ‹è¯•*</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%A8%E5%85%B5%EF%BC%88Sentinel%EF%BC%89"><span class="toc-text">å“¨å…µï¼ˆSentinelï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B2%A1%E6%9C%89%E5%93%A8%E5%85%B5%E4%B8%8B%E4%B8%BB%E4%BB%8E%E6%95%88%E6%9E%9C"><span class="toc-text">1. æ²¡æœ‰å“¨å…µä¸‹ä¸»ä»æ•ˆæœ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%90%AD%E5%BB%BA%E5%A4%9A%E5%93%A8%E5%85%B5"><span class="toc-text">2.æ­å»ºå¤šå“¨å…µ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-%E6%96%B0%E5%BB%BA%E7%9B%AE%E5%BD%95"><span class="toc-text">2.1 æ–°å»ºç›®å½•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-%E5%A4%8D%E5%88%B6redis"><span class="toc-text">2.2 å¤åˆ¶redis</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">2.3 å¤åˆ¶é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4-%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">2.4 ä¿®æ”¹é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-5-%E5%90%AF%E5%8A%A8%E4%B8%BB%E4%BB%8E"><span class="toc-text">2.5 å¯åŠ¨ä¸»ä»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6-%E5%90%AF%E5%8A%A8%E4%B8%89%E4%B8%AA%E5%93%A8%E5%85%B5"><span class="toc-text">2.6 å¯åŠ¨ä¸‰ä¸ªå“¨å…µ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-7-%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97"><span class="toc-text">2.7 æŸ¥çœ‹æ—¥å¿—</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-8-%E6%B5%8B%E8%AF%95%E5%AE%95%E6%9C%BA"><span class="toc-text">2.8 æµ‹è¯•å®•æœº</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E7%BE%A4%EF%BC%88Cluster%EF%BC%89"><span class="toc-text">é›†ç¾¤ï¼ˆClusterï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%A4%8D%E5%88%B6redis%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">1 .å¤åˆ¶redisé…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9redis-7001-conf"><span class="toc-text">2. ä¿®æ”¹redis-7001.conf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E5%B9%B6%E4%BF%AE%E6%94%B9%E5%86%85%E5%AE%B9"><span class="toc-text">3 .å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¿®æ”¹å†…å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%90%AF%E5%8A%A86%E4%B8%AAredis"><span class="toc-text">4 .å¯åŠ¨6ä¸ªredis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E7%8A%B6%E6%80%81"><span class="toc-text">5. æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%BB%BA%E7%AB%8B%E9%9B%86%E7%BE%A4"><span class="toc-text">6. å»ºç«‹é›†ç¾¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E6%B5%8B%E8%AF%95"><span class="toc-text">7. æµ‹è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E7%BC%96%E5%86%99%E5%85%B3%E9%97%AD%E8%84%9A%E6%9C%AC"><span class="toc-text">8 .ç¼–å†™å…³é—­è„šæœ¬</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jedis"><span class="toc-text">Jedis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8D%95%E6%9C%BA%E7%89%88"><span class="toc-text">1. å•æœºç‰ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B8%A6%E6%9C%89%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-text">2. å¸¦æœ‰è¿æ¥æ± </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%9B%86%E7%BE%A4"><span class="toc-text">3. é›†ç¾¤</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8SpringBoot%E6%95%B4%E5%90%88SpringDataRedis%E6%93%8D%E4%BD%9Credis"><span class="toc-text">ä½¿ç”¨SpringBootæ•´åˆSpringDataRedisæ“ä½œredis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span class="toc-text">1. æ·»åŠ ä¾èµ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AE%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">2. é…ç½®é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E7%B1%BB"><span class="toc-text">3.ç¼–å†™é…ç½®ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81"><span class="toc-text">4. ç¼–å†™ä»£ç </span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-%E7%BC%96%E5%86%99%E5%AF%B9%E8%B1%A1%E6%96%B0%E5%A2%9E"><span class="toc-text">4.1 ç¼–å†™å¯¹è±¡æ–°å¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-%E7%BC%96%E5%86%99%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96"><span class="toc-text">4.2 ç¼–å†™å¯¹è±¡è·å–</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-%E7%BC%96%E5%86%99List"><span class="toc-text">4.3 ç¼–å†™List</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-4-%E7%BC%96%E5%86%99List%E5%8F%96%E5%80%BC"><span class="toc-text">4.4 ç¼–å†™Listå–å€¼</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Redis%E6%95%88%E6%9E%9C"><span class="toc-text">ä½¿ç”¨Redisæ•ˆæœ</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By oyy0v0</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.oyy0v0.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.oyy0v0.top/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/cursor.js"></script><script async src="//at.alicdn.com/t/c/font_4658720_723un29n3vn.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer data-pjax src="/js/readPercent.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg);"> <a class="categoryBar-list-link" href="categories/åšå®¢/">åšå®¢</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">java</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg);"> <a class="categoryBar-list-link" href="categories/javaå…¥é—¨/">javaå…¥é—¨</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">ç®—æ³•</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg);"> <a class="categoryBar-list-link" href="categories/GitHub/">GitHub</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">åšå®¢</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/14.jpg);"> <a class="categoryBar-list-link" href="categories/ç®—æ³•/">ç®—æ³•</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr">AI</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg);"> <a class="categoryBar-list-link" href="categories/java/">java</a><span class="categoryBar-list-count">29</span><span class="categoryBar-list-descr">å‰ç«¯</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg);"> <a class="categoryBar-list-link" href="categories/å‰ç«¯/">å‰ç«¯</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">GitHub</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg);"> <a class="categoryBar-list-link" href="categories/AI/">AI</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">å…«è‚¡æ–‡</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg);"> <a class="categoryBar-list-link" href="categories/é¢è¯•é›†åˆ/">é¢è¯•é›†åˆ</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">é¢è¯•é›†åˆ</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg);"> <a class="categoryBar-list-link" href="categories/Goè¯­è¨€/">Goè¯­è¨€</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">Goè¯­è¨€</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg);"> <a class="categoryBar-list-link" href="categories/æ“ä½œç³»ç»Ÿ/">æ“ä½œç³»ç»Ÿ</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">Linux</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg);"> <a class="categoryBar-list-link" href="categories/è®¡ç®—æœºç½‘ç»œ/">è®¡ç®—æœºç½‘ç»œ</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">æ“ä½œç³»ç»Ÿ</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg);"> <a class="categoryBar-list-link" href="categories/è¸©å‘æ‚è®°/">è¸©å‘æ‚è®°</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">è®¡ç®—æœºç½‘ç»œ</span></li></ul></div></div>';
      console.log('å·²æŒ‚è½½butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.2.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œå¤‡ç”¨çº¿è·¯æ‰˜ç®¡äº4EVERLAND" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('å·²æŒ‚è½½butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = '8b4e8faa226f49ff851d67d0354499b7';
  var gaud_map_key = '85e43a6ba1ebb38fd12b0d8a886ecb9b';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '113.34532,23.15624';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/07/28/2025-6-18 å…«è‚¡æ–‡/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-07-28</span><a class="blog-slider__title" href="2025/07/28/2025-6-18 å…«è‚¡æ–‡/" alt="">å…«è‚¡æ–‡é›†åˆ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/07/28/2025-6-18 å…«è‚¡æ–‡/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/09/01/2024-9-1 DockeråŸºç¡€/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-09-01</span><a class="blog-slider__title" href="2024/09/01/2024-9-1 DockeråŸºç¡€/" alt="">Docker</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/09/01/2024-9-1 DockeråŸºç¡€/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/14/2025-10-14 Javaçº¿ç¨‹æ± çš„åŸç†/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-14</span><a class="blog-slider__title" href="2025/10/14/2025-10-14 Javaçº¿ç¨‹æ± çš„åŸç†/" alt="">Javaçº¿ç¨‹æ± çš„åŸç†</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/14/2025-10-14 Javaçº¿ç¨‹æ± çš„åŸç†/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/29/2024-8-29 Solr/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-29</span><a class="blog-slider__title" href="2024/08/29/2024-8-29 Solr/" alt="">Solr</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/29/2024-8-29 Solr/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/24/2024-8-24 è™šæ‹ŸæœºVMware/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-24</span><a class="blog-slider__title" href="2024/08/24/2024-8-24 è™šæ‹ŸæœºVMware/" alt="">è™šæ‹Ÿæœº</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/24/2024-8-24 è™šæ‹ŸæœºVMware/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/26/2024-11-22 é¢è¯•/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-26</span><a class="blog-slider__title" href="2024/11/26/2024-11-22 é¢è¯•/" alt="">é¢è¯•é›†åˆ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/11/26/2024-11-22 é¢è¯•/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/26/2024-11-26è®¾è®¡æ¨¡å¼/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-26</span><a class="blog-slider__title" href="2024/11/26/2024-11-26è®¾è®¡æ¨¡å¼/" alt="">è®¾è®¡æ¨¡å¼</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/11/26/2024-11-26è®¾è®¡æ¨¡å¼/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-22 å¼€å‘æµç¨‹åŒ–/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-22 å¼€å‘æµç¨‹åŒ–/" alt="">å¼€å‘æµç¨‹åŒ–</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/11/2025-3-22 å¼€å‘æµç¨‹åŒ–/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-14 Servletå…¥é—¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-14 Servletå…¥é—¨/" alt="">Servletå…¥é—¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/11/2025-3-14 Servletå…¥é—¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-14 JSP/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-14 JSP/" alt="">JSP</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/11/2025-3-14 JSP/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-14  Servletè¿›é˜¶/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-14  Servletè¿›é˜¶/" alt="">Servletè¿›é˜¶</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/11/2025-3-14  Servletè¿›é˜¶/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-11 Mavenå®æˆ˜/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-11 Mavenå®æˆ˜/" alt="">Maven</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/11/2025-3-11 Mavenå®æˆ˜/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-12 å¸¸ç”¨æ³¨è§£/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-12 å¸¸ç”¨æ³¨è§£/" alt="">å¸¸ç”¨æ³¨è§£</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/11/2025-3-12 å¸¸ç”¨æ³¨è§£/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/11/23/2025-11-23 SpringMVC/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-11-23</span><a class="blog-slider__title" href="2025/11/23/2025-11-23 SpringMVC/" alt="">SpringMVC</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/11/23/2025-11-23 SpringMVC/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/23/2025-10-23 Spring/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-23</span><a class="blog-slider__title" href="2025/10/23/2025-10-23 Spring/" alt="">Spring</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/23/2025-10-23 Spring/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/23/2025-11-26 redis/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-23</span><a class="blog-slider__title" href="2024/08/23/2025-11-26 redis/" alt="">redis</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/23/2025-11-26 redis/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/28/2025-10-28 JavaEE/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-28</span><a class="blog-slider__title" href="2025/10/28/2025-10-28 JavaEE/" alt="">JavaEE</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/28/2025-10-28 JavaEE/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/11/23/2025-11-22 Springæ”¶å½•é¢è¯•é¢˜/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-11-23</span><a class="blog-slider__title" href="2025/11/23/2025-11-22 Springæ”¶å½•é¢è¯•é¢˜/" alt="">Springé¢è¯•</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/11/23/2025-11-22 Springæ”¶å½•é¢è¯•é¢˜/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/14/2025-10-21 Dubbo/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-14</span><a class="blog-slider__title" href="2024/08/14/2025-10-21 Dubbo/" alt="">Dubbo</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/14/2025-10-21 Dubbo/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/20/2025-10-20 Mybatis/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20231208202901.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-20</span><a class="blog-slider__title" href="2024/07/20/2025-10-20 Mybatis/" alt="">Mybatis</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/20/2025-10-20 Mybatis/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/30/2025-10-30 Springæ‰©å±•ç‚¹æ¡ˆä¾‹/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-30</span><a class="blog-slider__title" href="2025/10/30/2025-10-30 Springæ‰©å±•ç‚¹æ¡ˆä¾‹/" alt="">Springæ‰©å±•ç‚¹æ¡ˆä¾‹</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/30/2025-10-30 Springæ‰©å±•ç‚¹æ¡ˆä¾‹/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/22/2025-10-22 Sentinelé™æµå’Œç†”æ–­/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-22</span><a class="blog-slider__title" href="2025/10/22/2025-10-22 Sentinelé™æµå’Œç†”æ–­/" alt="">Sentinelé™æµå’Œç†”æ–­</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/22/2025-10-22 Sentinelé™æµå’Œç†”æ–­/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/22/2025-10-22 Nettyäº†è§£/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-22</span><a class="blog-slider__title" href="2025/10/22/2025-10-22 Nettyäº†è§£/" alt="">Netty</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/22/2025-10-22 Nettyäº†è§£/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-7 Springboot/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-7 Springboot/" alt="">Springboot</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/07/2024-8-7 Springboot/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/23/2024-8-23 Nginxå’Œluaå’ŒOpenrestyé«˜æ€§èƒ½å®è·µ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-23</span><a class="blog-slider__title" href="2024/08/23/2024-8-23 Nginxå’Œluaå’ŒOpenrestyé«˜æ€§èƒ½å®è·µ/" alt="">Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/23/2024-8-23 Nginxå’Œluaå’ŒOpenrestyé«˜æ€§èƒ½å®è·µ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/16/2024-8-16 å‰ç«¯é€Ÿé€š/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-16</span><a class="blog-slider__title" href="2024/08/16/2024-8-16 å‰ç«¯é€Ÿé€š/" alt="">å‰ç«¯é€Ÿé€š</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/16/2024-8-16 å‰ç«¯é€Ÿé€š/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-9 å›ºå®šæ€è·¯è¯¦è§£/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-9 å›ºå®šæ€è·¯è¯¦è§£/" alt="">å›ºå®šæ€è·¯è¯¦è§£</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/07/2024-8-9 å›ºå®šæ€è·¯è¯¦è§£/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/12/2025-10-13 mybatisçš„æ‰§è¡ŒåŸç†/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-12</span><a class="blog-slider__title" href="2025/10/12/2025-10-13 mybatisçš„æ‰§è¡ŒåŸç†/" alt="">Mybatisçš„æ‰§è¡ŒåŸç†</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/12/2025-10-13 mybatisçš„æ‰§è¡ŒåŸç†/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-7 è¸©å‘è®°å½•/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-7 è¸©å‘è®°å½•/" alt="">è¸©å‘è®°å½•</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/07/2024-8-7 è¸©å‘è®°å½•/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/14/2024-8-14 RPCè¿œç¨‹æœåŠ¡è°ƒç”¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-14</span><a class="blog-slider__title" href="2024/08/14/2024-8-14 RPCè¿œç¨‹æœåŠ¡è°ƒç”¨/" alt="">RPCè¿œç¨‹æœåŠ¡è°ƒç”¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/14/2024-8-14 RPCè¿œç¨‹æœåŠ¡è°ƒç”¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/06/24/2025-6-24 ç®—æ³•åˆé›†/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-06-24</span><a class="blog-slider__title" href="2025/06/24/2025-6-24 ç®—æ³•åˆé›†/" alt="">ç®—æ³•åˆé›†</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/06/24/2025-6-24 ç®—æ³•åˆé›†/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/10/2025-3-9 é˜Ÿåˆ—å’Œæ ˆ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-10</span><a class="blog-slider__title" href="2025/03/10/2025-3-9 é˜Ÿåˆ—å’Œæ ˆ/" alt="">é˜Ÿåˆ—å’Œæ ˆ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/10/2025-3-9 é˜Ÿåˆ—å’Œæ ˆ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/02/2025-3-2 é“¾è¡¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-02</span><a class="blog-slider__title" href="2025/03/02/2025-3-2 é“¾è¡¨/" alt="">é“¾è¡¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/02/2025-3-2 é“¾è¡¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/23/2025-2-23 æ•°ç»„å’Œå­—ç¬¦ä¸²ï¼ˆç®—æ³•ï¼‰/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-23</span><a class="blog-slider__title" href="2025/02/23/2025-2-23 æ•°ç»„å’Œå­—ç¬¦ä¸²ï¼ˆç®—æ³•ï¼‰/" alt="">æ•°ç»„å’Œå­—ç¬¦ä¸²ï¼ˆç®—æ³•ï¼‰</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/02/23/2025-2-23 æ•°ç»„å’Œå­—ç¬¦ä¸²ï¼ˆç®—æ³•ï¼‰/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/11/04/2025-11-4 ç®—æ³•ç†è§£ï¼ˆå£è¯­åŒ–ï¼‰/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-11-04</span><a class="blog-slider__title" href="2025/11/04/2025-11-4 ç®—æ³•ç†è§£ï¼ˆå£è¯­åŒ–ï¼‰/" alt="">ç®—æ³•ç†è§£ï¼ˆå£è¯­åŒ–ï¼‰</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/11/04/2025-11-4 ç®—æ³•ç†è§£ï¼ˆå£è¯­åŒ–ï¼‰/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-11 ç®—æ³•é—®é¢˜åˆé›†/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-11 ç®—æ³•é—®é¢˜åˆé›†/" alt="">ç®—æ³•é—®é¢˜åˆé›†</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/11/2025-3-11 ç®—æ³•é—®é¢˜åˆé›†/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/02/2025-2-25 java8æ–°ç‰¹æ€§/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-02</span><a class="blog-slider__title" href="2025/03/02/2025-2-25 java8æ–°ç‰¹æ€§/" alt="">java8æ–°ç‰¹æ€§</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/03/02/2025-2-25 java8æ–°ç‰¹æ€§/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/11/07/2025-11-7 åŠ¨æ€ä»£ç†å’Œåå°„/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-11-07</span><a class="blog-slider__title" href="2025/11/07/2025-11-7 åŠ¨æ€ä»£ç†å’Œåå°„/" alt="">åŠ¨æ€ä»£ç†å’Œåå°„</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/11/07/2025-11-7 åŠ¨æ€ä»£ç†å’Œåå°„/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/10/20/2025-10-20 RPCäº†è§£/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-10-20</span><a class="blog-slider__title" href="2025/10/20/2025-10-20 RPCäº†è§£/" alt="">RPCäº†è§£</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/10/20/2025-10-20 RPCäº†è§£/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/15/2024-4-15 æ•°æ®åº“/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-15</span><a class="blog-slider__title" href="2024/04/15/2024-4-15 æ•°æ®åº“/" alt="">æ•°æ®åº“</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/15/2024-4-15 æ•°æ®åº“/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/13/2024-7-2 Vue2/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-13</span><a class="blog-slider__title" href="2024/07/13/2024-7-2 Vue2/" alt="">Vue2</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/13/2024-7-2 Vue2/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/05/14/2024-4-29 è®¡ç®—æœºç½‘ç»œ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-05-14</span><a class="blog-slider__title" href="2024/05/14/2024-4-29 è®¡ç®—æœºç½‘ç»œ/" alt="">è®¡ç®—æœºç½‘ç»œ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/05/14/2024-4-29 è®¡ç®—æœºç½‘ç»œ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/18/2024-4-20 æ“ä½œç³»ç»Ÿ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-18</span><a class="blog-slider__title" href="2024/04/18/2024-4-20 æ“ä½œç³»ç»Ÿ/" alt="">æ“ä½œç³»ç»Ÿ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/18/2024-4-20 æ“ä½œç³»ç»Ÿ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/07/06/2023-7-1Javaå°è®°/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-06</span><a class="blog-slider__title" href="2023/07/06/2023-7-1Javaå°è®°/" alt="">Javaå°è®°</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/07/06/2023-7-1Javaå°è®°/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/18/2024-4-18 JDBC/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-18</span><a class="blog-slider__title" href="2024/04/18/2024-4-18 JDBC/" alt="">JDBC</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/18/2024-4-18 JDBC/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/28/2024-4-28 goè¯­è¨€/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-28</span><a class="blog-slider__title" href="2024/04/28/2024-4-28 goè¯­è¨€/" alt="">Goè¯­è¨€</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/28/2024-4-28 goè¯­è¨€/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/08/15/2023-8-15 AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-15</span><a class="blog-slider__title" href="2023/08/15/2023-8-15 AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›/" alt="">AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/08/15/2023-8-15 AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/12/18/2023-12-18 å‰ç«¯å°è®°/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-18</span><a class="blog-slider__title" href="2023/12/18/2023-12-18 å‰ç«¯å°è®°/" alt="">å‰ç«¯å°è®°</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/12/18/2023-12-18 å‰ç«¯å°è®°/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/05/08/2023-5-8å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-05-08</span><a class="blog-slider__title" href="2023/05/08/2023-5-8å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨/" alt="">å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/05/08/2023-5-8å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/06/23/2023-6-24Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-23</span><a class="blog-slider__title" href="2023/06/23/2023-6-24Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹/" alt="">Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/06/23/2023-6-24Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/11/27/2022-11-27 æšä¸¾ç±»/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-27</span><a class="blog-slider__title" href="2022/11/27/2022-11-27 æšä¸¾ç±»/" alt="">javaseå…¥é—¨ï¼ˆæšä¸¾1ï¼‰</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2022/11/27/2022-11-27 æšä¸¾ç±»/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/12/12/2023-12-11 å»ºç«‹åšå®¢ä¿å§†æ•™ç¨‹ï¼ˆ1ï¼‰/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-12</span><a class="blog-slider__title" href="2023/12/12/2023-12-11 å»ºç«‹åšå®¢ä¿å§†æ•™ç¨‹ï¼ˆ1ï¼‰/" alt="">å»ºç«‹åšå®¢</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/12/12/2023-12-11 å»ºç«‹åšå®¢ä¿å§†æ•™ç¨‹ï¼ˆ1ï¼‰/" alt="">è¯¦æƒ…   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('å·²æŒ‚è½½gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/about/'|| '/about/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://github-api.oyy0v0.top//api?oyy0v0",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'oyy0v0')
    }
  </script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>