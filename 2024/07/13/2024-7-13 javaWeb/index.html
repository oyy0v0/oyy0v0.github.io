<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>javaWeb | oyy0v0ğŸ˜¼</title><meta name="author" content="oyy0v0"><meta name="copyright" content="oyy0v0"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="çŸ¥è¯†åˆ†äº«">
<meta property="og:type" content="article">
<meta property="og:title" content="javaWeb">
<meta property="og:url" content="https://oyy0v0.top/2024/07/13/2024-7-13%20javaWeb/index.html">
<meta property="og:site_name" content="oyy0v0ğŸ˜¼">
<meta property="og:description" content="çŸ¥è¯†åˆ†äº«">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg">
<meta property="article:published_time" content="2024-07-13T00:31:00.000Z">
<meta property="article:modified_time" content="2024-08-29T11:02:51.679Z">
<meta property="article:author" content="oyy0v0">
<meta property="article:tag" content="-javaWeb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg"><link rel="shortcut icon" href="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/%E7%8C%AB.svg"><link rel="canonical" href="https://oyy0v0.top/2024/07/13/2024-7-13%20javaWeb/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'javaWeb',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-29 19:02:51'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4658720_723un29n3vn.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/cat.css"><link rel="stylesheet" href="/css/readPercent.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://www.fomal.cc/static/css/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/7.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">48</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">17</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw icon-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw icon-biaoqian"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw icon-fenlei"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw icon-guanyu"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="oyy0v0ğŸ˜¼"><span class="site-name">oyy0v0ğŸ˜¼</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw icon-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw icon-biaoqian"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw icon-fenlei"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw icon-guanyu"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">javaWeb</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-07-13T00:31:00.000Z" title="å‘è¡¨äº 2024-07-13 08:31:00">2024-07-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-08-29T11:02:51.679Z" title="æ›´æ–°äº 2024-08-29 19:02:51">2024-08-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java%E4%B8%AD%E7%BA%A7/">javaä¸­çº§</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">52.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>225åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="javaWeb"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="javaWebç¬¬ä¸€ç‰ˆ"><a href="#javaWebç¬¬ä¸€ç‰ˆ" class="headerlink" title="javaWebç¬¬ä¸€ç‰ˆ"></a>javaWebç¬¬ä¸€ç‰ˆ</h1><blockquote>
<p>ä¸ºä»€ä¹ˆè¦æœ‰Tomcat</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240713215754626.png" alt="image-20240713215754626"></p>
<p>é‚£æˆ‘ä»¬è¿™ä¸ªåº”ç”¨æ€ä¹ˆä¼šè¢«å®¢æˆ·ç«¯è®¿é—®åˆ°å‘¢ï¼Ÿå°±éœ€è¦ç”¨åˆ°Webåº”ç”¨æœåŠ¡å™¨äº†ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬æœ‰Webåº”ç”¨æœåŠ¡å™¨ï¼Œç„¶åç¨‹åºåœ¨è¿™ä¸ªæœåŠ¡é‡Œé¢æ‰€ä»¥å°±å¯ä»¥è¢«å®¢æˆ·ç«¯è®¿é—®ï¼Œå°±åƒæ•°æ®åº“ä¸€æ ·ã€‚</p>
<p>è€Œæˆ‘ä»¬è¯´çš„Tomcatå°±æ˜¯Webåº”ç”¨æœåŠ¡å™¨ã€‚</p>
<p>å½“ç„¶è¿˜æœ‰Jboos,Jettyã€‚ã€‚ã€‚</p>
<p>æˆ‘ä»¬æŠŠå†™å¥½çš„ç¨‹åºæ”¾è¿›å»ï¼Œå…¶ä»–äººå°±èƒ½é€šè¿‡ipåœ°å€ç«¯å£å·æ¥è®¿é—®åˆ°æˆ‘ä»¬çš„javaç¨‹åºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240713220146796.png" alt="image-20240713220146796"></p>
<p>å½“ç„¶è¦åœ¨ä¸€ä¸ªå±€åŸŸç½‘é‡Œé¢ã€‚</p>
<h2 id="å®‰è£…tomcat"><a href="#å®‰è£…tomcat" class="headerlink" title="å®‰è£…tomcat"></a>å®‰è£…tomcat</h2><p>1ã€è‡ªå·±å»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…è§£å‹</p>
<p>2ã€ç„¶åè§£å‹ä¹‹åçš„æ–‡ä»¶å¤¹</p>
<p>bin   :å­˜æ”¾å„ä¸ªå¹³å°ä¸‹å¯åŠ¨å’Œåœæ­¢TomcatæœåŠ¡çš„è„šæœ¬æ–‡ä»¶</p>
<p>conf: å­˜æ”¾å„ç§TomcatæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶æ¯”å¦‚ç«¯å£å·</p>
<p>lib:é‡Œé¢æ”¾çš„å°±æ˜¯jaræ–‡ä»¶ï¼ˆä¸€äº›å·¥å…·åŒ…ï¼‰</p>
<p>logs:å­˜æ”¾æ—¥å¿—ï¼Œè®°å½•æœåŠ¡è¿è¡Œçš„æƒ…å†µã€‚</p>
<p>temp:å­˜æ”¾è¿è¡Œæ—¶çš„ä¸´æ—¶æ–‡ä»¶ã€‚æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ã€‚</p>
<p>webapps: å­˜æ”¾å…è®¸å®¢æˆ·ç«¯è®¿é—®çš„èµ„æºã€‚ï¼ˆæˆ‘ä»¬çš„javaç¨‹åºï¼‰</p>
<p>work:å­˜æ”¾Tomcatå°†JSPè½¬æ¢ä¹‹åçš„Servletæ–‡ä»¶ã€‚</p>
<h2 id="åˆ©ç”¨é›†æˆå¼€å‘ç¯å¢ƒæ“ä½œTomcat"><a href="#åˆ©ç”¨é›†æˆå¼€å‘ç¯å¢ƒæ“ä½œTomcat" class="headerlink" title="åˆ©ç”¨é›†æˆå¼€å‘ç¯å¢ƒæ“ä½œTomcat"></a>åˆ©ç”¨é›†æˆå¼€å‘ç¯å¢ƒæ“ä½œTomcat</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240713221816197.png" alt="image-20240713221816197"></p>
<p>é…ç½®å°±ä¸è®²äº†</p>
<h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><blockquote>
<p>ä»€ä¹ˆæ˜¯Servlet</p>
</blockquote>
<p>æ˜¯Java Web å¼€å‘çš„åŸºçŸ³ï¼Œä¸å¹³å°æ— å…³çš„æœåŠ¡å™¨ç»„ä»¶ï¼Œä»–æ˜¯è¿è¡Œåœ¨Servletå®¹å™¨/Tomcat/Webåº”ç”¨æœåŠ¡å™¨ä¸­ï¼Œè´Ÿè´£ä¸å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ã€‚</p>
<p>åŠŸèƒ½ï¼š</p>
<p>1ã€åˆ›å»ºå¹¶è¿”å›ç»™äºˆå®¢æˆ·è¯·æ±‚çš„åŠ¨æ€HTMLé¡µé¢</p>
<p>2ã€ä¸æ•°æ®åº“è¿›è¡Œé€šä¿¡</p>
<p>3ã€å¦‚ä½•ä½¿ç”¨Servlet</p>
<p>é¦–å…ˆServletæœ¬èº«æ˜¯ä¸€ç»„æ¥å£ï¼Œåœ¨javax.servletï¼ŒxæŒ‡çš„æ˜¯æ‰©å±•å‡ºæ¥çš„ä¸œè¥¿.</p>
<p>è‡ªå®šä¹‰ä¸€ä¸ªç±»ç„¶åå®ç°Servletæ¥å£ï¼Œè¿™ä¸ªç±»å°±å…·å¤‡äº†æ¥å—å®¢æˆ·ç«¯è¯·æ±‚ä»¥åŠåšå‡ºå“åº”çš„åŠŸèƒ½ã€‚</p>
<p>ç„¶åå°±æœ‰äº”ä¸ªæ–¹æ³•</p>
<p>init()æ–¹æ³•ï¼Œåˆå§‹åŒ–æ–¹æ³•</p>
<p>getServletConfigï¼ˆï¼‰:è·å–Servletçš„ä¿¡æ¯</p>
<p>service()ï¼šå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„æ–¹æ³•</p>
<p>getServletInfoï¼ˆï¼‰:è¿”å›å­—ç¬¦ä¸²ä¿¡æ¯</p>
<p>destory()ï¼šé”€æ¯çš„ï¼Œæ¯”å¦‚é‡Šæ”¾IOæµï¼Œæ‹¿åˆ°ä¸€äº›æ•°æ®åº“è¿æ¥å¯¹è±¡ä¹‹ç±»çš„ã€‚</p>
<p>ç„¶ååˆ›å»ºä¸ªjavaæ–‡ä»¶ï¼Œä½†æ˜¯æ€ä¹ˆè®¿é—®åˆ°æˆ‘ä»¬å†™çš„java.classæ–‡ä»¶å‘¢ï¼Ÿ</p>
<p>Tomcaté‡Œé¢æœ‰ä¸ªè§„åˆ™å°±æ˜¯WEB-INFæ˜¯ä¸å…è®¸è®¿é—®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½é€šè¿‡æ˜ å°„å»è®¿é—®æˆ‘ä»¬å†™çš„javaæ–‡ä»¶</p>
<p>åœ¨web.xmlé‡Œé¢åŠ æ˜ å°„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240713225625211.png" alt="image-20240713225625211"></p>
<p>è¿™æ ·å°±å¯ä»¥è¯·æ±‚åç«¯çš„æœåŠ¡ï¼Œé‚£æ€ä¹ˆå®ç°å¯¹å®¢æˆ·ç«¯çš„å“åº”å‘¢ï¼Ÿ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240713225828125.png" alt="image-20240713225828125"></p>
<p>è¿™ä¸¤ä¸ªå¯¹è±¡ä¸€ä¸ªæ¥å—è¯·æ±‚ä¿¡æ¯ï¼Œä¸€ä¸ªç”¨æ¥å“åº”ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬ç›´æ¥å¯¹å¯¹è±¡æ¥è¿›è¡Œæ“ä½œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240713225934126.png" alt="image-20240713225934126"></p>
<p>å½“ç„¶è¿˜æœ‰å¦ä¸€ç§é…ç½®æ–¹å¼ï¼Œè¿™æ ·å°±èƒ½ç®€åŒ–å¼€å‘</p>
<ul>
<li><p>åŸºäºXMLçš„é…ç½®æ–¹å¼</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myservlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.bitzh.test.MyServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myservlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>åŸºäºæ³¨è§£çš„æ–¹å¼</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy0v0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/7/14 - 07 - 14 - 8:32</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServlet</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½ å¥½&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>ä¸Šè¿°ä¸¤ç§é…ç½®æ–¹å¼å®Œå…¨ä¸€æ ·ï¼Œå°†ä»£ç è¿›è¡Œæ˜ å°„ï¼Œç„¶ååœ¨æµè§ˆå™¨å°±èƒ½è®¿é—®åˆ°äº†</p>
<h3 id="Servletç”Ÿå‘½å‘¨æœŸ"><a href="#Servletç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Servletç”Ÿå‘½å‘¨æœŸ"></a>Servletç”Ÿå‘½å‘¨æœŸ</h3><p>1ã€é¦–å…ˆåˆ¤æ–­å­˜åœ¨ä¸å­˜åœ¨ï¼Œä¸å­˜åœ¨æ˜¯é€šè¿‡åå°„æœºåˆ¶ï¼Œï¼ˆå…ˆåˆ©ç”¨å…¨è·¯å¾„åŠ¨æ€çš„è·å–Classç„¶åè·å–classçš„æ„é€ å™¨ç„¶åå®ä¾‹åŒ–å¯¹è±¡ï¼‰åˆ›å»ºServletå¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨ç›´æ¥ç¬¬ä¸‰æ­¥</p>
<p>2ã€ç„¶åç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™è°ƒç”¨initæ–¹æ³•ï¼Œ</p>
<p>3ã€ç„¶åæ¥ç€æ˜¯serviceæ–¹æ³•</p>
<p>4ã€å…³é—­çš„æ—¶å€™è°ƒç”¨destoryæ³•ï¼Œé‡Šæ”¾èµ„æºã€‚</p>
<h3 id="ServletConfig"><a href="#ServletConfig" class="headerlink" title="ServletConfig"></a>ServletConfig</h3><p>è¯¥æ¥å£æ˜¯ç”¨æ¥æè¿°ServletåŸºæœ¬ä¿¡æ¯çš„ã€‚</p>
<p>getServletName():ç”¨æ¥è¿”å›Servletç±»çš„å…¨ç±»å </p>
<p>getInitParameter(String key) è·å–initå‚æ•°çš„å€¼ï¼ˆweb.xml)</p>
<p>getInitParameterNames() è¿”å›æ‰€æœ‰çš„nameå€¼ï¼Œä¸€èˆ¬ç”¨ä½œéå†åˆå§‹åŒ–å‚æ•°</p>
<p>getServletContext():è¿”å›Servletçš„ä¸Šä¸‹æ–‡ï¼Œæ•´ä¸ªServletç®¡ç†è€…</p>
<p>é‡Œé¢æœ‰å¯¹åº”çš„æ–¹æ³•æ¥è·å–ä¿¡æ¯ï¼ŒgetContextPath()è·å–è·¯å¾„åï¼ŒgetServerInfo()è·å–æœåŠ¡å™¨åå­—ï¼ˆç‰ˆæœ¬å·ï¼‰ï¼Œè¿™ä¸ªä¾§é‡äºå…¨å±€ï¼ŒServletConfigä¾§é‡äºæŸä¸€ä¸ªServletå®ä¾‹</p>
<h3 id="Servletçš„å±‚æ¬¡æ¥å£"><a href="#Servletçš„å±‚æ¬¡æ¥å£" class="headerlink" title="Servletçš„å±‚æ¬¡æ¥å£"></a>Servletçš„å±‚æ¬¡æ¥å£</h3><p>Servlet  â€“&gt;GenericServletâ€“&gt;HttpServlet</p>
<p>Httpè¯·æ±‚æœ‰å¾ˆå¤šç§ç±»å‹ï¼Œå¸¸ç”¨çš„æ˜¯</p>
<p>GET è¯»å–</p>
<p>POST ä¿å­˜</p>
<p>PUT ä¿®æ”¹</p>
<p>DELETE åˆ é™¤</p>
<p>CRUD</p>
<p>doGet()æ–¹æ³•ï¼ŒdoPost()æ–¹æ³•ç­‰ç­‰ï¼Œè¿™äº›éƒ½æ˜¯åœ¨serviceä¸­åˆ†å‡ºæ¥çš„ï¼Œå¯¹äºè¯·æ±‚è¿›ä¸€æ­¥ç»†åŒ–</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240714103916002.png" alt="image-20240714103916002"></p>
<h3 id="GenericServlet"><a href="#GenericServlet" class="headerlink" title="GenericServlet"></a>GenericServlet</h3><p>è¿™é‡Œæ˜¯å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿ</p>
<p>è¿™ä¸ªæ˜¯å±è”½å…¶ä»–å››ä¸ªä¸éœ€è¦ç”¨çš„æ–¹æ³•ï¼Œç„¶ååˆ†å‘doGetå’ŒdoPostæ–¹æ³•ã€‚</p>
<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><p>JSPæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServletï¼ŒJSPä¸»è¦æ˜¯è´Ÿè´£ä¸ç”¨æˆ·äº¤äº’ï¼Œå°†æœ€ç»ˆçš„ç•Œé¢å‘ˆç°ç»™ç”¨æˆ·ï¼ŒHTML+JS+CSS+Javaçš„æ··åˆæ–‡ä»¶ã€‚</p>
<p>åªæœ‰Servletçš„æ—¶å€™è¦è¿”å›ä¸€ä¸ªé¡µé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240714113625662.png" alt="image-20240714113625662"></p>
<p>å¾ˆéº»çƒ¦æ‰€ä»¥å°±æ¥äº†JSPã€‚JSPä¼šå…ˆè§£ææˆjavaæ–‡ä»¶ç„¶åç¼–è¯‘æˆ.classæ–‡ä»¶å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªServletè‡ªåŠ¨çš„ç”Ÿæˆwriteæ–¹æ³•ã€‚</p>
<p>é‚£æˆ‘ä»¬ç›´æ¥å†™htmlèƒ½ç›´æ¥è®¿é—®å—ï¼Ÿä¹Ÿæ˜¯å¯ä»¥çš„ã€‚é‚£æ—¢ç„¶htmlå¯ä»¥ä½†æ˜¯ä¸ºä»€ä¹ˆè¦JSPå‘¢ï¼Ÿå› ä¸ºæœ‰äº›é¡µé¢éœ€è¦æ•°æ®ä¸æ˜¯é™æ€çš„é¡µé¢ï¼Œå°±æ˜¯æŠŠjavaå¤„ç†çš„ä¸œè¥¿åŠ å…¥åˆ°é¡µé¢é‡Œé¢ï¼Œåªæœ‰åœ¨JSPé‡Œé¢å¯ä»¥ã€‚</p>
<p>å½“æœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ªåç¼€æ˜¯jspçš„è¯·æ±‚æ˜¯ï¼Œå°±ä¼šå°†è¯·æ±‚äº¤ç»™jsoå¼•æ“å»å¤„ç†ï¼Œæ¯ä¸ªJSPé¡µé¢ç¬¬ä¸€æ¬¡è¢«è®¿é—®çš„æ—¶å€™ï¼Œå°±ä¼šç¿»è¯‘æˆä¸€ä¸ªServletæ–‡ä»¶ï¼Œå†ç”±Webå®¹å™¨è°ƒç”¨Servletå®Œæˆå“åº”</p>
<p>å•çº¯ä»å¼€å‘çš„è§’åº¦æ¥çœ‹ï¼ŒJSPå°±æ˜¯åœ¨HTMLä¸­åµŒå…¥javaç¨‹åºã€‚</p>
<p>å…·ä½“çš„åµŒå…¥æ–¹å¼æœ‰3ç§ï¼š</p>
<p>1ã€JSPè„šæœ¬ï¼Œæ‰§è¡Œjavaé€»è¾‘ä»£ç </p>
<ul>
<li><p>```jsp<br>  &lt;% javaä»£ç  %&gt;</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	&lt;%è¿™é‡Œçš„ä»£ç ä¸ä¼šè½¬æ¢%&gt;</span><br><span class="line"></span><br><span class="line">- 2ã€JSPå£°æ˜</span><br><span class="line"></span><br><span class="line">	```jsp</span><br><span class="line">	&lt;%!</span><br><span class="line">	 public String test()&#123;</span><br><span class="line">	 	return &quot;hello world&quot;</span><br><span class="line">	 &#125;</span><br><span class="line">	%&gt;</span><br></pre></td></tr></table></figure>
<p>  ä½†æ˜¯è¿™é‡Œåªèƒ½å£°æ˜æ–¹æ³•è°ƒç”¨æ–¹æ³•è¿˜æ˜¯åªèƒ½ç”¨ç¬¬ä¸€ç§</p>
  <figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	System.out.println(test())</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>JSPè¡¨è¾¾å¼ï¼šæŠŠjavaå¯¹è±¡ç›´æ¥è¾“å‡ºåˆ°HTMLä¸­</li>
</ul>
<pre><code><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%= javaå˜é‡%&gt;</span><br></pre></td></tr></table></figure>
</code></pre><h3 id="JSPå†…ç½®å¯¹è±¡9ä¸ª"><a href="#JSPå†…ç½®å¯¹è±¡9ä¸ª" class="headerlink" title="JSPå†…ç½®å¯¹è±¡9ä¸ª"></a>JSPå†…ç½®å¯¹è±¡9ä¸ª</h3><p>request :è¡¨ç¤ºä¸€æ¬¡è¯·æ±‚ï¼ŒHttpServletRequest</p>
<p>response: è¡¨ç¤ºä¸€æ¬¡å“åº”,HttpServletResponse</p>
<p>pageContext: é¡µé¢ä¸Šä¸‹æ–‡ï¼Œè·å–é¡µé¢ä¿¡æ¯ï¼ŒPageContext.</p>
<p>session:è¡¨ç¤ºä¸€æ¬¡ä¼šè¯ï¼Œä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼ŒHttpSession</p>
<p>application: ServletContextï¼Œè¡¨ç¤ºWebåº”ç”¨ï¼Œå…¨å±€å¯¹è±¡ï¼Œä¿å­˜æ‰€æœ‰ç”¨æˆ·å…±äº«ä¿¡æ¯ã€‚</p>
<p>configï¼šå½“å‰JSPå¯¹åº”çš„Servletçš„ServletConfigå¯¹è±¡ï¼Œå¯ä»¥è·å–å½“å‰Servletä¿¡æ¯ï¼Œ</p>
<p>outï¼šå‘æµè§ˆå™¨è¾“å‡ºæ•°æ®ï¼ŒJspWriter</p>
<p>page:å½“å‰Jspå¯¹åº”çš„Servletå¯¹è±¡</p>
<p>excerptionï¼šJSPé¡µé¢å‘ç”Ÿçš„å¼‚å¸¸ï¼ŒException</p>
<p>å¸¸ç”¨çš„æ˜¯request\response\session\application\pageContext</p>
<p><strong>requestå¸¸ç”¨çš„æ–¹æ³•</strong></p>
<p>1ã€getParameter(String key)</p>
<p>2ã€void setAttribute(String key,Object value) é€šè¿‡é”®å€¼å¯¹çš„å½¢å¼ä¿å­˜æ•°æ®</p>
<p>3ã€Object getAttribute(Object value)</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240714152422309.png" alt="image-20240714152422309"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240714152839104.png" alt="image-20240714152839104"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240714152847646.png" alt="image-20240714152847646"></p>
<p>4ã€RequestDispatcher  getRequestDispatcher(String path)è¿”å›ä¸€ä¸ªRequestDispatcher å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„forwordæ–¹æ³•ç”¨äºè¯·æ±‚è½¬å‘ã€‚</p>
<p>5ã€String[] getParameterValues() è·å–å®¢æˆ·ç«¯ä¼ æ¥çš„å¤šä¸ªåŒåå‚æ•°</p>
<p>6ã€ void setCharacterEncoding(String charset) æŒ‡å®šæ¯ä¸ªè¯·æ±‚çš„ç¼–ç </p>
<h3 id="Httpè¯·æ±‚çŠ¶æ€ç "><a href="#Httpè¯·æ±‚çŠ¶æ€ç " class="headerlink" title="Httpè¯·æ±‚çŠ¶æ€ç "></a>Httpè¯·æ±‚çŠ¶æ€ç </h3><p>200ï¼šæ­£å¸¸</p>
<p>404: èµ„æºæ‰¾ä¸åˆ°</p>
<p>400ï¼šè¯·æ±‚ç±»å‹ä¸åŒ¹é…</p>
<p>500ï¼šjavaç¨‹åºæŠ›å‡ºå¼‚å¸¸</p>
<h3 id="responseå¸¸ç”¨æ–¹æ³•"><a href="#responseå¸¸ç”¨æ–¹æ³•" class="headerlink" title="responseå¸¸ç”¨æ–¹æ³•"></a>responseå¸¸ç”¨æ–¹æ³•</h3><p>1ã€sendRedirect(String path) //é‡å®šå‘ï¼Œé¡µé¢ä¹‹é—´çš„è·³è½¬ã€‚</p>
<p>è¿™ä¸ªå’Œä¸Šé¢é‚£ä¸ªçš„åŒºåˆ«å°±æ˜¯è¿™ä¸ªä¸èƒ½ä¼ è¾“æ•°æ®ï¼é¡µé¢å¯ä»¥è·³è½¬ã€‚</p>
<p>è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«ï¼šè½¬å‘getRequestDispatcher(String path)å’Œé‡å®šå‘sendRedirect(String path)ï¼Œ</p>
<p>è½¬å‘æ˜¯å°†åŒä¸€ä¸ªè¯·æ±‚ä¼ ç»™ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œé‡å®šå‘æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚ä¼ ç»™ä¸‹ä¸€ä¸ªé¡µé¢ã€‚</p>
<p>è½¬å‘ï¼šåŒä¸€ä¸ªè¯·æ±‚åœ¨æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ï¼Œåœ°å€æ ä¸å˜ï¼Œé¡µè„šæœåŠ¡è·³è½¬ã€‚</p>
<p>é‡å®šå‘ï¼šç”±å®¢æˆ·ç«¯å‘é€ä¸€æ¬¡æ–°çš„è¯·æ±‚æ¥è®¿é—®è·³è½¬åçš„ç›®æ ‡èµ„æºï¼Œåœ°å€æ æ”¹å˜ï¼Œä¹Ÿå«å®¢æˆ·ç«¯è·³è½¬</p>
<p>å¦‚æœä¸¤ä¸ªé¡µé¢ä¹‹é—´éœ€è¦requestæ¥ä¼ å€¼ï¼Œåˆ™å¿…é¡»ä½¿ç”¨è½¬å‘ï¼Œä¸èƒ½ä½¿ç”¨é‡å®šå‘ã€‚</p>
<p>ç”¨æˆ·ç™»å½•ï¼Œå¦‚æœç”¨æˆ·åå’Œå¯†ç æ­£ç¡®ï¼Œåˆ™è·³è½¬åˆ°é¦–é¡µï¼ˆè½¬å‘ï¼‰ï¼Œå¹¶ä¸”å±•ç¤ºç”¨æˆ·åï¼Œå¦åˆ™é‡æ–°å›åˆ°ç™»å½•é¡µé¢ï¼ˆé‡å®šå‘ï¼‰ã€‚</p>
<p>ç™»å½•ç•Œé¢</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">7</span>/<span class="number">14</span></span><br><span class="line">  Time: <span class="number">23</span>:<span class="number">39</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;/check.jsp&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        ç”¨æˆ·åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> /&gt;&lt;br/&gt;</span><br><span class="line">        å¯†ç ï¼š&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>check.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">7</span>/<span class="number">14</span></span><br><span class="line">  Time: <span class="number">23</span>:<span class="number">58</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(username.equals(<span class="string">&quot;admin&quot;</span>) &amp;&amp; password.equals(<span class="string">&quot;123123&quot;</span>))&#123;</span><br><span class="line">        request.setAttribute(<span class="string">&quot;name&quot;</span>,username);</span><br><span class="line">        request.getRequestDispatcher(<span class="string">&quot;welcome.jsp&quot;</span>).forward(request,response);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        response.sendRedirect(<span class="string">&quot;login.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸»é¡µé¢</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">7</span>/<span class="number">15</span></span><br><span class="line">  Time: <span class="number">0</span>:<span class="number">03</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">  %&gt;</span><br><span class="line">æ¬¢è¿å›æ¥&lt;%=name%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><p>å®Œæˆç”¨æˆ·ä¼šè¯çš„ã€‚</p>
<p>æœåŠ¡å™¨æ— æ³•è¯†åˆ«æ¯ä¸€æ¬¡HTTPè¯·æ±‚çš„å‡ºå¤„ï¼ˆä¸çŸ¥é“æ¥è‡ªäºé‚£ä¸ªç»ˆç«¯ï¼‰ä»–åªä¼šæ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚ä¿¡å·ï¼Œæ‰€ä»¥è¯´å°±å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæœ‰å¯èƒ½å°†ç”¨æˆ·çš„å“åº”å‘é€ç»™å…¶ä»–äººï¼Œå¿…é¡»æœ‰ä¸€ç§æŠ€æœ¯æ¥è®©æœåŠ¡å™¨çŸ¥é“è¯·æ±‚æ¥è‡ªäºå“ªé‡Œï¼Œè¿™å°±æ˜¯ä¼šè¯æŠ€æœ¯ã€‚</p>
<p>ä¼šè¯ï¼šå°±æ˜¯æµè§ˆå™¨æˆ–è€…å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å‘ç”Ÿçš„ä¸€ç³»åˆ—è¿ç»­çš„è¯·æ±‚å’Œå“åº”çš„è¿‡ç¨‹ï¼Œæ‰“å¼€æµè§ˆå™¨è¿›è¡Œæ“ä½œåˆ°å…³é—­æµè§ˆå™¨çš„è¿‡ç¨‹ã€‚</p>
<p>ä¼šè¯çŠ¶æ€ï¼šæŒ‡æœåŠ¡å™¨å’Œæµè§ˆå™¨åœ¨ä¼šè¯è¿‡ç¨‹ä¸­äº§ç”Ÿçš„çŠ¶æ€ä¿¡æ¯ï¼Œå€ŸåŠ©äºä¼šè¯çš„çŠ¶æ€ï¼ŒæœåŠ¡å™¨èƒ½å¤ŸæŠŠå±äºåŒä¸€æ¬¡ä¼šè¯çš„è¯·æ±‚å’Œå“åº”å…³è”èµ·æ¥ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240715002144965.png" alt="image-20240715002144965"></p>
<p>å®ç°ä¼šè¯æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>sessionï¼ˆåœ¨æœåŠ¡å™¨ä¸­è®°å½•çš„ï¼‰</li>
<li>cookie(ä½œç”¨äºå®¢æˆ·ç«¯çš„)</li>
</ul>
<p>ä½†æ˜¯cookieä¸æ˜¯å†…ç½®å¯¹è±¡ï¼Œå†…ç½®å¯¹è±¡æ˜¯session</p>
<p>å±äºåŒä¸€æ¬¡ä¼šè¯çš„è¯·æ±‚éƒ½æœ‰ä¸€ä¸ªç›¸åŒçš„æ ‡è¯†ç¬¦ï¼ŒsessionID</p>
<p>sessionå¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<p>String getId(); è·å–åˆ°å½“å‰çš„sessionID</p>
<p>void setMaxINactivetInterval(int interval) è®¾ç½®sessionçš„å¤±æ•ˆæ—¶é—´ï¼Œå•ä½ä¸ºç§’</p>
<p>int getMaxinactiveinterval(); è·å–æœ€é•¿çš„å¤±æ•ˆæ—¶é—´</p>
<p>void invalidate() è®¾ç½®sessionç«‹å³å¤±æ•ˆ</p>
<p>void setAttibute(String key,Object value) é€šè¿‡é”®å€¼å¯¹æ¥å­˜å‚¨æ•°æ®</p>
<p>Object getAttribute(String key) é€šè¿‡é”®è·å–å¯¹åº”çš„æ•°æ®</p>
<p>void removeAttribute(String key) é€šè¿‡é”®åˆ é™¤å¯¹åº”çš„æ•°æ®</p>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>Cookieæ˜¯æœåŠ¡ç«¯åœ¨HTTPå“åº”ä¸­é™„å¸¦ä¼ ç»™æµè§ˆå™¨çš„ä¸€ä¸ªå°çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä¸€æ—¦æµè§ˆå™¨ä¿å­˜äº†æŸä¸ªCookieï¼Œåœ¨ä¹‹åçš„è¯·æ±‚å’Œæƒ³ç”¨è¿‡ç¨‹ä¸­ï¼Œä¼šè®²æ­¤Cookieæ¥å›ä¼ é€’ï¼Œè¿™æ ·å°±å¯ä»¥ä»¥Cookieå®Œæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ•°æ®äº¤äº’ã€‚</p>
<p>Cookieæ˜¯æœåŠ¡å™¨åˆ›å»ºçš„ã€‚</p>
<ul>
<li><p>åˆ›å»ºCookie</p>
</li>
<li><p>```java<br>  Cookie cookie = new Cookie(â€œnameâ€,â€å¼ ä¸‰â€);<br>  response.addCookie(cookie);</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- è¯»å–Cookie</span><br><span class="line"></span><br><span class="line">- ```java</span><br><span class="line">	for (Cookie cookie : request.getCookies()) &#123;</span><br><span class="line">	      out.write(cookie.toString());</span><br><span class="line">	    &#125;</span><br></pre></td></tr></table></figure>
<p>  Cookieå¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<p>  void setMaxAge( int age) è®¾ç½®Cookieçš„æœ‰æ•ˆæ—¶é—´ï¼Œå•ä½ä¸ºç§’</p>
<p>  int getMaxAge() è·å–Cookieçš„æœ‰æ•ˆæ—¶é—´ ä¸€å¼€å§‹æ˜¯-1ä¸€å…³æµè§ˆå™¨å°±æ²¡äº†</p>
<p>  String getName() è·å–name</p>
<p>  String getValue() è·å–value</p>
</li>
<li><h3 id="Cookie-å’ŒSessionçš„åŒºåˆ«"><a href="#Cookie-å’ŒSessionçš„åŒºåˆ«" class="headerlink" title="Cookie å’ŒSessionçš„åŒºåˆ«"></a>Cookie å’ŒSessionçš„åŒºåˆ«</h3><p>  sessionï¼šä¿å­˜åœ¨æœåŠ¡å™¨</p>
<p>  â€‹        ä¿å­˜çš„æ•°æ®æ—¶Object</p>
<p>  â€‹        ä¼šéšç€ä¼šè¯çš„ç»“æŸè€Œé”€æ¯</p>
<p>  â€‹        ä¿å­˜é‡è¦ä¿¡æ¯</p>
<p>  cookie : ä¿å­˜åœ¨æµè§ˆå™¨</p>
<p>  â€‹            ä¿å­˜çš„æ•°æ®æ—¶Stringç±»å‹</p>
<p>  â€‹            å¯ä»¥é•¿æœŸä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šè¯æ— å…³</p>
<p>  â€‹            ä¿å­˜ä¸é‡è¦çš„ä¿¡æ¯</p>
</li>
</ul>
<p>å­˜å‚¨ç”¨æˆ·ä¿¡æ¯</p>
<p>session: setAttribute(â€œnameâ€,â€adminâ€)  å­˜</p>
<p>getAttribute(â€œnameâ€ )å–</p>
<p>ç”Ÿå‘½å‘¨æœŸï¼šåªè¦WEBåº”ç”¨é‡å¯å°±é”€æ¯ï¼Œå®¢æˆ·ç«¯ï¼šåªè¦å…³é—­æµè§ˆå™¨å°±é”€æ¯</p>
<p>cookie:response.addCookie(new Cookie(â€œnameâ€,â€adminâ€)) å­˜</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies = request.getCookies();</span><br><span class="line"><span class="keyword">for</span>(Cookie cookie:cookies)&#123;</span><br><span class="line">	<span class="keyword">if</span>(cookie.getName().equals(<span class="string">&quot;name&quot;</span>))&#123;</span><br><span class="line">		out.write(<span class="string">&quot;æ¬¢è¿å›æ¥&quot;</span>+cookie.getValue());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å–</p>
<p>ç”Ÿå‘½å‘¨æœŸï¼šä¸éšæœåŠ¡å™¨çš„é‡å¯è€Œé”€æ¯ï¼Œ</p>
<p>å®¢æˆ·ç«¯ï¼šé»˜è®¤æ˜¯åªè¦å…³é—­æµè§ˆå™¨å°±é”€æ¯ï¼Œæˆ‘ä»¬é€šè¿‡setMaxAge()æ–¹æ³•è®¾ç½®æœ‰æ•ˆæœŸï¼Œä¸€æ—¦è®¾ç½®äº†æœ‰æ•ˆæœŸï¼Œåˆ™ä¸éšæµè§ˆå™¨çš„å…³é—­è€Œé”€æ¯ï¼Œè€Œæ˜¯æœ‰è®¾ç½®çš„æ—¶é—´æ¥å†³å®šã€‚</p>
<p>é€€å‡ºç™»å½•ï¼šsertMaxAge(0)å°±æ¶ˆå¤±äº†</p>
<h2 id="JSPå†…ç½®å¯¹è±¡çš„ä½œç”¨åŸŸ"><a href="#JSPå†…ç½®å¯¹è±¡çš„ä½œç”¨åŸŸ" class="headerlink" title="JSPå†…ç½®å¯¹è±¡çš„ä½œç”¨åŸŸ"></a>JSPå†…ç½®å¯¹è±¡çš„ä½œç”¨åŸŸ</h2><p>åªè®¨è®º4ä¸ªå› ä¸ºåªæœ‰è¿™å››ä¸ª</p>
<p>setAttribute,getAttributeæœ‰å­˜æ•°æ®å’Œå–æ•°æ®çš„æ–¹æ³•</p>
<p>Cookieä¸å±äºå†…ç½®å¯¹è±¡</p>
<p>pageçš„ä½œç”¨åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯pageContext</p>
<p>requestä½œç”¨åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯request</p>
<p>sessionä½œç”¨åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯session</p>
<p>applicationä½œç”¨åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯applicationã€‚</p>
<p>page &lt; request &lt; session &lt; application</p>
<p>pageåªåœ¨å½“å‰é¡µé¢æœ‰æ•ˆã€‚</p>
<p>requeståœ¨ä¸€æ¬¡è¯·æ±‚å†…æœ‰æ•ˆã€‚</p>
<p>sessionåœ¨ä¸€æ¬¡ä¼šè¯å†…æœ‰æ•ˆã€‚</p>
<p>appllicationå¯¹åº”æ•´ä¸ªWEBåº”ç”¨çš„ã€‚</p>
<h2 id="ELè¡¨è¾¾å¼"><a href="#ELè¡¨è¾¾å¼" class="headerlink" title="ELè¡¨è¾¾å¼"></a>ELè¡¨è¾¾å¼</h2><p>Expression Language è¡¨è¾¾å¼è¯­è¨€ï¼Œæ›¿ä»£JSPé¡µé¢ä¸­æ•°æ®è®¿é—®æ—¶çš„å¤æ‚ç¼–ç ã€‚å¯ä»¥éå¸¸ä¾¿æ·çš„å–å‡ºåŸŸå¯¹è±¡ä¸­ï¼ˆæœ‰ä½œç”¨åŸŸçš„ï¼‰ä¿å­˜çš„æ•°æ®ã€‚ï¼Œå‰ææ˜¯ä¸€å®šè¦setè¿›å»ï¼ŒELç›¸å½“äºç®€åŒ–getAttribute</p>
<p>${å˜é‡å}ï¼Œå˜é‡åå°±æ˜¯å¯¹åº”çš„keyå€¼</p>
<p>ELå¯¹äº4ç§åŸŸå¯¹è±¡çš„æŸ¥æ‰¾é¡ºåºï¼š</p>
<p>pageContext-&gt;request-&gt;session-&gt;application</p>
<p>æŒ‰ç…§ä¸Šè¿°é¡ºåºæŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç«‹å³è¿”å›ï¼Œå¦‚æœåœ¨applicationä¸­æ‰¾ä¸åˆ°å°±è¿”å›null</p>
<p>2ã€å½“ç„¶ä¹Ÿå¯ä»¥æŒ‡å®šä½œç”¨åŸŸè¿›è¡ŒæŸ¥æ‰¾</p>
<p>pageContext: ${pageScope.name}</p>
<p>request: ${requestScope.name}</p>
<p>sessionContext: ${sessionScope.name}</p>
<p>applicationContext: ${applicationScope.name}</p>
<p>å¯¹è±¡çš„toStringæ˜¯ç”¨ç±»åå…¨åœ°å€@hashå€¼æ‹¼èµ·æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šé‡å†™toString</p>
<p>ELè¡¨è¾¾å¼åªèƒ½åœ¨JSPé‡Œé¢ä½¿ç”¨ã€‚</p>
<p>ELè¡¨è¾¾å¼è¿˜èƒ½èµ‹å€¼ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716080613208.png" alt="image-20240716080613208">ç»‘å®šçš„æ˜¯æ–¹æ³•ï¼Œä¸æ˜¯ç»‘å®šçš„å±æ€§ã€‚</p>
<p>æ•°æ®çº§è”ï¼š</p>
<p>${user.id}</p>
<p>${user[â€œidâ€]}</p>
<p>è¿™ä¸¤ç§ä¸€æ ·çš„ã€‚</p>
<p>ELæ‰§è¡Œè¡¨è¾¾å¼</p>
<p>&amp;&amp; || ! &lt;&gt;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp; and</span><br><span class="line"></span><br><span class="line">|| or</span><br><span class="line"></span><br><span class="line">! not</span><br><span class="line"></span><br><span class="line">== eq</span><br><span class="line"></span><br><span class="line">!= ne</span><br><span class="line"></span><br><span class="line">&lt; lt</span><br><span class="line">&gt; gt</span><br><span class="line">&lt;= le</span><br><span class="line">&gt;= ge</span><br><span class="line">empty åˆ¤æ–­ç©º</span><br></pre></td></tr></table></figure>
<h2 id="JSTL"><a href="#JSTL" class="headerlink" title="JSTL"></a>JSTL</h2><p>JSP Standard Tag Library JSP æ ‡å‡†æ ‡ç­¾åº“ï¼ŒJSPä¸ºå¼€å‘è€…æä¾›çš„ä¸€ç³»åˆ—çš„æ ‡ç­¾ï¼Œä½¿ç”¨è¿™äº›æ ‡ç­¾å¯ä»¥å®Œæˆä¸€äº›åˆ—é€»è¾‘å¤„ç†ï¼Œæ¯”å¦‚å¾ªç¯éå†é›†åˆï¼Œè®©ä»£ç æ›´ç®€æ´ï¼Œä¸å†å‡ºç°JSPè„šæœ¬ç©¿æ’çš„æƒ…å†µã€‚</p>
<p>å®é™…å¼€å‘ä¸­ELå’ŒJSTLç»“åˆä½¿ç”¨ï¼ŒJSTLä¾§é‡äºé€»è¾‘å¤„ç†ï¼ŒELä¾§é‡äºå±•ç¤ºã€‚</p>
<p>JSTLçš„ä½¿ç”¨</p>
<p>1ã€éœ€è¦å¯¼å…¥jaråŒ…ï¼ˆä¸¤ä¸ªjstl.jar,stander.jarï¼‰å­˜æ”¾çš„ä½ç½®æ˜¯WEB-INFé‡Œé¢</p>
<p>2ã€åœ¨JSPé¡µé¢å¼€å§‹çš„åœ°æ–¹å¯¼å…¥JSTLæ ‡å‡†åº“</p>
<p>3ã€å¼•è¿›æ ‡ç­¾åº“</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716101050013.png" alt="image-20240716101050013"></p>
<p>JSTLçš„ä¼˜ç‚¹ï¼š</p>
<p>1ã€æä¾›äº†ç»Ÿä¸€çš„æ ‡ç­¾</p>
<p>2ã€å¯ä»¥ç”¨äºç¼–å†™å„ç§åŠ¨æ€åŠŸèƒ½</p>
<p>å¸¸ç”¨æ ‡ç­¾ï¼š</p>
<p>set,out,remove,catch</p>
<p>set: å‘åŸŸå¯¹è±¡ä¸­æ·»åŠ æ•°æ®</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	&lt;c:set <span class="keyword">var</span>=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;tome&quot;</span> scope=<span class="string">&quot;requet&quot;</span>&gt;&lt;/c:set&gt;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤å­˜æ”¾é¡ºåºæ˜¯ä»å°åˆ°å¤§</p>
<p>å¯ä»¥ç”¨scopeæ¥æŒ‡å®šå­˜æ”¾åŸŸ</p>
<p>ä½†æ˜¯è¿™ä¸ªæ ‡ç­¾åªèƒ½å¯¹ç®€å•çš„æ•°å­—ï¼Œå­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼Œä¸èƒ½æ“ä½œå¯¹è±¡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716102239750.png" alt="image-20240716102239750"></p>
<p>out:è¾“å‡ºåŸŸå¯¹è±¡ä¸­çš„æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:set var=&quot;name&quot; value=&quot;tom&quot;&gt;&lt;/c:set&gt;</span><br><span class="line">&lt;c:out value=&quot;$&#123;name&#125;&quot; default=&quot;æœªå®šä¹‰&quot;&gt;&lt;/c:out&gt;</span><br></pre></td></tr></table></figure>
<p>removeæ ‡ç­¾</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716102924609.png" alt="image-20240716102924609"></p>
<p>catchæ ‡ç­¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716102901048.png" alt="image-20240716102901048"></p>
<p>æ¡ä»¶æ ‡ç­¾ï¼šif ã€choose</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716105041243.png" alt="image-20240716105041243"></p>
<p>è¿­ä»£æ ‡ç­¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716172808538.png" alt="image-20240716172808538"></p>
<p>åœ¨è¿­ä»£æ ‡ç­¾é‡Œé¢æœ‰begin \stop \stepï¼Œèµ·å§‹ä½ç½®ï¼Œç»“æŸä½ç½®ï¼Œæ­¥é•¿</p>
<p>ä¸‹æ ‡ä»0å¼€å§‹</p>
<p>è¿˜æœ‰varStatusæ¥ç»™åºå·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716173208205.png" alt="image-20240716173208205"></p>
<p>æ ¼å¼åŒ–æ ‡ç­¾åº“å¸¸ç”¨çš„æ ‡ç­¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716173618344.png" alt="image-20240716173618344"></p>
<p>å‡½æ•°æ ‡ç­¾åº“</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240716173928857.png" alt="image-20240716173928857"></p>
<h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><p>Filter</p>
<p>ä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ</p>
<p>å› ä¸ºåœ¨ä¸åŒçš„Servletä¼šé‡åˆ°åŒæ ·çš„è®¾ç½®ï¼Œç„¶åå°±ç”¨è¿‡æ»¤å™¨ç»Ÿä¸€å¤„ç†ã€‚åŠŸèƒ½ï¼š</p>
<p>1ã€ç”¨æ¥æ‹¦æˆªä¼ å…¥çš„è¯·æ±‚å’Œä¼ å‡ºçš„å“åº”</p>
<p>2ã€ä¿®æ”¹æˆ–ä»¥æŸç§æ–¹å¼å¤„ç†æ­£åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´äº¤æ¢çš„æ•°æ®æµ</p>
<p>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p>
<p>ä¸ä½¿ç”¨Servletç±»ä¼¼ï¼ŒFilteræ˜¯JAVA WEBæä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œå¼€å‘è€…åªéœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªç±»å¹¶ä¸”å®ç°æ¥å£å³å¯ã€‚</p>
<p>ä¸ºä»€ä¹ˆåœ¨Fileterå¯ä»¥åªå®ç°doFilterå°±è¡Œï¼Ÿå› ä¸ºæ¥å£é‡Œé¢çš„æ–¹æ³•è¢«default ä¿®é¥°å°±å¯ä»¥ä¸å®ç°ä¹Ÿå¯ä»¥ï¼Œjdk8å‡ºæ¥ä¹‹åå¯ä»¥å…è®¸æ¥å£é‡Œé¢æœ‰æ–¹æ³•çš„å®ç°ã€‚</p>
<p>ç°åœ¨xmlæ–‡ä»¶ä¸­é…ç½®è¿‡æ»¤å™¨</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>character<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.bitzh.test.filter.CharacterFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>character<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/login<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CharacterFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€å®šè¦å®ç°filterChain.doFilteræ‰èƒ½æŠŠå¤„ç†å®Œçš„è¯·æ±‚ç»§ç»­ä¼ ä¸‹å»ã€‚</p>
<p>å¦åˆ™è¿™ä¸ªè¯·æ±‚æˆ–è€…å“åº”æ— æ³•å‘åä¼ é€’ã€‚</p>
<h3 id="filterçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#filterçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="filterçš„ç”Ÿå‘½å‘¨æœŸ"></a>filterçš„ç”Ÿå‘½å‘¨æœŸ</h3><p>åœ¨Tomcatå¯åŠ¨çš„æ—¶å€™ï¼Œ</p>
<p>è¿˜æ˜¯åˆ©ç”¨åå°„å™¨åœ¨xmlé‡Œé¢é…ç½®çš„ä¸œè¥¿æ‰¾åˆ°åå°„è·¯å¾„ç„¶åè·å–Classï¼Œç„¶åè°ƒç”¨æ— å‚æ„é€ å™¨ç„¶åå®ä¾‹åŒ–å¯¹è±¡åŒæ—¶è°ƒç”¨initæ–¹æ³•åˆå§‹åŒ–å¯¹è±¡ã€‚doFilteræ–¹æ³•è°ƒç”¨å¤šæ¬¡ï¼Œå½“Tomcatå…³é—­çš„æ—¶å€™ï¼Œè°ƒç”¨destoryæ–¹æ³•é”€æ¯Filterå¯¹è±¡</p>
<p>æ— å‚æ„é€ å‡½æ•°ï¼šåªç”¨ä¸€æ¬¡ï¼Œå½“Tomcatå¯åŠ¨çš„æ—¶å€™ï¼ŒFilterè¿›è¡Œé…ç½®</p>
<p>initæ–¹æ³•ï¼šå®ä¾‹åŒ–å¯¹è±¡å®Œæˆä¹‹å</p>
<p>doFilteræ–¹æ³•ï¼šè°ƒç”¨å¤šæ¬¡ï¼Œè®¿é—®å¤šå°‘æ¬¡è°ƒç”¨å¤šå°‘æ¬¡</p>
<p>destoryæ–¹æ³•ï¼šå½“Tomcatå…³é—­çš„æ—¶å€™è°ƒç”¨ã€‚</p>
<p>Filterçš„é¡ºåºå’Œxmlé‡Œé¢é…ç½®çš„é¡ºåºæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>å› ä¸ºxmlæ˜¯ä»ä¸Šåˆ°ä¸‹é¡ºåºè¯»å–çš„ã€‚</p>
<p>è¿™ä¸ªä¹Ÿå¯ä»¥ç”¨æ³¨è§£æ¥é…ç½®ï¼Œé‚£ç”¨æ³¨è§£çš„è¯æ²¡æœ‰åŠæ³•æ¥å†³å®šå…ˆåé¡ºåºäº†ï¼Œè¿™æ—¶å€™å°±æ˜¯éšæœºçš„ã€‚</p>
<p>å®é™…å¼€å‘ä¸­Filterçš„ä½¿ç”¨åœºæ™¯ï¼š</p>
<p>1ã€ç»Ÿä¸€å¤„ç†ä¸­æ–‡ä¹±ç </p>
<p>2ã€å±è”½æ•æ„Ÿè¯</p>
<p>3ã€æ§åˆ¶èµ„æºçš„è®¿é—®æƒé™</p>
<h3 id="æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½"><a href="#æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½" class="headerlink" title="æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½"></a>æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½</h3><ul>
<li><p>JSP</p>
<p>  1ã€inputçš„typeè®¾ç½®ä¸ºfile</p>
<p>  2ã€formè¡¨å•çš„ä¸Šä¼ è®¾ç½®ä¸ºpostã€getè¯·æ±‚ä¼šå°†æ–‡ä»¶åä¼ ç»™æœåŠ¡ç«¯è€Œä¸æ˜¯æ–‡ä»¶æœ¬èº«</p>
<p>  3ã€formè¡¨å•çš„enctypeè®¾ç½®mulitpart/form-dataï¼Œä»¥äºŒè¿›åˆ¶çš„å½¢å¼ä¼ è¾“</p>
</li>
<li><p>Servlet</p>
</li>
</ul>
<p>fileuploadç»„ä»¶</p>
<p>è¿™ä¸ªç»„ä»¶å¯ä»¥å°†æ‰€æœ‰çš„è¯·æ±‚ä¿¡æ¯éƒ½è§£ææˆFileIteå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å¯¹FileItemå¯¹è±¡æ“ä½œå®Œæˆä¸Šä¼ ï¼Œé¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚</p>
<h3 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240717205811187.png" alt="image-20240717205811187"></p>
<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>Asynchronnous JavaScript And XML ï¼šå¼‚æ­¥çš„JavaScriptå’ŒXML</p>
<p>AJAXä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼ŒæŒ‡çš„æ˜¯ä¸€ç§äº¤äº’æ–¹å¼ï¼Œå¼‚æ­¥åŠ è½½ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ•°æ®äº¤äº’æ›´æ–°åœ¨å±€éƒ¨é¡µé¢çš„æŠ€æœ¯ï¼Œä¸éœ€è¦åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼ˆå±€éƒ¨åˆ·æ–°ï¼‰</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p>1ã€å±€éƒ¨åˆ·æ–°ã€æ•ˆç‡æ›´é«˜</p>
<p>2ã€ç”¨æˆ·ä½“éªŒæ›´å¥½</p>
<p>åŸºäºJQuery</p>
<p>ä¸€å¼€å§‹æ²¡ç”¨ajaxçš„æ—¶å€™</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">7</span>/<span class="number">20</span></span><br><span class="line">  Time: <span class="number">1</span>:<span class="number">40</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;js/jquery-2.1.1.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;title&gt;test01&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    $&#123;str&#125;</span><br><span class="line">    &lt;form action=<span class="string">&quot;/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;</span><br><span class="line">      &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.Servlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy0v0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/7/20 - 07 - 20 - 1:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: PACKAGE_NAME</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;HelloWorld&quot;</span>;</span><br><span class="line">        req.setAttribute(<span class="string">&quot;str&quot;</span>,str);</span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;index.jsp&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç”¨äº†ajaxä¹‹åï¼ŒåŸºäºï¼ˆjqï¼‰å°±ä¸èƒ½ç”¨formæ¥æäº¤è¡¨å•äº†ï¼Œæ”¹ç”¨jQueryæ–¹å¼åŠ¨æ€ç»‘å®šäº‹ä»¶æ¥æäº¤ã€‚</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">7</span>/<span class="number">20</span></span><br><span class="line">  Time: <span class="number">1</span>:<span class="number">40</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;js/jquery-2.1.1.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;title&gt;test01&lt;/title&gt;</span><br><span class="line">    &lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">      $(function ()&#123;</span><br><span class="line">        <span class="comment">//æ‹¿åˆ°å¯¹è±¡btn</span></span><br><span class="line">        <span class="type">var</span> <span class="variable">btn</span> <span class="operator">=</span> $(<span class="string">&quot;#btn&quot;</span>);</span><br><span class="line">        btn.click(function ()&#123;</span><br><span class="line">          <span class="comment">//ajaxè¯­æ³•</span></span><br><span class="line">          $.ajax(&#123;</span><br><span class="line">            url: <span class="string">&#x27;/test&#x27;</span>,</span><br><span class="line">            type: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            <span class="comment">//æˆ‘ä»¬è¦ä¼ ç»™åç«¯çš„å‚æ•°</span></span><br><span class="line">            data:<span class="string">&#x27;id=1&#x27;</span>,</span><br><span class="line">            <span class="comment">//æœåŠ¡ç«¯ç»™æˆ‘ä»¬è¿”å›çš„æ•°æ®ç±»å‹</span></span><br><span class="line">            dataType: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">            <span class="comment">//æœåŠ¡å™¨å“åº”çš„å†…å®¹ç›´æ¥ç»™å¼¹å‡º</span></span><br><span class="line">            success:function(data)&#123;</span><br><span class="line">              <span class="type">var</span> <span class="variable">text</span> <span class="operator">=</span> $(<span class="string">&quot;#text&quot;</span>);</span><br><span class="line">              text.before(<span class="string">&quot;&lt;span&gt;&quot;</span>+data+<span class="string">&quot;&lt;/span&gt;&lt;br/&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    $&#123;str&#125;</span><br><span class="line"></span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;</span><br><span class="line">    &lt;input id=<span class="string">&quot;btn&quot;</span> type=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.Servlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy0v0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/7/20 - 07 - 20 - 1:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: PACKAGE_NAME</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;HelloWorld&quot;</span>;</span><br><span class="line">        resp.getWriter().write(str);</span><br><span class="line"><span class="comment">//        req.setAttribute(&quot;str&quot;,str);</span></span><br><span class="line"><span class="comment">//        req.getRequestDispatcher(&quot;index.jsp&quot;).forward(req,resp);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Servletè¿™è¾¹ä¸èƒ½è·³è½¬åˆ°jspï¼Œåªèƒ½å°†æ•°æ®è¿”å›ï¼Œä¸ç„¶çš„è¯è¿”å›çš„å†…å®¹å°±æ˜¯åœ¨å†å¤šå†™äº†ä¸€æ¬¡é¡µé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720130905971.png" alt="image-20240720130905971"></p>
<p>æˆ‘ä»¬åªéœ€è¦æŠŠæ•°æ®è¿”å›ç»™å‰ç«¯ã€‚</p>
<h2 id="ä¼ ç»Ÿçš„WEBæ•°æ®äº¤äº’-VS-AJAXæ•°æ®äº¤äº’"><a href="#ä¼ ç»Ÿçš„WEBæ•°æ®äº¤äº’-VS-AJAXæ•°æ®äº¤äº’" class="headerlink" title="ä¼ ç»Ÿçš„WEBæ•°æ®äº¤äº’ VS AJAXæ•°æ®äº¤äº’"></a>ä¼ ç»Ÿçš„WEBæ•°æ®äº¤äº’ VS AJAXæ•°æ®äº¤äº’</h2><p>å®¢æˆ·ç«¯è¯·æ±‚çš„æ–¹å¼ä¸åŒï¼š</p>
<p>ä¼ ç»Ÿï¼Œæµè§ˆå™¨å‘é€çš„æ˜¯åŒæ­¥è¯·æ±‚(form,aæ ‡ç­¾)</p>
<p>AJAXï¼Œå¼‚æ­¥å¼•æ“å¯¹è±¡å‘é€å¼‚æ­¥è¯·æ±‚</p>
<p>æœåŠ¡å™¨å“åº”çš„æ–¹å¼ä¸åŒï¼š</p>
<p>ä¼ ç»Ÿï¼Œå“åº”ä¸€ä¸ªå®Œæ•´JSPé¡µé¢ï¼ˆè§†å›¾â€”ï¼‰</p>
<p>AJAXï¼Œå“åº”éœ€è¦çš„æ•°æ®</p>
<ul>
<li>å®¢æˆ·ç«¯å¤„ç†æ–¹å¼ä¸åŒï¼š</li>
</ul>
<p>ä¼ ç»Ÿï¼šéœ€è¦ç­‰å¾…æœåŠ¡å™¨å®Œæˆå“åº”å¹¶ä¸”é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ä¹‹åæ‰èƒ½ç»§ç»­åç»­çš„æ“ä½œ</p>
<p>â€‹          <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720150115761.png" alt="image-20240720150115761"></p>
<h2 id="åŸºäºjQueryçš„AJAXè¯­æ³•"><a href="#åŸºäºjQueryçš„AJAXè¯­æ³•" class="headerlink" title="åŸºäºjQueryçš„AJAXè¯­æ³•"></a>åŸºäºjQueryçš„AJAXè¯­æ³•</h2><p>$.ajax({å±æ€§})</p>
<p>å¸¸ç”¨çš„å±æ€§å‚æ•°ï¼š</p>
<p>url:è¯·æ±‚çš„åç«¯æœåŠ¡åœ°å€</p>
<p>type:è¯·æ±‚æ–¹å¼ï¼Œé»˜è®¤get</p>
<p>dataï¼šè¯·æ±‚å‚æ•°</p>
<p>dataType:æœåŠ¡å™¨è¿”å›çš„æ•°æ®ç±»å‹ï¼Œtext/json</p>
<p>success:è¯·æ±‚æˆåŠŸçš„å›è°ƒå‡½æ•°</p>
<p>errorï¼šè¯·æ±‚å¤±è´¥çš„å›è°ƒå‡½æ•°</p>
<p>complete:è¯·æ±‚å®Œæˆçš„å›è°ƒå‡½æ•°</p>
<p>å…ˆè¯·æ±‚å®Œæˆå†æˆåŠŸï¼Œå¦‚æœæ˜¯å¤±è´¥å°±å…ˆè¿›erroråœ¨è¿›å®Œæˆ</p>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>JavaScriptObjectNotation,ä¸€ç§è½»é‡çº§æ•°æ®äº¤äº’æ ¼å¼å®Œæˆjså’Œjavaç­‰åç«¯å¼€å‘è¯­è¨€å¯¹è±¡æ•°æ®ä¹‹é—´çš„è½¬æ¢ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“å¯¹è±¡æ•°æ®ã€‚</p>
<p>ä¼ è¾“å¯¹è±¡çš„è¯åœ¨åç«¯éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„å°†javaå¯¹è±¡è½¬åŒ–æˆä¸ºjsonå¯¹è±¡ï¼Œæˆ‘ä»¬ä½¿ç”¨å·¥å…·ç±»json-lib</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> JSONObject.fromObject(user);</span><br><span class="line">        resp.getWriter().write(jsonObject.toString());</span><br></pre></td></tr></table></figure>
<p>å¸¸ç”¨æ¡ˆä¾‹ï¼šçœå¸‚åŒºä¸‰çº§è”åŠ¨ï¼Œç™»å½•æ³¨å†Œé¡µé¢è´¦å·å¯†ç æç¤ºéªŒè¯</p>
<h2 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h2><p>Java DataBase Connectivityæ˜¯ä¸€ä¸ªç‹¬ç«‹äºç‰¹å®šæ•°æ®åº“çš„ç®¡ç†ç³»ç»Ÿï¼Œé€šç”¨çš„SQLæ•°æ®åº“å­˜å–å’Œæ“ä½œçš„å…¬å…±æ¥å£ã€‚</p>
<p>å®šä¹‰äº†ä¸€ç»„æ ‡å‡†ï¼Œä¸ºè®¿é—®ä¸åŒæ•°æ®åº“æä¾›äº†åŒä¸€è·¯å¾„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720153924598.png" alt="image-20240720153924598"></p>
<h3 id="jdbcä½“ç³»ç»“æ„"><a href="#jdbcä½“ç³»ç»“æ„" class="headerlink" title="jdbcä½“ç³»ç»“æ„"></a>jdbcä½“ç³»ç»“æ„</h3><p>JDBCæ¥å£åŒ…æ‹¬ä¸¤ä¸ªå±‚é¢ï¼š</p>
<ul>
<li><p>é¢å‘åº”ç”¨çš„APIï¼Œç¨‹åºå‘˜ä½¿ç”¨</p>
</li>
<li><p>é¢å‘æ•°æ®åº“çš„ï¼Œä¾›å‚å•†å¼€å‘æ•°æ®åº“çš„é©±åŠ¨ç¨‹åº</p>
</li>
</ul>
<pre><code>![image-20240720155729149](https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720155729149.png)
</code></pre><p>JDBC API</p>
<p>æä¾›è€… javaå®˜æ–¹</p>
<p>å†…å®¹ï¼šä¾›å¼€å‘è€…è°ƒç”¨çš„æ¥å£</p>
<p>jaca.sql,javax.sql</p>
<ul>
<li>DriverManagerç±»</li>
<li>Connectionæ¥å£</li>
<li>Statementæ¥å£</li>
<li>ResultSetæ¥å£</li>
</ul>
<p>DriverManager</p>
<p>æä¾›è€…ï¼šjavaå®˜æ–¹</p>
<p>ä½œç”¨ï¼šç®¡ç†ä¸åŒçš„JDBCé©±åŠ¨</p>
<p>JDBCé©±åŠ¨</p>
<p>æä¾›è€…ï¼šæ•°æ®åº“å‚å•†</p>
<p>ä½œç”¨ï¼šè´Ÿè´£è¿æ¥ä¸åŒçš„æ•°æ®åº“</p>
<h3 id="JDBCçš„ä½¿ç”¨"><a href="#JDBCçš„ä½¿ç”¨" class="headerlink" title="JDBCçš„ä½¿ç”¨"></a>JDBCçš„ä½¿ç”¨</h3><p>1ã€åŠ è½½æ•°æ®åº“é©±åŠ¨ã€javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„æ¡¥æ¢</p>
<p>2ã€è·å–Connection,javaç¨‹åºä¸æ•°æ®åº“çš„ä¸€æ¬¡è¿æ¥</p>
<p>3ã€åˆ›å»ºStatementå¯¹è±¡ï¼Œç”±Connectionäº§ç”Ÿï¼Œæ‰§è¡ŒSQLè¯­å¥</p>
<p>4ã€å¦‚æœéœ€è¦æ¥å—è¿”å›å€¼ï¼Œåˆ›å»ºResultSetå¯¹è±¡ï¼Œä¿å­˜Statementæ‰§è¡Œä¹‹åæ‰€æŸ¥è¯¢åˆ°ä¹‹åçš„ç»“æœ</p>
<h3 id="æ•°æ®åº“è¿æ¥æ± "><a href="#æ•°æ®åº“è¿æ¥æ± " class="headerlink" title="æ•°æ®åº“è¿æ¥æ± "></a>æ•°æ®åº“è¿æ¥æ± </h3><p>JDBCçš„å¼€å‘æµç¨‹</p>
<ul>
<li>åŠ è½½é©±åŠ¨ï¼ˆåªéœ€è¦åŠ è½½ä¸€æ¬¡ï¼‰</li>
<li>å»ºç«‹æ•°æ®åº“è¿æ¥ï¼ˆConnectionï¼‰</li>
<li>æ‰§è¡ŒSQLè¯­å¥ï¼ˆStatement)</li>
<li>ResultSetæ¥å—ç»“æœé›†ï¼ˆæŸ¥è¯¢ï¼‰</li>
<li>æ–­å¼€è¿æ¥ï¼Œé‡Šæ”¾èµ„æº</li>
</ul>
<p>è¿™ç§æ–¹å¼ï¼Œæ¯æ¬¡è¿æ¥å¯¹è±¡éƒ½é€šè¿‡DriverManageræ¥è·å–ï¼Œæ¯æ¬¡è·å–éƒ½éœ€è¦å‘æ•°æ®åº“ç”³è¯·è·å–è¿æ¥ï¼ŒéªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œæ‰§è¡Œå®ŒSQLè¯­å¥åä¼šæ–­å¼€è¿æ¥ï¼Œè¿™æ ·å°±ä¼šé€ æˆèµ„æºçš„æµªè´¹</p>
<p>æ•°æ®åº“è¿æ¥èµ„æºæ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„é‡å¤åˆ©ç”¨ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<p>æ•°æ®åº“è¿æ¥æ± çš„åŸºæœ¬æ€æƒ³å°±æ˜¯ä¸ºæ•°æ®åº“å»ºç«‹ä¸€ä¸ªç¼“å†²æ± ï¼Œé¢„å…ˆå‘ç¼“å†²æ± ä¸­æ”¾å…¥ä¸€å®šæ•°é‡çš„è¿æ¥å¯¹è±¡ï¼Œå½“éœ€è¦è·å–æ•°æ®åº“è¿æ¥çš„æ—¶å€™ï¼Œåªéœ€è¦ä»ç¼“å†²æ± ä¸­å–å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œç”¨å®Œä¹‹åå†æ”¾å›åˆ°ç¼“å†²æ± ä¸­ï¼Œä¾›ä¸‹ä¸€æ¬¡è¯·æ±‚ä½¿ç”¨ï¼Œåšåˆ°äº†èµ„æºçš„é‡å¤åˆ©ç”¨ï¼Œå…è®¸ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥å¯¹è±¡ï¼Œè€Œä¸ç”¨é‡å¤åˆ›å»ºã€‚</p>
<p>å½“æ•°æ®åº“è¿æ¥æ± ä¸­æ²¡æœ‰ç©ºé—²çš„è¿æ¥æ—¶ï¼Œæ–°çš„è¯·æ±‚ä¼šè¿›å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹é‡Šæ”¾è¿æ¥ã€‚</p>
<h3 id="æ•°æ®åº“è¿æ¥æ± å®ç°"><a href="#æ•°æ®åº“è¿æ¥æ± å®ç°" class="headerlink" title="æ•°æ®åº“è¿æ¥æ± å®ç°"></a>æ•°æ®åº“è¿æ¥æ± å®ç°</h3><p>JDBCçš„æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨javax.sql.DataSourceæ¥å£æ¥å®Œæˆã€‚</p>
<p>DataSouceæ˜¯Javaå®˜æ–¹æä¾›çš„æ¥å£ï¼Œä½¿ç”¨çš„æ—¶å€™å¼€å‘è€…ä¸éœ€è¦è‡ªå·±æ¥å®ç°æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ï¼ŒC3P0æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ç¬¬ä¸‰æ–¹å®ç°ï¼Œå®é™…å¼€å‘ä¸­ç›´æ¥ä½¿ç”¨C3P0å³å¯å®Œæˆæ•°æ®åº“è¿æ¥æ± æ“ä½œã€‚</p>
<p>1ã€å¯¼å…¥jaråŒ…</p>
<p>2ã€åˆ›å»ºC3P0</p>
<p>3ã€åŠ è½½é©±åŠ¨</p>
<p>4ã€è®¾ç½®url,username,password</p>
<p>5ã€å¾—åˆ°ä¸€ä¸ªè¿æ¥å¯¹è±¡</p>
<p>ä¼ ç»Ÿæ–¹å¼æ‹¿åˆ°çš„Connection</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720164545391.png" alt="image-20240720164545391"></p>
<p>C3P0æ‹¿åˆ°çš„Connection</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720164600027.png" alt="image-20240720164600027"></p>
<p>6ã€å…¶ä»–çš„è·ŸåŸæ¥çš„ä¸€æ ·</p>
<p>7ã€å¯ä»¥è®¾ç½®åˆå§‹åŒ–è¿æ¥ä¸ªæ•°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720185504321.png" alt="image-20240720185504321"></p>
<p>8ã€è®¾ç½®æœ€å¤§è¿æ¥æ•°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720185830170.png" alt="image-20240720185830170"></p>
<p>9ã€å½“è¿æ¥å¯¹è±¡ä¸å¤Ÿæ—¶ï¼Œå†æ¬¡ç”³è¯·è¿æ¥å¯¹è±¡ä¸ªæ•°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720185602699.png" alt="image-20240720185602699"></p>
<p>10ã€è®¾ç½®æœ€å°è¿æ¥æ•°ï¼ˆè®¾ç½®ç©ºé—²çš„æœ€å°ä¸‹çº¿é™ï¼‰</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720185800084.png" alt="image-20240720185800084"></p>
<p>å‡è®¾ä¸€å¼€å§‹æœ‰20ä¸ªç”¨äº†åå…«ä¸ªç„¶åè¿˜å‰©ä¸¤ä¸ªè¿™æ—¶å€™å°±è¯¥å»ç”³è¯·äº†</p>
<p>ä¸€èˆ¬æˆ‘ä»¬æŠŠé…ç½®æ–‡ä»¶å†™åœ¨xmlé…ç½®æ–‡ä»¶ä¸­</p>
<p>å› ä¸ºå¦‚æœæ˜¯javaæ–‡ä»¶ä¿®æ”¹çš„è¯è¿˜éœ€è¦é‡æ–°ç¼–è¯‘ä½†æ˜¯xmlæ–‡ä»¶ä¸ç”¨é‡æ–°ç¼–è¯‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720190141015.png" alt="image-20240720190141015"></p>
<p>ç„¶ååœ¨åˆ›å»ºc3p0çš„æ—¶å€™æŠŠxmlçš„nameçš„å±æ€§å€¼ä¼ å…¥åˆ°æ„é€ å™¨ä¸­å³å¯å®Œæˆæ•°æ®åº“è¿æ¥æ± çš„åˆå§‹åŒ–</p>
<p>æ”¾åœ¨srcçš„æ ¹ç›®å½•å°±è¡ŒåŒçº§ã€‚</p>
<h3 id="DBUtiles"><a href="#DBUtiles" class="headerlink" title="DBUtiles"></a>DBUtiles</h3><p>è¿™ä¸ªå·¥å…·</p>
<p>åœ¨æŸ¥è¯¢çš„æ—¶å€™æ¯”è¾ƒéº»çƒ¦</p>
<p>DBUtileså¯ä»¥å¸®åŠ©å¼€å‘è€…å®Œæˆæ•°æ®çš„å°è£…ï¼ˆç»“æœé›†åˆ°javaçš„æ˜ å°„)</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720191748963.png" alt="image-20240720191748963"></p>
<p>1ã€å¯¼å…¥jaråŒ…</p>
<p>ResultHandleræ¥å£ç”¨æ¥å¤„ç†ç»“æœé›†ï¼Œå¯ä»¥å°†æŸ¥è¯¢åˆ°çš„ç»“æœé›†è½¬æ¢æˆjavaå¯¹è±¡ï¼Œæä¾›äº†å››ç§å®ç°ç±»</p>
<ul>
<li>BeanHandler å°†ç»“æœé›†æ˜ å°„æˆJavaå¯¹è±¡</li>
<li>BeanListHandler å°†ç»“æœé›†æ˜ å°„æˆListé›†åˆList<Student></li>
<li>MapHandler         è½¬æ¢æˆMapé›†åˆ</li>
<li>MapListHandler    è½¬æ¢æˆMapListé›†åˆ</li>
</ul>
<p>2ã€</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720192812666.png" alt="image-20240720192812666"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240720193625572.png" alt="image-20240720193625572"></p>
<h1 id="javaWebç¬¬äºŒç‰ˆï¼ˆå’Œç¬¬ä¸€ç‰ˆæœ‰é‡å¤ï¼‰"><a href="#javaWebç¬¬äºŒç‰ˆï¼ˆå’Œç¬¬ä¸€ç‰ˆæœ‰é‡å¤ï¼‰" class="headerlink" title="javaWebç¬¬äºŒç‰ˆï¼ˆå’Œç¬¬ä¸€ç‰ˆæœ‰é‡å¤ï¼‰"></a>javaWebç¬¬äºŒç‰ˆï¼ˆå’Œç¬¬ä¸€ç‰ˆæœ‰é‡å¤ï¼‰</h1><h2 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h2><p><strong>è¿™ä¸ªé˜¶æ®µä¼šæ¯”è¾ƒéš¾ï¼Œé‡ç‚¹æ˜¯ç†è§£å’Œè®°å¿†ï¼Œå¤šå†™ä»£ç ï¼Œæ²¡åˆ«çš„æ–¹æ³•äº†ç†¬è¿‡å»å°±å¥½ï¼Œä¸‹é¢çš„å†…å®¹ä¸ä¼šå¾ˆè¯¦ç»†çš„å†™äº†ï¼Œé‡è¦çš„æ˜¯è„‘å­è®°ä½</strong></p>
<h3 id="JavaEE"><a href="#JavaEE" class="headerlink" title="JavaEE"></a>JavaEE</h3><p>javaeeå¹³å°è§„èŒƒäº†åœ¨å¼€å‘ä¼ä¸šçº§webåº”ç”¨ä¸­çš„æŠ€æœ¯æ ‡å‡†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240131213408398.png" alt="image-20240131213408398"></p>
<h3 id="Tomcatå®‰è£…å’Œåº”ç”¨"><a href="#Tomcatå®‰è£…å’Œåº”ç”¨" class="headerlink" title="Tomcatå®‰è£…å’Œåº”ç”¨"></a>Tomcatå®‰è£…å’Œåº”ç”¨</h3><p>é¦–å…ˆå»å®˜ç½‘ä¸‹è½½tomcatï¼Œç„¶åè§£å‹å°±å¯ä»¥ä½¿ç”¨ï¼Œä¸‹è½½çš„æ—¶å€™ä¸‹è½½windows.zipï¼Œä¸‹é¢æœ‰ä¸ªsourceCodeæ˜¯Tomcatçš„æºä»£ç </p>
<p>ç„¶åå®‰è£…ï¼Œè¿™ä¸ªæ—¶å€™è§£å‹å°±å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœä¸‹è½½äº†å¾ˆå¤šç‰ˆæœ¬çš„tomcatå°±éœ€è¦åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­é…ç½®catalina_home,å°±åƒjava_homeä¸€æ ·ï¼Œå°†è·¯å¾„æ”¹åˆ°å¯¹åº”çš„jdkå’Œå¯¹åº”çš„tomcatå°±å¥½äº†</p>
<p><strong>tomcatçš„å¯åŠ¨</strong></p>
<p>åœ¨tomcaté‡Œé¢æœ‰ä¸ªstartup.batçš„æ–‡ä»¶å°±å¯åŠ¨äº†ï¼Œå…³é—­çš„è¯å°±è¿è¡Œshutdown.batæ–‡ä»¶</p>
<p><strong>è®¿é—®tomcat</strong></p>
<p>å› ä¸ºtomcatæ˜¯ä¸ªwebå®¹å™¨ï¼Œè™½ç„¶æ˜¯æœ¬åœ°çš„ï¼Œä½†æ˜¯æœ¬åœ°å¯ä»¥è‡ªå·±è®¿é—®åˆ°è‡ªå·±ï¼Œæ‰€ä»¥å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥åœ°å€æ¥è®¿é—®tomcat</p>
<p>å¦‚æœåœ¨æœåŠ¡å™¨ä¸Šçš„è¯è®¿é—®æ–¹å¼å°±æ˜¯<a href="http://ip:port">http://ip:port</a></p>
<p>å¦‚æœæ˜¯æœ¬åœ°ä¸Šè®¿é—®çš„è·¯å¾„å°±æ˜¯<a href="http://localhost:8080ï¼Œè¿™ä¸ª8080æ˜¯å¯ä»¥è‡ªå·±è®¾ç½®çš„ï¼Œä½†æ˜¯é»˜è®¤å°±æ˜¯8080ï¼Œportæ˜¯ç«¯å£å·çš„æ„æ€ï¼Œç«¯å£å·å°±æ˜¯æ¯å°è®¡ç®—æœºå†…è¯†åˆ«è¦å¯åŠ¨å“ªä¸ªç¨‹åºçš„ä¸€ä¸ªç¼–å·ï¼Œéƒ½æ˜¯å”¯ä¸€çš„ã€‚">http://localhost:8080ï¼Œè¿™ä¸ª8080æ˜¯å¯ä»¥è‡ªå·±è®¾ç½®çš„ï¼Œä½†æ˜¯é»˜è®¤å°±æ˜¯8080ï¼Œportæ˜¯ç«¯å£å·çš„æ„æ€ï¼Œç«¯å£å·å°±æ˜¯æ¯å°è®¡ç®—æœºå†…è¯†åˆ«è¦å¯åŠ¨å“ªä¸ªç¨‹åºçš„ä¸€ä¸ªç¼–å·ï¼Œéƒ½æ˜¯å”¯ä¸€çš„ã€‚</a></p>
<h3 id="Tomcatçš„ç»“æ„è®¤è¯†"><a href="#Tomcatçš„ç»“æ„è®¤è¯†" class="headerlink" title="Tomcatçš„ç»“æ„è®¤è¯†"></a>Tomcatçš„ç»“æ„è®¤è¯†</h3><p>é¦–å…ˆçœ‹åˆ°tomcatçš„æ–‡ä»¶ç›®å½•ï¼Œé‡Œé¢æœ‰å¾ˆå¤šï¼Œå°±è·Ÿjavaé¡¹ç›®ä¸€æ ·æœ‰ä¸€äº›é…ç½®ç›®å½•ï¼Œè¦äº†è§£ä¸€ä¸‹æ¯ä¸ªç›®å½•éƒ½æ˜¯æ”¾ä»€ä¹ˆçš„</p>
<p><strong>bin</strong></p>
<p>é¦–å…ˆå°±æ˜¯binç›®å½•ï¼Œé‡Œé¢æ”¾çš„éƒ½æ˜¯æ·«é‚ªå‘½ä»¤æ–‡ä»¶.shç»“å°¾çš„æ˜¯linuxçš„å‘½ä»¤ï¼Œ.batç»“å°¾çš„å°±æ˜¯windowså‘½ä»¤ï¼Œå°±åƒä¸€å¼€å§‹ä½¿ç”¨çš„tomcatå¯åŠ¨å’Œå…³é—­æ–‡ä»¶éƒ½æ˜¯æ”¾åœ¨biné‡Œé¢çš„</p>
<p><strong>conf</strong></p>
<p>å…¶æ¬¡å°±æ˜¯confç›®å½•ï¼Œé‡Œé¢æ”¾çš„æ˜¯ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶å°±æ˜¯å­˜æ”¾ä¸€äº›.xmlæ–‡ä»¶ï¼Œå†™ä¸€äº›ä¾èµ–ä¹‹ç±»çš„ï¼Œå…¶ä¸­æœ‰äº›æ¯”è¾ƒé‡è¦çš„æ–‡ä»¶ï¼Œæ¯”å¦‚context.xmlå’Œserver.xmlå’Œweb.xmlåé¢è¿˜ä¼šè¯¦ç»†å­¦ä¸€ä¸‹xmlæ€ä¹ˆå†™ï¼Œä½†æ˜¯ç°åœ¨çŸ¥é“æ˜¯ä¸€äº›é…ç½®æ–‡ä»¶å°±å¥½äº†</p>
<p><strong>lib</strong></p>
<p>libç›®å½•å°±æ˜¯ç›´æ¥å¯¼å…¥ä¸€äº›æœ¬åœ°çš„jaråŒ…ï¼Œéœ€è¦åŠ è½½çš„ï¼Œè€ŒjaråŒ…å°±æ˜¯ä¸€äº›javaå‹ç¼©å¥½çš„ä¸€äº›å‡½æ•°åº“æˆ–è€…ç±»åº“ï¼Œé‡Œé¢çš„åŠŸèƒ½éƒ½å·²ç»å†™å¥½äº†ï¼Œç›´æ¥å¯¼å…¥å°±èƒ½ç”¨ï¼Œæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ã€‚</p>
<p><strong>logs</strong></p>
<p>logsæ–‡ä»¶å°±æ˜¯ç”¨æ¥å­˜æ”¾tomcatè¿è¡Œæ—¶äº§ç”Ÿçš„æ—¥å¿—æ–‡ä»¶ï¼Œå‡ºé”™çš„æ—¶å€™èƒ½çœ‹å‡ºæ˜¯ä»€ä¹ˆåœ°æ–¹å‘ç”Ÿäº†é”™è¯¯</p>
<p><strong>temp</strong></p>
<p>tempæ–‡ä»¶ç”¨æ¥å­˜æ”¾åœ¨tomcatè¿è¡Œæ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶</p>
<p><strong>webapps</strong></p>
<p>è¿™ä¸ªæ–‡ä»¶ç”¨æ¥å­˜æ”¾åº”ç”¨ç¨‹åºï¼Œå½“tomcatå¯åŠ¨æ—¶ä¼šå»åŠ è½½webappsç›®å½•ä¸‹çš„åº”ç”¨ç¨‹åºã€‚é‚£ä¹ˆwarå’Œjaræœ‰ä»€ä¹ˆåŒºåˆ«å‘¢</p>
<p>javawebæ‰“åŒ…çš„æ˜¯waråŒ…ï¼Œéœ€è¦æ”¾åˆ°tomcatä¸‹é¢æ‰èƒ½è¿è¡Œ</p>
<p>springbootæ‰“åŒ…çš„æ˜¯jaråŒ…ï¼Œé‡Œé¢å†…ç½®tomcatä¸éœ€è¦æ”¾åˆ°tomcatä¸‹é¢å°±èƒ½è¿è¡Œï¼Œä½†æ˜¯jaråŒ…æ²¡æœ‰é™æ€èµ„æºæ¯”å¦‚index.jspè¿™ç±»ç½‘é¡µ</p>
<p><strong>work</strong></p>
<p>worké‡Œé¢æ”¾çš„æ˜¯ç¼–è¯‘è¿‡åçš„æ–‡ä»¶ï¼Œæ¯”å¦‚index.jspç¼–è¯‘è¿‡åå½¢æˆçš„æ–‡ä»¶</p>
<h3 id="Tomcatéƒ¨ç½²é¡¹ç›®"><a href="#Tomcatéƒ¨ç½²é¡¹ç›®" class="headerlink" title="Tomcatéƒ¨ç½²é¡¹ç›®"></a>Tomcatéƒ¨ç½²é¡¹ç›®</h3><p><strong>ç¬¬ä¸€ç§æ–¹æ³•</strong></p>
<p>åœ¨Tomcatçš„webappsä¸­åˆ›å»ºä¸€ä¸ªè‡ªå·±é¡¹ç›®çš„ç›®å½•ï¼Œç„¶ååœ¨è‡ªå·±çš„é¡¹ç›®æ–‡ä»¶æ”¾å…¥index.jspç„¶åå¯åŠ¨tomcatä¹‹ååœ¨æµè§ˆå™¨é‡Œè®¿é—®å¯¹åº”çš„è·¯å¾„å°±èƒ½è®¿é—®å¾—åˆ°äº†</p>
<p><strong>ç¬¬äºŒç§æ–¹æ³•</strong></p>
<p>æ·»åŠ é…ç½®æ–‡ä»¶ï¼Œåœ¨webappsé‡Œé¢æœ‰ä¸ªcatalinaæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰localhostæ–‡ä»¶ï¼Œåœ¨é‡Œé¢æ·»åŠ é…ç½®æ–‡ä»¶ä¹Ÿå°±æ˜¯xmlæ–‡ä»¶ï¼Œç„¶åxmlæ–‡ä»¶é‡Œé¢å†™</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">path</span>=<span class="string">&quot;/é¡¹ç›®å&quot;</span> <span class="attr">docBase</span>=<span class="string">&quot;ç»å¯¹è·¯å¾„&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å­å°±å¯ä»¥åœ¨å¯åŠ¨tomcatçš„æ—¶å€™ï¼Œè®¿é—®localhostçš„æ—¶å€™æµè§ˆå™¨å®šä½åˆ°ä½ çš„é¡¹ç›®é‚£é‡Œäº†</p>
<h3 id="Tomcatéƒ¨ç½²æ–‡ä»¶é…ç½®"><a href="#Tomcatéƒ¨ç½²æ–‡ä»¶é…ç½®" class="headerlink" title="Tomcatéƒ¨ç½²æ–‡ä»¶é…ç½®"></a>Tomcatéƒ¨ç½²æ–‡ä»¶é…ç½®</h3><pre><code> Tomcatç”±4ä¸ªxmlé…ç½®ï¼Œåˆ†åˆ«æ˜¯context.xmlï¼Œweb.xmlï¼Œserver.xmlå’Œtomcat-users.xmlã€‚æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰è‡ªå·±çš„åŠŸèƒ½å’Œé…ç½®æ–¹æ³•
</code></pre><p><strong>context.xml</strong></p>
<p>context.xmlæ˜¯tomcatå…¬ç”¨çš„ç¯å¢ƒé…ç½®ï¼Œé‡Œé¢æœ‰è·¯å¾„ä¹‹ç±»çš„TomcatæœåŠ¡å™¨ä¼šå®šæ—¶æ‰«æè¿™ä¸ªæ–‡ä»¶ï¼Œè·¯å¾„æˆ–è€…ä»€ä¹ˆçš„å˜äº†ï¼Œä¼šé‡æ–°åŠ è½½ï¼Œä¸ç”¨é‡å¯tomcatã€‚</p>
<p><strong>web.xml</strong></p>
<p>è¿™é‡Œé¢æ˜¯Webåº”ç”¨ç¨‹åºçš„é…ç½®æ–‡ä»¶ï¼Œæ˜¯æ‰€æœ‰webåº”ç”¨çš„çˆ¶æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯ä¸€äº›æ€»çš„ç»„ä»¶é…ç½®æ–‡ä»¶ã€‚</p>
<p><strong>server.xml</strong></p>
<p>é‡Œé¢æ˜¯tomcatæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œé‡Œé¢å¯¹åº”çš„æ˜¯å…·ä½“ç»„ä»¶ï¼Œæ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”tomcatçš„ä¸€ä¸ªç»„ä»¶</p>
<p><strong>tomcat-users.xml</strong></p>
<p>é…ç½®è®¿é—®Tomcatä»¥åŠè§’è‰²çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p><strong>æ§åˆ¶å°ä¹±ç çš„é—®é¢˜</strong></p>
<p>å°±æ˜¯ç”±äºtomcatåœ¨è¾“å‡ºæ—¥å¿—çš„æ—¶å€™ç¼–ç æ ¼å¼æ˜¯utf-8ï¼Œä½†æ˜¯windowså¾—ç¼–ç æ ¼å¼æ˜¯GBKï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦åœ¨confç›®å½•ä¿®æ”¹é…ç½®ï¼Œæ‰¾åˆ°loggingçš„è‹±æ–‡å°†utf-8ä¿®æ”¹æˆGBKå°±å¥½äº†ã€‚</p>
<p><strong>ä¿®æ”¹Tomcatç›‘å¬ç«¯å£</strong></p>
<p>åœ¨server.xmlé‡Œé¢ä¿®æ”¹portç«¯å£å·å°±èƒ½ä¿®æ”¹ç›‘å¬çš„ç«¯å£äº†</p>
<p><strong>å¯ä»¥é…ç½®Tomcatå¹¶å‘æ•°</strong></p>
<p>åœ¨Connecteré‡Œé¢å¯ä»¥è‡ªå·±é…ç½®æœ‰</p>
<p>maxSpareThreadæœ€å¤§å¹¶å‘æ•°</p>
<p>minSpareThreadæœ€å°å¹¶å‘æ•°ï¼Œä¸€æ—¦æœ€å¤§çº¿ç¨‹æ•°è¶…è¿‡500,tomcatå°±ä¼šå…³é—­socketçº¿ç¨‹ã€‚</p>
<p>ç„¶åacceptCountæ˜¯å½“æ‰€æœ‰çº¿ç¨‹éƒ½è¢«å ç”¨æ—¶ï¼Œå¯ä»¥æ”¾åˆ°å¤„ç†é˜Ÿåˆ—ä¸­ç­‰å¾…çš„æ•°é‡ï¼Œä¸€æ—¦è¶…è¿‡è¿™ä¸ªæ•°é‡å°±ä¸ä¼šå…è®¸å¤„ç†äº†ã€‚</p>
<p><strong>é…ç½®Tomcat Manager</strong></p>
<p><strong>ä»€ä¹ˆæ˜¯Tomcat Manager</strong>è¿™ä¸ªæ˜¯tomcatè‡ªå¸¦çš„ï¼Œä½†æ˜¯é»˜è®¤ä¸€èˆ¬ä¼šç¦ç”¨ï¼Œé™¤éæˆ‘ä»¬è‡ªå·±è®¾ç½®ï¼Œè¿™ä¸ªä½¿æˆ‘ä»¬ç”¨æ¥ç®¡ç†tomcaté‡Œé¢çš„webåº”ç”¨ç¨‹åºçš„</p>
<p><strong>é…ç½®tomcatè®¿é—®ç”¨æˆ·</strong></p>
<p>Tomcat Managerä¸­æ²¡æœ‰è®¿é—®ç”¨æˆ·æ‰€ä»¥è¦ç”¨åˆ°tomcat-user.xmlä¸­é…ç½®è®¿é—®ç”¨æˆ·ï¼Œé…ç½®éœ€è¦ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯è§’è‰²é…ç½®ï¼Œç”¨æˆ·åå’Œå¯†ç </p>
<p><strong>Tomcat Managerä¸­çš„è§’è‰²åˆ†ç±»</strong></p>
<p>manager-guiè§’è‰²ï¼š</p>
<p>å…è®¸è®¿é—®HTML GUIå’ŒçŠ¶æ€é¡µé¢(å³URLè·¯å¾„ä¸º/manager/html/*)</p>
<p>manager-scriptè§’è‰²ï¼š</p>
<p>å…è®¸è®¿é—®æ–‡æœ¬ç•Œé¢å’ŒçŠ¶æ€é¡µé¢(å³URLè·¯å¾„ä¸º/manager/text/*)</p>
<p>manager-jmxè§’è‰²ï¼š</p>
<p>å…è®¸è®¿é—®JMXä»£ç†å’ŒçŠ¶æ€é¡µé¢(å³URLè·¯å¾„ä¸º/manager/jmxproxy/*)</p>
<p>manager- statusè§’è‰²ï¼š</p>
<p>ä»…å…è®¸è®¿é—®çŠ¶æ€é¡µé¢(å³URLè·¯å¾„ä¸º/manager/status/*)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">role</span>   <span class="attr">rolename</span>=<span class="string">&quot;manager-gui&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">role</span>   <span class="attr">rolename</span>=<span class="string">&quot;manager-script&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">role</span>   <span class="attr">rolename</span>=<span class="string">&quot;manager-jmx&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-status&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">role</span>   <span class="attr">rolename</span>=<span class="string">&quot;admin-gui&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">role</span>   <span class="attr">rolename</span>=<span class="string">&quot;admin-script&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">user</span> <span class="attr">username</span>=<span class="string">&quot;tomcat&quot;</span>   <span class="attr">password</span>=<span class="string">&quot;tomcat&quot;</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag"><span class="attr">roles</span>=<span class="string">&quot;manager-gui,manager-script,manager-jmx,manager-status,admin-gui,admin-script&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Tomcatä¸»è¦ç»„ä»¶"><a href="#Tomcatä¸»è¦ç»„ä»¶" class="headerlink" title="Tomcatä¸»è¦ç»„ä»¶"></a>Tomcatä¸»è¦ç»„ä»¶</h3><p><strong>Serverç»„ä»¶</strong></p>
<p>å¯åŠ¨ä¸€ä¸ªServerå°±æ˜¯å¯åŠ¨ä¸€ä¸ªJVMç„¶åä»–çš„ç«¯å£å·æ˜¯8005ï¼Œä¸»è¦ç”¨æ¥æ¥æ”¶shotdownçš„æŒ‡ä»¤ï¼Œç”¨æ¥å…³é—­tomcatï¼Œé»˜è®¤è®¾ç½®å°±æ˜¯shotdown,serverå®šä¹‰ä¸èƒ½ä½¿ç”¨åŒä¸€ä¸ªç«¯å£ï¼Œä¹Ÿå°±æ˜¯å¦‚æœå¯åŠ¨äº†å¤šä¸ªserveré‚£ä¹ˆç«¯å£å°±ä¸èƒ½è®¾ç½®ä¸º8005</p>
<p><strong>Serviceç»„ä»¶</strong></p>
<p>Servieceä¸»è¦å…³è”ä¸€ä¸ªå¼•æ“å’Œå¤šä¸ªè¿æ¥å™¨ï¼Œnameä¸ºCatalinaæ­¤æœåŠ¡åç§°ä¸ºCatalinaã€‚</p>
<p><strong>Connectorç»„ä»¶</strong></p>
<p>æ”¯æŒå¤„ç†ä¸åŒè¯·æ±‚çš„ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸»è¦å¤„ç†è¿æ¥å™¨æ‰€è¿æ¥çš„ç»„ä»¶ï¼Œä»¥é€‚åº”å¤šç§è¯·æ±‚æ–¹å¼ã€‚é»˜è®¤åªå¼€å¯äº†httpåè®®çš„è¿æ¥å™¨ï¼Œåœ¨Tomcatä¸­çš„è¿æ¥å™¨ç±»å‹æœ‰å››ç§</p>
<p>1ã€HTTPè¿æ¥å™¨</p>
<p>2ã€SSLè¿æ¥å™¨</p>
<p>3ã€AJP 1.3è¿æ¥å™¨</p>
<p>4ã€proxyè¿æ¥å™¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240203142751599.png" alt="image-20240203142751599"></p>
<p>è¿™é‡Œçš„portæ˜¯ç›‘å¬çš„ç«¯å£ï¼Œä»€ä¹ˆæ˜¯ç›‘å¬åé¢ä¼šè¯´</p>
<p>protocolæ˜¯è¿æ¥å™¨ä½¿ç”¨çš„åè®®</p>
<p>redirectPortå°±æ˜¯å®¢æˆ·ç«¯å‘æ¥æ¶ˆæ¯çš„æ—¶å€™å°±ä¼šæŠŠæ¶ˆæ¯å‘åˆ°8443è¿™ä¸ªç«¯å£å·è¿™é‡Œ</p>
<p><strong>Enigineç»„ä»¶</strong></p>
<p>Engineæ˜¯Serviceçš„ä¸€ä¸ªå®ä¾‹ï¼Œå°±æ˜¯servletçš„å¼•æ“</p>
<p><strong>Hostç»„ä»¶</strong></p>
<p>ä½äºEngineå®¹å™¨ä¸­ç”¨äºæ¥å—è¯·æ±‚å¹¶è¿›è¡Œç›¸åº”å¤„ç†çš„è™šæ‹Ÿä¸»æœºã€‚</p>
<p><strong>Contextç»„ä»¶</strong></p>
<p>Contextæ˜¯Hostçš„å­æ ‡ç­¾ï¼Œä»£è¡¨æŒ‡å®šçš„ä¸€ä¸ªWebåº”ç”¨ï¼Œæ¯ä¸€ä¸ªwebåº”ç”¨éƒ½æ˜¯waråŒ…æˆ–è€…æ–‡ä»¶ç›®å½•,é‡Œé¢ä¼šå†™Webåº”ç”¨çš„å­˜æ”¾ä½ç½®</p>
<p><strong>Tomcatå¤„ç†è¯·æ±‚çš„è¿‡ç¨‹</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240203143540798.png" alt="image-20240203143540798"></p>
<p>1ã€é¦–å…ˆç”¨æˆ·è®¿é—®localhost:8080/test/index.jspè¿™ç§è·¯å¾„ç„¶åæµè§ˆå™¨å°±ä¼šå‘é€è¯·æ±‚ç»™tomcatï¼Œè¢«ç›‘å¬çš„8080ç«¯å£å¹¶å¤„ç†HTTP/1.1åè®®</p>
<p>çš„Connecterè·å¾—ï¼Œ</p>
<p>2ã€Connecterä¼šæŠŠè¯·æ±‚äº¤ç»™ä»–æ‰€åœ¨çš„Serviceçš„Engineæ¥å¤„ç†ï¼Œå¹¶ç­‰å¾…Engineçš„å›åº”ã€‚</p>
<p>3ã€ç„¶åEngineè·å¾—è¿™ä¸ªlocalhost:8080/test/index.jspè·¯å¾„ï¼ŒåŒ¹é…æ‰€æœ‰çš„è™šæ‹Ÿä¸»æœºHost</p>
<p>4ã€ç„¶åHostä¼šæ ¹æ®/testæ¥åŒ¹é…ä»–æ‰€æ‹¥æœ‰çš„Context,ç„¶åContextæ˜¯ç”¨æ¥å†™webåº”ç”¨ç¨‹åºçš„è·¯å¾„çš„ç„¶åå°±ä¼šæ‰¾åˆ°æˆ‘ä»¬çš„ç¨‹åº</p>
<p>5ã€å¼€å§‹ç¨‹åºçš„æ—¶å€™æ„é€ HttpServletRequestå¯¹è±¡å’ŒHttpServletResponseå¯¹è±¡ï¼Œç„¶åå¼€å§‹ä¸šåŠ¡é€»è¾‘çš„æ‰§è¡Œï¼Œå°†å®¢æˆ·ç«¯ä¼ æ¥çš„æ•°æ®å½“åšå‚æ•°è°ƒç”¨JspServletçš„doGet()æˆ–è€…doPost()æ¥è·å–å‚æ•°ï¼Œä»¥åŠç”¨é‡Œé¢çš„APIæ¥å®Œæˆæ³¨å†Œæ•°æ®ç­‰æ“ä½œ</p>
<p>7ã€æ‰§è¡Œå®Œè¿™äº›åï¼ŒContextä¼šå°†æ‰§è¡Œåçš„ç»“æœé€šè¿‡HttpServletResponseå¯¹è±¡è¿”å›ç»™Host.</p>
<p>8ã€HostæŠŠHttpServletResponseè¿”å›ç»™Engine</p>
<p>9ã€EngineæŠŠHttpServletResponseè¿”å›ç»™Context</p>
<p>10ã€ç„¶åç»§ç»­è¿”å›ç»™å®¢æˆ·å°±å®Œæˆäº†ã€‚</p>
<h3 id="Httpåè®®"><a href="#Httpåè®®" class="headerlink" title="Httpåè®®"></a>Httpåè®®</h3><h4 id="Httpåè®®-1"><a href="#Httpåè®®-1" class="headerlink" title="Httpåè®®"></a>Httpåè®®</h4><p>åè®® Protocol</p>
<p>Aç»™Bå‘é€ä¸€æ¡æ¶ˆæ¯</p>
<p>å†…å®¹ what do you want to eat? ä»Šæ™šæƒ³åƒä»€ä¹ˆ</p>
<p>è§„åˆ™ï¼š è‹±æ–‡  ä¸­æ–‡     åº”ç”¨å±‚åè®®      æ•°æ®å¦‚ä½•è§£æå¦‚ä½•ä½¿ç”¨       http ftpâ€¦.</p>
<p>æ–¹å¼ï¼šå¾®ä¿¡ QQ çŸ­ä¿¡      ä¼ è¾“å±‚åè®®           æ•°æ®å¦‚ä½•å‘é€å’Œæ¥å—       tcp udp</p>
<p>åœ°å€ï¼šå¾®ä¿¡å·   QQå·    ç”µè¯å·       ç½‘ç»œåè®®        æ•°æ®æ¥æ”¶å’Œå‘é€çš„ä½ç½®    ip</p>
<p>Httpåè®®å°±æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®</p>
<p>æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨tcpä¹‹ä¸Šï¼Œå®ƒæŒ‡å®šäº†å®¢æˆ·ç«¯å¯èƒ½å‘é€ç»™æœåŠ¡å™¨ä»€ä¹ˆæ ·çš„ä¿¡æ¯ä»¥åŠå¾—åˆ°ä»€ä¹ˆå“åº”ã€‚</p>
<p>HTTPåè®®çš„ç‰¹ç‚¹</p>
<p>1ã€æ”¯æŒå®¢æˆ·ç«¯ã€æœåŠ¡å™¨æ¨¡å¼</p>
<p>HTTPåè®®æ”¯æŒå®¢æˆ·ç«¯æœåŠ¡å™¨æ¨¡å¼ï¼Œéœ€è¦ä½¿ç”¨æµè§ˆå™¨ä½œä¸ºå®¢æˆ·ç«¯æ¥è®¿é—®æµè§ˆå™¨</p>
<p>2ã€é€šè®¯å¿«é€Ÿ3ã€çµæ´»4ã€æ— è¿æ¥ æ¯æ¬¡è¯·æ±‚ä¸€æ¬¡ï¼Œå°±æ˜¯æ”¾ä¸€æ¬¡é“¾æ¥</p>
<p>5ã€å•å‘æ€§ï¼šæœåŠ¡ç«¯æ°¸è¿œç­‰å¾…å®¢æˆ·ç«¯çš„è¯·æ±‚</p>
<p>6ã€æ— çŠ¶æ€ï¼šå¯¹å¤±è¯¯å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼Œä¼ ä¸è¿‡å»åªèƒ½é‡æ–°ä¼ ã€‚</p>
<p><strong>HTTPåè®®å‘å±•å’Œç‰ˆæœ¬</strong></p>
<p><strong>http1.0</strong>æœ€æ—©åœ¨1996å¹´åœ¨ç½‘é¡µä¸­ä½¿ç”¨ï¼Œå†…å®¹ç®€å•ï¼Œæ‰€ä»¥æ¯æ¬¡è¯·æ±‚éƒ½ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªTCPé“¾æ¥ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œä¹‹åå°±ç«‹åˆ»æ–­å¼€è¿æ¥äº†ï¼ŒæœåŠ¡å™¨ä¸è·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ç«¯ä¹Ÿä¸è®°å½•è¿‡å»çš„è¯·æ±‚ï¼Œè¯·æ±‚åªèƒ½ç”±å®¢æˆ·ç«¯å‘èµ·ã€‚</p>
<p><strong>http1.1</strong></p>
<p>è¿™ä¸ªæ—¶å€™HTTPå·²ç»é»˜è®¤ä½¿ç”¨Connection:keep-aliveï¼ˆé•¿è¿æ¥ï¼‰,ä¹Ÿå°±æ˜¯ä¸€æ¬¡è¿æ¥ï¼Œå¯ä»¥å¤šæ¬¡è¯·æ±‚ã€‚</p>
<p>è¿™æ ·å°±å‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥æ‰€æ¶ˆè€—çš„æ—¶é—´å’Œå»¶æ—¶</p>
<p>ä¸€ä¸ªåŒ…å«è®¸å¤šå›¾åƒçš„ç½‘é¡µæ–‡ä»¶çš„å¤šä¸ªè¯·æ±‚å’Œåº”ç­”å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸­ä¼ è¾“ï¼Œä½†æ¯ä¸ªå•ç‹¬çš„ç½‘é¡µæ–‡ä»¶çš„è¯·æ±‚å’Œåº”ç­”ä»ç„¶éœ€è¦ä½¿ç”¨å„è‡ªçš„é“¾æ¥ã€‚HTTP1.1è¿˜å…è®¸å®¢æˆ·ç«¯ä¸ç”¨ç­‰å¾…ä¸Šä¸€æ¬¡è¯·æ±‚ç»“æœè¿”å›å°±å‘å‡ºä¸‹ä¸€æ¬¡è¯·æ±‚ï¼Œä½†æœåŠ¡å™¨ç«¯å¿…é¡»æŒ‰ç…§æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚çš„å…ˆåé¡ºåºä¾æ¬¡è¿”å›å“åº”ç»“æœï¼Œä»¥ä¿è¯å®¢æˆ·ç«¯èƒ½å¤ŸåŒºåˆ†å‡ºæ¯æ¬¡è¯·æ±‚çš„å“åº”å†…å®¹ï¼Œè¿™æ ·å°±å‡å°‘äº†æ•´ä¸ªä¸‹è½½è¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„æ—¶é—´ã€‚</p>
<p><strong>http2.0</strong></p>
<p><strong>é•¿è¿æ¥</strong></p>
<p>æ²¿ç”¨äº†http1.1çš„ä¼˜åŠ¿</p>
<p><strong>å¤šè·¯å¤ç”¨</strong></p>
<p>HTTP2.0åŠ å¼ºçš„æ˜¯äºŒè¿›åˆ¶ä¼ è¾“ï¼Œåœ¨HTTP1.xä¸­ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡æ–‡æœ¬çš„æ–¹å¼ä¼ è¾“æ•°æ®ï¼Œåœ¨HTTP2.0ä¸­å¼•å…¥äº†æ–°çš„ç¼–ç æœºåˆ¶ï¼Œæ‰€ä¼ è¾“çš„æ•°æ®éƒ½ä¼šè¢«åˆ†å‰²ï¼Œå¹¶é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ç¼–ç </p>
<p>å¤šè·¯å¤ç”¨ï¼Œè¿æ¥å…±äº«ã€‚ä¸åŒçš„requestå¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªé“¾æ¥ä¼ è¾“ï¼Œï¼ˆæœ€åæ ¹æ®æ¯ä¸ªrequestä¸Šçš„idå·ç»„åˆæˆæ­£å¸¸çš„è¯·æ±‚ï¼‰</p>
<p>HTTP2.0,æœ‰ä¸¤ä¸ªæ¦‚å¿µå¾ˆé‡è¦ï¼šå¸§ï¼ˆframeï¼‰å’Œæµï¼ˆstreamï¼‰</p>
<p>å¸§æ˜¯æœ€å°çš„æ•°æ®å•ä½ï¼Œæ¯ä¸ªå¸§ä¼šæ ‡è¯†å‡ºè¯¥å¸§å±äºå“ªä¸ªæµï¼Œæµæ˜¯å¤šä¸ªå¸§ç»„æˆçš„æ•°æ®æµ</p>
<p>å¤šè·¯å¤ç”¨çš„æ„æ€å°±æ˜¯åœ¨ä¸€ä¸ªTCPé“¾æ¥ä¸­å­˜åœ¨å¤šä¸ªæµï¼Œå¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚ï¼Œå¯¹ç«¯å¯ä»¥åŒè¿‡å¸§ä¸­çš„è¡¨ç¤ºçŸ¥é“è¯¥å¸§å±äºå“ªä¸ªè¯·æ±‚ï¼Œåœ¨å®¢æˆ·ç«¯ï¼Œè¿™äº›å¸§ä¹±åºå‘é€ï¼åœ¨1.xçš„æ—¶å€™æ˜¯é¡ºåºå‘é€çš„ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ä¹±åºå‘é€ï¼Œåˆ°å¯¹ç«¯åå†æ ¹æ®æ¯ä¸ªå¸§é¦–éƒ¨ çš„æµæ ‡è¯†ç¬¦é‡æ–°ç»„è£…ã€‚é€šè¿‡è¯¥æŠ€æœ¯ï¼Œå¯ä»¥é¿å…HTTPæ—§ç‰ˆæœ¬çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œæå¤§æé«˜ä¼ è¾“æ€§èƒ½ã€‚</p>
<p>é˜Ÿå¤´é˜»å¡é—®é¢˜å¯ä»¥ç†è§£æ–‡ç”±äºæ˜¯é¡ºåºå‘é€ï¼Œä½†æ˜¯æœ‰å¯èƒ½æ’åœ¨ç¬¬ä¸€çš„æ–‡ä»¶å†…å®¹å¾ˆå¤§ï¼Œå¯¼è‡´ä¸€ç›´åœ¨é˜Ÿå¤´ä½†æ˜¯å‘é€ä¸å‡ºå»ï¼Œå…¶ä»–çš„å·²ç»å¼„å¥½äº†ï¼Œä½†æ˜¯ç”±äºæ˜¯é¡ºåºå‘é€æ‰€ä»¥å°±é€ æˆäº†é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œè€Œä¸”åœ¨å®é™…é—®é¢˜ä¸­å¹¶ä¸çŸ¥é“é‚£ä¸ªæ–‡ä»¶æ˜¯å¤§é‚£ä¸ªæ–‡ä»¶æ˜¯å°çš„ã€‚</p>
<p><strong>é¦–éƒ¨å‹ç¼©</strong></p>
<p>ç”±äº1.1headerå¸¦æœ‰å¤§é‡çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¾—é‡å¤ä¼ è¾“ï¼Œ2.0ä½¿ç”¨encoderæ¥å‡å°‘éœ€è¦ä¼ è¾“çš„headerçš„å¤§å°</p>
<p><strong>æœåŠ¡ç«¯æ¨é€</strong></p>
<p>åœ¨HTTP2.0ä¸­ï¼ŒæœåŠ¡æ®µå…‹å·²åœ¨å®¢æˆ·ç«¯æŸä¸ªè¯·æ±‚åï¼Œä¸»åŠ¨æ¨é€å…¶ä»–èµ„æºã€‚</p>
<p>å°±æ˜¯æœ‰ä¸€äº›è¯·æ±‚å®¢æˆ·ç«¯æ˜¯ä¸€å®šä¼šè¯·æ±‚çš„é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼ŒæœåŠ¡å™¨å°±ä¼šä¸»åŠ¨æ¨é€ç»™å®¢æˆ·ç«¯ï¼Œé‡‡ç”¨æœåŠ¡ç«¯pushæŠ€æœ¯ï¼Œæå‰ç»™å®¢æˆ·ç«¯æ¨é€å¿…è¦çš„èµ„æºã€‚</p>
<p><strong>æ›´å®‰å…¨</strong></p>
<p>å¢åŠ äº†é»‘åå•æœºåˆ¶ï¼Œç¦ç”¨äº†ä¸å®‰å…¨çš„åŠ å¯†ç®—æ³•</p>
<h4 id="HTTPè¯·æ±‚"><a href="#HTTPè¯·æ±‚" class="headerlink" title="HTTPè¯·æ±‚"></a>HTTPè¯·æ±‚</h4><p>å½“åœ¨æµè§ˆå™¨è¾“å…¥URLçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªrequestæ¥å»è·å–è·¯å¾„ä¸‹çš„èµ„æºï¼Œè¿™æ—¶å€™æœåŠ¡å™¨ä¼šæŠŠresponseå‘é€çš„æ¶ˆæ¯ç»™æµè§ˆå™¨</p>
<p>ç„¶åæµè§ˆå™¨ä¼šåˆ†æresponseä¸­çš„htmlå‘ç°è¿˜æœ‰å¾ˆå¤šå¼•ç”¨çš„æ–‡ä»¶æ¯”å¦‚css,jsç­‰</p>
<p>æµè§ˆå™¨ä¼šè‡ªåŠ¨å†æ¬¡å‘é€requestå»è·å–å›¾ç‰‡ï¼Œcss,jsç­‰æ–‡ä»¶</p>
<p>ç­‰æ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¸‹è½½æˆåŠŸåï¼Œç½‘é¡µå°±æ˜¾ç¤ºå‡ºæ¥äº†</p>
<p><strong>requeståˆ†æˆä¸‰ä¸ªéƒ¨åˆ†</strong>ï¼šç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯request lineï¼Œç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯request headerï¼Œç¬¬ä¸‰ä¸ªéƒ¨åˆ†æ˜¯request body</p>
<p>è¯·æ±‚çš„ä¸»è¦éƒ¨åˆ†</p>
<p>è¯·æ±‚è¡Œ request line </p>
<p>get/myproject/img/logo.png HTTP/1.1</p>
<p>1ã€è¯·æ±‚æ–¹å¼ é»˜è®¤get</p>
<p>2ã€èµ„æºè·¯å¾„</p>
<p>3ã€è¯·æ±‚ä½¿ç”¨çš„åè®®</p>
<p>è¯·æ±‚å¤´ request header é”®å€¼å¯¹</p>
<p>è¯·æ±‚ä½“ request body</p>
<p>getæ–¹å¼è¯·æ±‚ï¼Œæ•°æ®ä¼šç›´æ¥æ”¾åœ¨URLåœ°å€åï¼Œè¯·æ±‚ä½“ä¸­æ²¡æœ‰æ•°æ®</p>
<p>POSTæ–¹å¼è¯·æ±‚ï¼Œè¯·æ±‚ä½“ä¸­ä¼šæœ‰æ•°æ®</p>
<h5 id="è¯·æ±‚è¡Œ"><a href="#è¯·æ±‚è¡Œ" class="headerlink" title="è¯·æ±‚è¡Œ"></a><strong>è¯·æ±‚è¡Œ</strong></h5><p>GET/course/id/1.html?a=3 HTTP/1.1</p>
<p>POST /login HTTP/1.1</p>
<h5 id="è¯·æ±‚å¤´"><a href="#è¯·æ±‚å¤´" class="headerlink" title="è¯·æ±‚å¤´"></a><strong>è¯·æ±‚å¤´</strong></h5><p>è¯·æ±‚å¤´ç”¨äºè¯´æ˜æ˜¯è°æˆ–ä»€ä¹ˆåœ¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚æºäºä½•å¤„ï¼Œæˆ–è€…å®¢æˆ·ç«¯çš„å–œå¥½åŠèƒ½åŠ›ã€‚æœåŠ¡å™¨å¯ä»¥æ ¹æ®è¯·æ±‚å¤´éƒ¨ç»™å‡ºçš„å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œè¯•ç€ç»™å®¢æˆ·ç«¯æä¾›æ›´å¥½çš„å“åº”ã€‚è¯·æ±‚å¤´ä¸­çš„ä¿¡æ¯çš„æ ¼å¼ä¸º key :value</p>
<p>è¯·æ±‚å¤´ä¸­åŒ…å«ï¼š</p>
<p><strong>Host</strong></p>
<p>å®¢æˆ·ç«¯æŒ‡å®šè‡ªå·±æƒ³è¦è®¿é—®çš„webæœåŠ¡å™¨çš„åŸŸå/IP åœ°å€å’Œç«¯å£å·</p>
<p><strong>Connection</strong></p>
<p>è¿æ¥æ–¹å¼ã€‚å¦‚æœæ˜¯closeé‚£ä¹ˆå°±æ˜¯çŸ­è¿æ¥çš„æ–¹å¼ï¼Œå¦‚æœæ˜¯keep-aliveå°±æ˜¯é•¿è¿æ¥çš„æ–¹å¼ï¼Œç½‘ç»œè¿æ¥å°±æ˜¯æŒä¹…çš„ã€‚</p>
<p><strong>Upgrade-Insecure-Requests</strong></p>
<p>æœåŠ¡ç«¯æ˜¯å¦æ”¯æŒhttpsåŠ å¯†åè®®</p>
<p><strong>Cache-Control</strong></p>
<p>æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶</p>
<p><strong>User-Agent</strong></p>
<p>æµè§ˆå™¨è¡¨æ˜è‡ªå·±çš„èº«ä»½ï¼ˆæ˜¯é‚£ç§æµè§ˆå™¨ï¼‰</p>
<p><strong>Accept</strong></p>
<p>å‘Šè¯‰WEBæœåŠ¡å™¨è‡ªå·±æ¥å—ä»€ä¹ˆç±»å‹ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*<span class="comment">/*   //è¡¨ç¤ºä»»ä½•ç±»å‹</span></span><br><span class="line"><span class="comment">type/* //è¡¨ç¤ºè¯¥ç±»å‹ä¸‹çš„æ‰€æœ‰å­ç±»å‹</span></span><br></pre></td></tr></table></figure>
<p><strong>Accept-Encoding</strong></p>
<p>æµè§ˆå™¨ç”³æ˜è‡ªå·±æ¥å—çš„ç¼–ç æ–¹æ³•ï¼Œé€šå¸¸æŒ‡å®šå‹ç¼©æ–¹æ³•ï¼Œæ˜¯å¦æ”¯æŒå‹ç¼©ï¼Œæ”¯æŒä»€ä¹ˆå‹ç¼©æ–¹æ³•ï¼ˆgzip,deflate)</p>
<p><strong>Accept-Language</strong></p>
<p>æµè§ˆå™¨ç”³æ˜è‡ªå·±æ¥å—çš„è¯­è¨€ã€‚è¯­è¨€è·Ÿå­—ç¬¦é›†çš„åŒºåˆ«ï¼šä¸­æ–‡æ˜¯è¯­è¨€ï¼Œä¸­æ–‡æœ‰å¾ˆå¤šå­—ç¬¦é›†ï¼Œæ¯”å¦‚gbk,gb2312</p>
<p><strong>Accept-Charset</strong></p>
<p>æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨è‡ªå·±èƒ½æ¥å—çš„å­—ç¬¦é›†</p>
<p><strong>Referer</strong></p>
<p>æµè§ˆå™¨å‘WEBæœåŠ¡å™¨è¡¨æ˜è‡ªå·±æ˜¯ä»å“ªä¸ªç½‘é¡µURLè·å¾—ç‚¹å‡»å½“å‰è¯·æ±‚ä¸­çš„ç½‘å€/URL</p>
<p><strong>Refresh</strong></p>
<p>è¡¨ç¤ºæµè§ˆå™¨åº”è¯¥åœ¨å¤šå°‘æ—¶é—´ä¹‹ååˆ·æ–°æ–‡æ¡£ï¼Œä»¥ç§’è®¡æ—¶</p>
<p><strong>Cookie</strong></p>
<p>å¯ä»¥å‘æœåŠ¡ç«¯ä¼ é€’æ•°æ®ä¸€ç§æ¨¡å‹</p>
<h5 id="è¯·æ±‚ä½“"><a href="#è¯·æ±‚ä½“" class="headerlink" title="è¯·æ±‚ä½“"></a>è¯·æ±‚ä½“</h5><p>å®¢æˆ·ç«¯ä¼ é€’ç»™æœåŠ¡å™¨çš„æ•°æ®ã€‚æ¯”å¦‚ï¼šè¡¨å•ä½¿ç”¨postæ–¹å¼æäº¤çš„æ•°æ®ï¼Œä¸Šä¼ çš„æ–‡ä»¶æ•°æ®ç­‰ã€‚</p>
<p><strong>è¯·æ±‚æ–¹å¼</strong></p>
<p>GET</p>
<p>å‘æŒ‡å®šçš„èµ„æºå‘å‡ºâ€œæ˜¾ç¤ºâ€è¯·æ±‚ã€‚GETè¯·æ±‚ä¸­ä¼šå°†è¯·æ±‚ä¸­ä¼ é€’çš„æ•°æ®åŒ…å«åœ¨URLä¸­å¹¶åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­æ˜¾ç¤ºã€‚GETè¯·æ±‚ä¼ é€’æ•°æ®æ—¶è¦æ±‚æ•°æ®å¿…é¡»æ˜¯ASCLLå­—ç¬¦ã€‚GETè¯·æ±‚å¯ä»¥è¢«æµè§ˆå™¨ç¼“å­˜ã€‚</p>
<p>POST</p>
<p>å‘æŒ‡å®šèµ„æºæäº¤æ•°æ®ï¼Œè¯·æ±‚æœåŠ¡å™¨è¿›è¡Œå¤„ç†ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚ä¼ é€’æ•°æ®æ—¶ï¼Œæ•°æ®å¯ä»¥è¯•è¯•ASCLLå­—ç¬¦ä¹Ÿå¯ä»¥æ˜¯å­—èŠ‚å‹æ•°æ®ï¼Œé»˜è®¤ä¸ºå­—ç¬¦å‹ã€‚POSTè¯·æ±‚é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šè¢«æµè§ˆå™¨æ‰€ç¼“å­˜ã€‚</p>
<p>HEAD</p>
<p>å‘æœåŠ¡å™¨ç´¢è¦ä¸GETè¯·æ±‚ç›¸ä¸€è‡´çš„å“åº”ï¼Œåªä¸è¿‡å“åº”ä½“å°†ä¸ä¼šè¢«è¿”å›ã€‚è¿™ä¸€æ–¹æ³•å¯ä»¥å†ä¸å¿…ä¼ è¾“æ•´ä¸ªç›¸åº”å†…å®¹çš„æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥è·å–åŒ…å«åœ¨å“åº”æ¶ˆæ¯å¤´ä¸­çš„å…ƒä¿¡æ¯ã€‚ </p>
<p>PUT</p>
<p>å‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹</p>
<p>DELETE</p>
<p>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URLæ‰€è¡¨ç¤ºçš„èµ„æº</p>
<p>TRACE</p>
<p>å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</p>
<p>OPTIONS</p>
<p>è¿™ä¸ªæ–¹æ³•å¯ä»¥ä½¿æœåŠ¡å™¨ä¼ å›è¯¥èµ„æºæ‰€æ”¯æŒçš„æ‰€æœ‰HTTPè¯·æ±‚æ–¹æ³•ã€‚ç”¨â€˜*â€™æ¥ä»£æ›¿èµ„æºåç§°ï¼Œå‘WebæœåŠ¡å™¨å‘é€OPTIONSè¯·æ±‚ï¼Œå¯ä»¥æµ‹è¯•æœåŠ¡å™¨åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿ä½œã€‚</p>
<p>CONNECT</p>
<p>HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äºSSLåŠ å¯†æœåŠ¡å™¨çš„é“¾æ¥ï¼ˆç»ç”±éåŠ å¯†çš„HTTPä»£ç†æœåŠ¡å™¨ï¼‰</p>
<p><strong>GETå’ŒPOSTçš„åŒºåˆ«</strong></p>
<p>1ã€GETåœ¨æµè§ˆå™¨å›é€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€ŒPOSTä¼šå†æ¬¡æäº¤è¯·æ±‚</p>
<p>2ã€GETäº§ç”Ÿçš„URLåœ°å€å¯ä»¥è¢«Bookmarkï¼ˆè¢«ä¿å­˜ä¸ºä¹¦ç­¾ï¼‰,è€ŒPOSTä¸å¯ä»¥ã€‚</p>
<p>3ã€GETè¯·æ±‚åªä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨cacheï¼Œè€ŒPOSTä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®ã€‚</p>
<p>4ã€GETè¯·æ±‚åªèƒ½è¿›è¡Œurlç¼–ç ï¼Œè€ŒPOSTæ”¯æŒå¤šç§ç¼–ç æ–¹å¼</p>
<p>5ã€GETè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€ŒPOSTä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™</p>
<p>6ã€GETè¯·æ±‚åœ¨URLä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œè€ŒPOSTåˆ™æ²¡æœ‰ã€‚å¯¹å‚æ•°çš„æ•°æ®ç±»å‹GETå€¼æ¥å—ASCLLå­—ç¬¦ï¼Œè€ŒPOSTå³å¯æ˜¯å­—ç¬¦ä¹Ÿå¯ä»¥æ˜¯å­—èŠ‚</p>
<p>7ã€GETæ¯”POSTæ›´ä¸å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ç›´æ¥æš´éœ²åœ¨    URLä¸Šï¼Œæ‰€ä»¥ä¸èƒ½ç”¨æ¥ä¼ é€’æ•æ„Ÿä¿¡æ¯</p>
<p>8ã€GETå‚æ•°é€šè¿‡URLä¼ é€’ï¼ŒPOSTæ”¾åœ¨Request bodyä¸­</p>
<h4 id="HTTPå“åº”"><a href="#HTTPå“åº”" class="headerlink" title="HTTPå“åº”"></a>HTTPå“åº”</h4><p><strong>å“åº”çš„ä¸»è¦ç»„æˆéƒ¨åˆ†</strong></p>
<p>å“åº”è¡Œ HTTP/1.1 200</p>
<p>1ã€åè®®</p>
<p>2ã€å“åº”çŠ¶æ€ç  200 &gt;&gt; OK æ­£å¸¸å“åº”  304 é‡å®šå‘  404 è¯·æ±‚çš„èµ„æºä½ æ²¡æ‰¾åˆ°  500æœåŠ¡å™¨å‡ºç°å¼‚å¸¸æ²¡åŠæ³•å“åº”</p>
<p>å“åº”å¤´ </p>
<p>å“åº”ä½“</p>
<p><strong>å“åº”è¡Œ</strong>æ¯”è¯·æ±‚è¡Œå°±å¤šäº†ä¸ªçŠ¶æ€ç å°‘äº†ä¸ªè¯·æ±‚æ–¹å¼</p>
<p>çŠ¶æ€ç çš„è¯å¯ä»¥ä¸Šç½‘æœ</p>
<p><strong>å“åº”å¤´</strong></p>
<p>å“åº”å¤´ç”¨äºé«˜è„‚æµè§ˆå™¨å½“å‰å“åº”ä¸­çš„è¯¦ç»†ä¿¡æ¯ï¼Œæµè§ˆå™¨é€šè¿‡è·å–å“åº”å¤´ä¸­çš„ä¿¡æ¯å¯ä»¥çŸ¥é“åº”è¯¥å¦‚ä½•å¤„ç†å“åº”ç»“æœã€‚å“åº”å¤´ä¸­çš„ä¿¡æ¯æ ¼å¼æ˜¯é”®å€¼å¯¹çš„å½¢å¼ key:value</p>
<p><strong>Date</strong></p>
<p>å“åº”çš„Dateä½¿ç”¨çš„æ˜¯GMTæ—¶é—´æ ¼å¼ï¼Œè¡¨ç¤ºå“åº”æ¶ˆæ¯é€è¾¾æ—¶é—´</p>
<p><strong>Server</strong></p>
<p>æœåŠ¡å™¨é€šè¿‡è¿™ä¸ªServerå‘Šè¯‰æµè§ˆå™¨æœåŠ¡å™¨çš„ç±»å‹</p>
<p><strong>Vary</strong></p>
<p>å®¢æˆ·ç«¯ç¼“å­˜æœºåˆ¶æˆ–è€…æ˜¯ç¼“å­˜æœåŠ¡å™¨åœ¨åšç¼“å­˜æ“ä½œçš„æ—¶å€™ï¼Œä¼šç”¨åˆ°Varyå¤´ï¼Œä¼šè¯»å–å“åº”å¤´ä¸­çš„Varyå†…å®¹ï¼Œè¿›è¡Œä¸€äº›ç¼“å­˜çš„åˆ¤æ–­</p>
<p><strong>Context-Length</strong></p>
<p>è¡¨ç¤ºå†…å®¹é•¿åº¦ã€‚åªæœ‰å½“æµè§ˆå™¨ä½¿ç”¨æŒä¹…HTTPé“¾æ¥æ—¶æ‰éœ€è¦è¿™ä¸ªæ•°æ®</p>
<p><strong>Context-Type</strong></p>
<p>è¡¨ç¤ºå“åº”çš„æ–‡æ¡£å±äºä»€ä¹ˆMIMEç±»å‹</p>
<p><strong>å“åº”ä½“</strong></p>
<p>å“åº”ä½“å°±æ˜¯å“åº”çš„æ¶ˆæ¯ä½“ï¼Œå¦‚æœæ˜¯çº¯æ•°æ®å°±æ˜¯è¿”å›çº¯æ•°æ®ï¼Œå¦‚æœè¯·æ±‚çš„æ˜¯HTMLé¡µé¢ï¼Œé‚£ä¹ˆè¿”å›çš„å°±æ˜¯HTMLä»£ç ï¼Œå¦‚æœæ˜¯JSå°±æ˜¯JSä»£ç ï¼Œã€‚ã€‚ã€‚</p>
<h3 id="JAVAWEBé¡¹ç›®éƒ¨ç½²"><a href="#JAVAWEBé¡¹ç›®éƒ¨ç½²" class="headerlink" title="JAVAWEBé¡¹ç›®éƒ¨ç½²"></a>JAVAWEBé¡¹ç›®éƒ¨ç½²</h3><p><strong>è®¤è¯†JAVAWEBé¡¹ç›®ç»“æ„</strong></p>
<p>-projecté¡¹ç›®çš„æ ¹ç›®å½•</p>
<pre><code>-é™æ€èµ„æºæ–‡ä»¶/jsp

-lib  jaråŒ…ç›®å½•

-classes  javaå­—èŠ‚ç ç›®å½•

-web.xml  é¡¹ç›®é…ç½®æ–‡ä»¶
</code></pre><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240204005127028.png" alt="image-20240204005127028"></p>
<h3 id="ä½¿ç”¨ideaå¼€å‘JAVAWEBé¡¹ç›®"><a href="#ä½¿ç”¨ideaå¼€å‘JAVAWEBé¡¹ç›®" class="headerlink" title="ä½¿ç”¨ideaå¼€å‘JAVAWEBé¡¹ç›®"></a>ä½¿ç”¨ideaå¼€å‘JAVAWEBé¡¹ç›®</h3><p>è¿™ä¸ªäº†è§£å³å¯ï¼Œä¸»è¦æ˜¯ç”¨æ¥ç†Ÿæ‚‰åœ¨tomcatæ˜¯å¦‚ä½•è¿è¡Œé¡¹ç›®çš„ã€‚</p>
<p>åœ¨å¯åŠ¨é¡¹ç›®å‰è¦åœ¨Edit Configuerationså¯¹é¡¹ç›®è¿›è¡Œå¯åŠ¨ä¹‹å‰çš„é…ç½®</p>
<p>åœ¨Deploymentä¸­ï¼Œç¡®è®¤éƒ¨ç½²çš„é¡¹ç›®æ˜¯ä¸æ˜¯æˆ‘ä»¬è¦è¿è¡Œçš„é¡¹ç›®</p>
<p>Application Contextä¸­æŒ‡å®šçš„æ˜¯æˆ‘ä»¬é¡¹ç›®è®¿é—®çš„è·¯å¾„å</p>
<p>åœ¨On Update actionï¼šå½“ä»£ç æ”¹å˜çš„æ—¶å€™ï¼Œéœ€è¦IDEAä¸ºä½ åšä»€ä¹ˆï¼›é€‰é¡¹ä¸ºUpdate classes and resourcesï¼Œæ„ä¹‰ä¸ºï¼šæ›´æ–°å­—èŠ‚ç å’Œå…¶ä»–èµ„æº</p>
<p>On frame deactivation: å½“å¤±å»ç„¦ç‚¹ï¼ˆæ¯”å¦‚ä½ æœ€å°åŒ–IDEAçª—å£ï¼‰ï¼Œéœ€è¦IDEAåšä»€ä¹ˆï¼Œé€‰é¡¹ä¸ºUpdate resources,æ„ä¹‰ä¸ºï¼šæ›´æ–°å…¶ä»–èµ„æº</p>
<h4 id="ç¬¬ä¸€ç§-Ideaéƒ¨ç½²JAVAWEBé¡¹ç›®å¹¶è¿è¡Œçš„æ–¹å¼ï¼ˆæŒæ¡ï¼‰"><a href="#ç¬¬ä¸€ç§-Ideaéƒ¨ç½²JAVAWEBé¡¹ç›®å¹¶è¿è¡Œçš„æ–¹å¼ï¼ˆæŒæ¡ï¼‰" class="headerlink" title="ç¬¬ä¸€ç§ Ideaéƒ¨ç½²JAVAWEBé¡¹ç›®å¹¶è¿è¡Œçš„æ–¹å¼ï¼ˆæŒæ¡ï¼‰"></a>ç¬¬ä¸€ç§ Ideaéƒ¨ç½²JAVAWEBé¡¹ç›®å¹¶è¿è¡Œçš„æ–¹å¼ï¼ˆæŒæ¡ï¼‰</h4><p>åœ¨ideaä¸­é»˜è®¤ä¸ä¼šæŠŠwebé¡¹ç›®çœŸæ­£çš„éƒ¨ç½²åˆ°Tomcatçš„webappsç›®å½•ä¸­ï¼Œè€Œæ˜¯é€šè¿‡æ¯ä¸ªwebé¡¹ç›®åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„Tomcatå‰¯æœ¬åœ¨Tomcatå‰¯æœ¬ä¸­é€šè¿‡çš„Tomcatçš„Contextç»„ä»¶å®Œæˆé¡¹ç›®çš„ç›®å½•æŒ‡å®šï¼Œåœ¨Contextç»„ä»¶çš„docBaseå±æ€§ä¸­ä¼šæŒ‡å®šIdeaå¯¹WEBé¡¹ç›®ç¼–è¯‘åçš„ç›®å½•ï¼Œè¿™ç§æ–¹å¼å°±æ˜¯ä»¥åspringbootä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p>
<p>Ideaä¼šé€šè¿‡æ‰§è¡ŒCatalina.batå¯åŠ¨è„šæœ¬å¯åŠ¨Tomcat,é€šè¿‡å¯åŠ¨å‚æ•°æ¥æŒ‡å®šå¯åŠ¨Tomcatå‰¯æœ¬è¿è¡ŒæŒ‡å®šç›®å½•ä¸­çš„é¡¹ç›®</p>
<p>Catalina_Baseï¼štomcatå‰¯æœ¬çš„å·¥ä½œç›®å½•</p>
<p>Catalina_HOME:Tomcatçš„å®‰è£…ç›®å½•</p>
<p>åœ¨Catalina.batå¯åŠ¨è„šæœ¬è¿è¡Œæ—¶ï¼Œä¼šå…ˆå»åˆ¤æ–­è„šæœ¬ä¸­çš„CATALINA_HOMEä»¥åŠCATALINA_BASEä¸­æ˜¯å¦æœ‰é»˜è®¤å€¼ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šç›´æ¥è¯»å–ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„å€¼ä½œä¸ºä»–çš„é»˜è®¤å€¼ã€‚</p>
<h3 id="Servlet-1"><a href="#Servlet-1" class="headerlink" title="Servlet"></a>Servlet</h3><p>Servletæ˜¯Server Appletçš„ç®€ç§°ï¼Œæˆä¸ºç¨‹åºç«¯å°ç¨‹åºï¼ŒServletä¸»è¦åŠŸèƒ½åœ¨äºèƒ½åœ¨æœåŠ¡å™¨ä¸­æ‰§è¡Œå¹¶ç”Ÿæˆæ•°æ®</p>
<p><strong>ServletæŠ€æœ¯ç‰¹ç‚¹</strong>ï¼šServletä½¿ç”¨å•è¿›ç¨‹å¤šçº¿ç¨‹æ–¹å¼è¿è¡Œã€‚</p>
<p><strong>Servletåœ¨åº”ç”¨ç¨‹åºä¸­çš„ä½ç½®</strong></p>
<p>æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰æ ¹æ®HTTPåè®®ï¼ˆprotocaol)è¿æ¥HTTP Server ç„¶åè¿æ¥Servlet,Servletè¿æ¥DaTabase</p>
<p><strong>é™æ€èµ„æºå’ŒåŠ¨æ€èµ„æºçš„åŒºåˆ†</strong></p>
<p>é™æ€èµ„æºï¼šæ¯æ¬¡è®¿é—®éƒ½ä¸éœ€è¦è¿ç®—ï¼Œç›´æ¥å°±å¯ä»¥è¿”å›çš„èµ„æºï¼Œæ¯”å¦‚HTML,CSS,JS</p>
<p>åŠ¨æ€èµ„æºï¼šæ¯æ¬¡è®¿é—®éƒ½éœ€è¦è¿ç®—ä»£ç ç”Ÿæˆçš„èµ„æºå¦‚SEervlet,JSP,æ¯æ¬¡è®¿é—®è·å¾—çš„ç»“æœå‘æ˜¯ä¸ä¸€æ ·çš„</p>
<p><strong>Servletåœ¨ç¨‹åºä¸­å¤„äºä¸€ä¸ªä»€ä¹ˆæ ·çš„åœ°ä½</strong></p>
<p>Servletæ˜¯å¯ä»¥æ¥å—Httpè¯·æ±‚å¹¶åšå‡ºå“åº”çš„ä¸€ç§æŠ€æœ¯ï¼ŒJAVAè¯­è¨€ç¼–å†™çš„ä¸€ç§åŠ¨æ€èµ„æº</p>
<p>Servletæ˜¯å‰åç«¯è¡”æ¥çš„ä¸€ç§æŠ€æœ¯ï¼Œä¸æ˜¯æ‰€æœ‰çš„JAVAç±»éƒ½å¯ä»¥æ¥å—è¯·æ±‚å’Œåšå‡ºå“åº”ï¼ŒServletå¯ä»¥</p>
<p>åœ¨MVCæ¨¡å¼ä¸­ï¼ŒServletä½œä¸ºControllerå±‚ä¸»è¦æŠ€æœ¯ï¼Œç”¨äºæµè§ˆå™¨å®Œæˆæ•°æ®äº¤äº’ï¼Œæ§åˆ¶äº¤äº’é€»è¾‘</p>
<h4 id="Servletå¼€å‘æµç¨‹"><a href="#Servletå¼€å‘æµç¨‹" class="headerlink" title="Servletå¼€å‘æµç¨‹"></a>Servletå¼€å‘æµç¨‹</h4><p>1ã€åˆ›å»ºä¸€ä¸ªJAVAWEBé¡¹ç›®ï¼Œå¹¶åœ¨é¡¹ç›®ä¸­å¼€å‘è‡ªå·±çš„Servletï¼Œç»§æ‰¿HttpServletç±»</p>
<p>2ã€åœ¨ç±»ä¸­é‡å†™serviceæ–¹æ³•ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°HttpServletRequestå¯¹è±¡è·å¾—ä¿¡æ¯å’ŒHttpServletResponseå¯¹è±¡å“åº”</p>
<p>3ã€åœ¨web.xmlä¸­é…ç½®Servletçš„æ˜ å°„è·¯å¾„ï¼Œé…ä¸Šservletå’Œservlet-mapping</p>
<p>4ã€å¯åŠ¨ç„¶åæ‰“å¼€æµè§ˆå™¨è¯·æ±‚Servletèµ„æº</p>
<h4 id="äº†è§£HttpServletRequestå¯¹åº”çš„æ–¹æ³•"><a href="#äº†è§£HttpServletRequestå¯¹åº”çš„æ–¹æ³•" class="headerlink" title="äº†è§£HttpServletRequestå¯¹åº”çš„æ–¹æ³•"></a>äº†è§£HttpServletRequestå¯¹åº”çš„æ–¹æ³•</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240204085215087.png" alt="image-20240204085215087"></p>
<h5 id="è·å–è¯·æ±‚è¡Œä¿¡æ¯"><a href="#è·å–è¯·æ±‚è¡Œä¿¡æ¯" class="headerlink" title="è·å–è¯·æ±‚è¡Œä¿¡æ¯"></a>è·å–è¯·æ±‚è¡Œä¿¡æ¯</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">req.getRequestURL();<span class="comment">//è¿”å›å®¢æˆ·ç«¯æµè§ˆå™¨å‘å‡ºè¯·æ±‚æ—¶çš„å®Œæ•´URL</span></span><br><span class="line">req.getRequestURI();<span class="comment">//è¿”å›è¯·æ±‚è¡Œä¸­æŒ‡å®šèµ„æºéƒ¨åˆ†</span></span><br><span class="line">req.getRemoteAddr();<span class="comment">//è¿”å›è¯·æ±‚çš„å®¢æˆ·æœºçš„IPåœ°å€</span></span><br><span class="line">req.getLocalAddr();<span class="comment">//è¿”å›WEBæœåŠ¡å™¨çš„IPåœ°å€</span></span><br><span class="line">req.getLocalPort();<span class="comment">//è¿”å›WEBæœåŠ¡å™¨å¤„ç†Httpåè®®çš„è¿æ¥å™¨æ‰€ç›‘å¬çš„ç«¯å£</span></span><br></pre></td></tr></table></figure>
<h5 id="è·å–è¯·æ±‚å¤´ä¿¡æ¯"><a href="#è·å–è¯·æ±‚å¤´ä¿¡æ¯" class="headerlink" title="è·å–è¯·æ±‚å¤´ä¿¡æ¯"></a><strong>è·å–è¯·æ±‚å¤´ä¿¡æ¯</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">req.getHeader(<span class="string">&quot;headerKey&quot;</span>);<span class="comment">//æ ¹æ®è¯·æ±‚å¤´ä¸­çš„keyè·å–å¯¹åº”çš„value</span></span><br><span class="line"><span class="type">String</span> <span class="variable">headerValue</span> <span class="operator">=</span> req.getHeader(<span class="string">&quot;headerKey&quot;</span>);</span><br><span class="line">req.getHeaderNames();<span class="comment">//è·å–è¯·æ±‚å¤´ä¸­æ‰€æœ‰çš„Keyï¼Œè¯¥æ–¹æ³•è¿”å›æšä¸¾ç±»å‹</span></span><br><span class="line">Enumeration &lt;String&gt; headerNames = req.getHeaderNames();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/4 - 02 - 04 - 11:36</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: PACKAGE_NAME</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        Enumeration&lt;String&gt; headerNames = req.getHeaderNames();</span><br><span class="line">        <span class="keyword">while</span>(headerNames.hasMoreElements())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">headerName</span> <span class="operator">=</span> headerNames.nextElement();</span><br><span class="line">            System.out.println(headerName+<span class="string">&quot;:&quot;</span>+req.getHeader(headerName));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>MyServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="è·å–è¯·æ±‚æ•°æ®"><a href="#è·å–è¯·æ±‚æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚æ•°æ®"></a>è·å–è¯·æ±‚æ•°æ®</h5><p>åœ¨Servletè·å–è¯·æ±‚æ•°æ®çš„æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">req.getParameter(<span class="string">&quot;key&quot;</span>);<span class="comment">//æ ¹æ®keyè·å–æŒ‡å®šçš„value</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;key&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>è·å–å¤é€‰æ¡†ï¼ˆcheckboxç»„ä»¶ï¼‰ä¸­çš„å€¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">req.getParameterValues(<span class="string">&quot;checkboxkey&quot;</span>);<span class="comment">//è·å–å¤é€‰æ¡†ä¸­çš„å€¼ï¼Œè¿”å›ä¸€ä¸ªString[]</span></span><br><span class="line"><span class="type">String</span> <span class="variable">keys</span> <span class="operator">=</span> req.getParameterValues(<span class="string">&quot;checkboxkey&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>è·å–æ‰€æœ‰æäº¤æ•°æ®çš„key</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">req.getParameterNames();<span class="comment">//è·å–è¯·æ±‚ä¸­æ‰€æœ‰çš„æ•°æ®keyï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæšä¸¾ç±»å‹</span></span><br><span class="line">Enumeration &lt;String&gt; parameterNames = req.getParameterNames();</span><br></pre></td></tr></table></figure>
<p>è·å–Mapç»“æ„è·å–æäº¤æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">req.getParameterMap();<span class="comment">//è·å–è¯·æ±‚ä¸­æ‰€æœ‰çš„æ•°æ®å¹¶å­˜æ”¾åˆ°ä¸€ä¸ªMapç»“æ„ä¸­ï¼Œè¯¥æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªMapï¼Œå…¶ä¸­keyä¸ºStringç±»å‹Valueä¸ºString[]ç±»å‹</span></span><br><span class="line">Map &lt;String,String[]&gt; parameterMap = req.getParameterMap();</span><br></pre></td></tr></table></figure>
<p><strong>è®¾ç½®è¯·æ±‚ç¼–ç </strong></p>
<p>req.setCharacterEncoding(â€œutf-8â€)</p>
<p>è¯·æ±‚çš„æ•°æ®åŒ…åŸºäºå­—èŠ‚åœ¨ç½‘ç»œä¸Šä¼ è¾“ï¼Œä½†æ˜¯Tomcatæ¥æ”¶åˆ°çš„è¯·æ±‚çš„æ•°æ®åŒ…åä¼šå°†æ•°æ®åŒ…ä¸­çš„å­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦ï¼Œè€ŒTomcaté»˜è®¤çš„ç¼–ç æ ¼å¼ä¸æ˜¯utf-8æ‰€ä»¥å¦‚æœæœ‰ä¸­æ–‡çš„è¯å°±ä¼šä¹±ç ï¼Œè¿™æ—¶å€™å°±éœ€è¦è®¾ç½®å®šè¯·æ±‚ç¼–ç äº†ã€‚</p>
<h4 id="HttpServletResponseå¯¹è±¡"><a href="#HttpServletResponseå¯¹è±¡" class="headerlink" title="HttpServletResponseå¯¹è±¡"></a>HttpServletResponseå¯¹è±¡</h4><p>å›é¡¾httpå“åº”ï¼š</p>
<p>httpå“åº”éƒ¨åˆ†å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå“åº”è¡Œï¼Œå“åº”å¤´ï¼Œå“åº”ä½“</p>
<p>1ã€å“åº”è¡Œï¼šå“åº”åè®®   çŠ¶æ€ç     çŠ¶æ€æè¿°</p>
<pre><code>                Http/1.1      200       OK
</code></pre><p>2ã€å“åº”å¤´ï¼š</p>
<p>Content-Type:å“åº”å†…å®¹çš„ç±»å‹ï¼ˆMIMEï¼‰</p>
<p>3ã€å“åº”å®ä½“</p>
<p> æœåŠ¡å™¨å“åº”å›æ¥çš„å†…å®¹</p>
<p>HttpServletResponse</p>
<p>HttpServletResponseå¯¹è±¡ä»£è¡¨æœåŠ¡å™¨çš„å“åº”ã€‚è¿™ä¸ªå¯¹è±¡ä¸­å°è£…äº†å“åº”å®¢æˆ·ç«¯æµè§ˆå™¨çš„æµå¯¹è±¡ï¼Œä»¥åŠå®¢æˆ·ç«¯æµè§ˆå™¨å“åº”çš„å“åº”å¤´ã€ç›¸åº”æ•°æ®ã€å“åº”çŠ¶æ€ç ç­‰ä¿¡æ¯ã€‚</p>
<p><strong>å“åº”çš„è®¾ç½®</strong></p>
<p><strong>ContentTypeå“åº”å¤´</strong></p>
<p>resp.srtContentType(â€œMIMEâ€);//è¯¥æ–¹æ³•å¯ä»¥é€šè¿‡MIME-Typeè®¾ç½®å“åº”ç±»å‹ã€‚</p>
<p>æœåŠ¡å™¨é€šè¿‡MIMEå‘ŠçŸ¥ç›¸åº”å†…å®¹ç±»å‹ï¼Œè€Œæµè§ˆå™¨åˆ™é€šè¿‡MIMEç±»å‹æ¥ç¡®å®šå¦‚ä½•å¤„ç†æ–‡æ¡£ã€‚</p>
<p><strong>è®¾ç½®å­—ç¬¦å‹å“åº”</strong></p>
<p>resp.setContentType(â€œtext/htmlâ€):</p>
<p>è®¾ç½®å“åº”ç±»å‹çš„æ–‡æœ¬å‹ï¼Œå†…å®¹å«æœ‰htmlå­—ç¬¦ä¸²ï¼Œæ˜¯é»˜è®¤çš„å“åº”ç±»å‹</p>
<p>resp.setContentType(â€œtext/plainâ€):</p>
<p>è®¾ç½®å“åº”ç±»å‹ä¸ºå›¾ç‰‡ç±»å‹ï¼Œå›¾ç‰‡ç±»å‹ä¸ºjpegæˆ–jpgæ ¼å¼</p>
<p> resp.setContentType(â€œapplication/jsonâ€):</p>
<p>è®¾ç½®å“åº”ç±»å‹ä¸ºå›¾ç‰‡ç±»å‹ï¼Œå›¾ç‰‡ç±»å‹ä¸ºgifæ ¼å¼</p>
<p>resp.setContentType(â€œimage/gifâ€):</p>
<p><strong>è®¾ç½®å“åº”ç¼–ç </strong></p>
<p>response.setCharacterEncoding(â€œutf-8â€);</p>
<p>è®¾ç½®æœåŠ¡ç«¯ä¸ºæµè§ˆå™¨äº§ç”Ÿå“åº”çš„å“åº”ç¼–ç ï¼ŒæœåŠ¡ç«¯ä¼šæ ¹æ®æ­¤ç¼–ç å°†å“åº”å†…å®¹çš„å­—ç¬¦è½¬æ¢ä¸ºå­—èŠ‚ã€‚</p>
<p>response.setContextType(â€œtext/html;charset=utf-8â€);</p>
<p>è®¾ç½®æœåŠ¡å™¨ä¸ºæµè§ˆå™¨äº§ç”Ÿå“åº”çš„å“åº”ç¼–ç ï¼ŒæœåŠ¡ç«¯ä¼šæ ¹æ®æ­¤ç¼–ç å°†å“åº”å†…å®¹çš„å­—ç¬¦è½¬æ¢ä¸ºå­—èŠ‚ã€‚åŒæ—¶å®¢æˆ·ç«¯æµè§ˆå™¨ä¼šæ ¹æ®æ­¤ç¼–ç æ–¹å¼æ˜¾ç¤ºå“åº”å†…å®¹ã€‚</p>
<p><strong>åœ¨å“åº”å†…å®¹ä¸­æ·»åŠ é™„åŠ ä¿¡æ¯ï¼ˆæ–‡ä»¶ä¸‹è½½ï¼‰</strong></p>
<p>åœ¨å®ç°æ–‡ä»¶ä¸‹è½½æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å“åº”å¤´ï¼Œæ·»åŠ é™„åŠ ä¿¡æ¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+æ–‡ä»¶å);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Content-Disposition:attachment è¯¥ä¿¡æ¯è¡¨ç¤ºä½œä¸ºå¯¹ä¸‹è½½æ–‡ä»¶çš„ä¸€ä¸ªæ ‡è¯†å­—æ®µã€‚ä¸ä¼šåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºè€Œæ˜¯ç›´æ¥åšä¸‹è½½å¤„ç†ã€‚</p>
<p>filename=æ–‡ä»¶åï¼Œè¡¨ç¤ºæŒ‡å®šä¸‹è½½æ–‡ä»¶çš„æ–‡ä»¶åã€‚</p>
<p>å‘Šè¯‰æµè§ˆå™¨å“åº”çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Ÿæµè§ˆå™¨æ ¹æ®å“åº”å¤´å†³å®š   æ•°æ®å¦‚ä½•åº”ç”¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resp.setHeader(<span class="string">&quot;content-type&quot;</span>,<span class="string">&quot;text/css&quot;</span>);</span><br><span class="line">resp.setContentType(<span class="string">&quot;text/html&quot;</span>);<span class="comment">//ä¸“é—¨ç”¨äºè®¾ç½®Content-Type å“åº”å¤´</span></span><br><span class="line">resp.getWriter().write(<span class="string">&quot;&lt;h1&gt;this is tag h1&lt;/h1&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="å…³äºä¹±ç é—®é¢˜"><a href="#å…³äºä¹±ç é—®é¢˜" class="headerlink" title="å…³äºä¹±ç é—®é¢˜"></a>å…³äºä¹±ç é—®é¢˜</h4><p>1ã€æ§åˆ¶å°ä¹±ç ï¼Œåœ¨Tomcatçš„confä¸‹çš„logging.propertiesä¸­æ‰€æœ‰çš„UTF-8ç¼–ç ä¸ºGBKå³å¯</p>
<p>2ã€postè¯·æ±‚ä¹±ç  é€šè¿‡HttpServletRequestè®¾ç½®è¯·æ±‚ç¼–ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>3ã€getè¯·æ±‚ä¹±ç     éœ€è¦æ‰‹åŠ¨è¿›è¡Œç¼–ç è§£ç ï¼Œæˆ–è€…è®¾ç½®tomcatä¸­çš„server.xmlä¸­çš„URLç¼–ç ï¼Œtomcat9å·²ç»è§£å†³äº†è¯¥é—®é¢˜</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connecter port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;</span><br><span class="line">	connectionTimeout=&quot;20000&quot;</span><br><span class="line">	redirectPort=&quot;8443&quot; URIEncoding=&quot;utf-8&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<p>4ã€å“åº”ä¹±ç </p>
<p>é€šè¿‡HttpServletResponseè®¾ç½®å“åº”ç¼–ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resp.setContentType(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="comment">//è®¾ç½®å“åº”å¤´ï¼Œä¸€éæµè§ˆå™¨çŸ¥é“ä»¥ä½•ç§ç¼–ç è§£ææ•°æ®</span></span><br><span class="line">resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="Servletç»§æ‰¿ç»“æ„"><a href="#Servletç»§æ‰¿ç»“æ„" class="headerlink" title="Servletç»§æ‰¿ç»“æ„"></a>Servletç»§æ‰¿ç»“æ„</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240204201104043.png" alt="image-20240204201104043"></p>
<p><strong>Servletæ¥å£</strong></p>
<p>1ã€init(),åˆ›å»ºServletå¯¹è±¡åç«‹å³è°ƒç”¨è¯¥æ–¹æ³•å®Œæˆå…¶ä»–åˆå§‹åŒ–æ“ä½œ</p>
<p>2ã€service(),å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œæ‰§è¡Œä¸šåŠ¡æ“ä½œï¼Œåˆ©ç”¨å“åº”å¯¹è±¡å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</p>
<p>3ã€destory()ï¼Œåœ¨é”€æ¯Servletå¯¹è±¡ä¹‹å‰è°ƒç”¨è¯¥æ–¹æ³•ï¼Œé‡Šæ”¾èµ„æº</p>
<p>4ã€getServletConfig(),ServletConfigæ˜¯å®¹å™¨å‘servletä¼ é€’å‚æ•°çš„è½½ä½“</p>
<p>5ã€getServletInfo(),è·å–servletç›¸å…³ä¿¡æ¯</p>
<p><strong>ServletConfigæ¥å£</strong></p>
<p>Servletè¿è¡ŒæœŸé—´ï¼Œéœ€è¦ä¸€äº›è¾…åŠ©ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥å†web.xmlæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œè¿›è¡Œé…ç½®ã€‚å½“Tomcatåˆå§‹åŒ–ä¸€ä¸ªServletæ—¶ï¼Œä¼šå°†è¯¥Servletçš„é…ç½®ä¿¡æ¯ï¼Œå°è£…åˆ°ä¸€ä¸ªServletConfigå¯¹è±¡ä¸­ï¼Œé€šè¿‡è°ƒç”¨init(ServletConfig config)æ–¹æ³•ï¼Œå°†ServletConfigå¯¹ç§°ä¼ é€’ç»™Servlet</p>
<p><strong>GenericServletæŠ½è±¡ç±»</strong></p>
<p>GenericServletæ˜¯å®ç°äº†Servletæ¥å£çš„æŠ½è±¡ç±»ã€‚åœ¨GenericServletä¸­è¿›ä¸€æ­¥å®šä¹‰äº†Servletæ¥å£çš„å…·ä½“å®ç°ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å’Œåº”ç”¨å±‚åè®®è§£è€¦ï¼Œåœ¨GenericServletä¸­åŒ…å«ä¸€ä¸ªServiceæŠ½è±¡æ–¹æ³•ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç»§æ‰¿GenericServletå¹¶å®ç°Serviceæ–¹æ³•å®ç°è¯·æ±‚çš„å¤„ç†ï¼Œä½†æ˜¯éœ€è¦å°†ServletRequestå’ŒServletResponseè½¬ä¸ºHttpServletRequestå’ŒHttpServletResponse.</p>
<p><strong>è§£è€¦å°±æ˜¯æ˜¯å‡å°‘è€¦åˆçš„è¿‡ç¨‹ï¼Œä½¿å¾—æ¨¡å—æˆ–ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å°½å¯èƒ½å°ã€‚è¿™æ ·å¯ä»¥ä½¿å¾—ä»£ç æ›´åŠ æ¨¡å—åŒ–ã€çµæ´»ã€æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚</strong></p>
<p><strong>HttpServlet</strong></p>
<p>ç»§æ‰¿è‡ªGenericServlet,é’ˆå¯¹äºå¤„ç†HTTPåè®®çš„è¯·æ±‚æ‰€å®šåˆ¶ã€‚åœ¨HttpServletçš„service()æ–¹æ³•ä¸­å·²ç»æŠŠServletRequestå’ŒServletResponseè½¬ä¸ºHttpServletResponse.ç›´æ¥ä½¿ç”¨HttpServletRequestå’ŒHttpServletResponse,ä¸éœ€è¦å¼ºè½¬ã€‚å®é™…å¼€å‘ä¸­ï¼Œç›´æ¥ç»§æ‰¿HttpServletï¼Œå¹¶æ ¹æ®è¯·æ±‚æ–¹å¼å¤å†™doxxx()æ–¹æ³•å³å¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240204203255306.png" alt="image-20240204203255306"></p>
<p>åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„Servletä¸­ï¼Œå¦‚æœæƒ³è¦åŒºåˆ†è¯·æ±‚æ–¹å¼ï¼Œä¸åŒçš„è¯·æ±‚æ–¹å¼ä½¿ç”¨ä¸åŒçš„ä»£ç å¤„ç†ï¼Œé‚£ä¹ˆæˆ‘ä»¬é‡å†™doGet doPostå³å¯</p>
<p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰å¿…è¦åŒºåˆ†è¯·æ±‚æ–¹å¼çš„å·®å¼‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥é‡å†™serviceæ–¹æ³•å³å¯</p>
<p>è¦ä¹ˆé‡å†™doGet è¦ä¹ˆé‡å†™doPost è¦ä¹ˆé‡å†™service å¿…é¡»äºŒé€‰ä¸€ï¼Œè€Œä¸”å¿…é¡»è¿›è¡Œé‡å†™</p>
<h4 id="Servletç”Ÿå‘½å‘¨æœŸ-1"><a href="#Servletç”Ÿå‘½å‘¨æœŸ-1" class="headerlink" title="Servletç”Ÿå‘½å‘¨æœŸ"></a>Servletç”Ÿå‘½å‘¨æœŸ</h4><p>Servletçš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç”±å®¹å™¨ç®¡ç†çš„ï¼Œåˆ†åˆ«ç»ç†å››ä¸ªé˜¶æ®µï¼š</p>
<p>é˜¶æ®µ   æ¬¡æ•°      æ—¶æœº</p>
<p>åˆ›å»º  1æ¬¡    ç¬¬ä¸€æ¬¡è¯·æ±‚</p>
<p>åˆå§‹åŒ–  1æ¬¡    å®ä¾‹åŒ–ä¹‹å</p>
<p>æ‰§è¡ŒæœåŠ¡   å¤šæ¬¡    æ¯æ¬¡è¯·æ±‚</p>
<p>é”€æ¯  1 æ¬¡    åœæ­¢æœåŠ¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="comment">//å®ä¾‹åŒ–</span></span><br><span class="line">init() <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">service()  <span class="comment">//æ‰§è¡ŒæœåŠ¡</span></span><br><span class="line">destory()   <span class="comment">//å›æ”¶é”€æ¯</span></span><br></pre></td></tr></table></figure>
<p>å½“å®¢æˆ·ç«¯æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚Servletæ—¶ï¼Œå®¹å™¨ä¼šå®ä¾‹åŒ–è¿™ä¸ªServlet,ç„¶åè°ƒç”¨ä¸€æ¬¡initæ–¹æ³•ï¼Œå¹¶åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œserviceæ–¹æ³•å¤„ç†è¯·æ±‚ã€‚serviceæ–¹æ³•æ‰§è¡Œå®Œæ¯•åå®¹å™¨ä¸ä¼šé”€æ¯è¿™ä¸ªServletè€Œæ˜¯åšç¼“å­˜å¤„ç†ï¼Œå½“å®¢æˆ·ç«¯æµè§ˆå™¨å†æ¬¡è¯·æ±‚è¿™ä¸ªServletæ—¶ï¼Œå®¹å™¨ä¼šä»ç¼“å­˜ä¸­ç›´æ¥æ‰¾åˆ°è¿™ä¸ªServletå¯¹è±¡ï¼Œå¹¶å†ä¸€æ¬¡åœ¨æ–°çš„çº¿ç¨‹ä¸­æ‰§è¡ŒServiceæ–¹æ³•ã€‚å½“å®¹å™¨åœ¨é”€æ¯Servletä¹‹å‰å¯¹è°ƒç”¨ä¸€æ¬¡destoryæ–¹æ³•ã€‚</p>
<p><strong>æ³¨æ„ï¼šåœ¨Servletä¸­æˆ‘ä»¬ä¸€èˆ¬ä¸è¦è½»æ˜“ä½¿ç”¨æˆå‘˜å˜é‡ï¼Œå¯èƒ½ä¼šé€ æˆçº¿ç¨‹å®‰å…¨é—®é¢˜</strong></p>
<p><strong>å¦‚æœä½¿ç”¨çš„è¯ï¼Œåº”è¯¥å°½é‡é¿å…å¯¹æˆå‘˜å˜é‡äº§ç”Ÿä¿®æ”¹ï¼Œå¦‚æœè¦äº§ç”Ÿä¿®æ”¹è¦æ³¨æ„å¿åŸå®‰å…¨é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå·±æ·»åŠ çº¿ç¨‹å®‰å…¨ç¼–ç å¤„ç†ï¼Œä¼šä¸¥é‡å°è±¡æ•ˆç‡ï¼Œæ‰€ä»¥èƒ½ä¸ç”¨æˆå‘˜å˜é‡å°±ä¸ç”¨ã€‚</strong></p>
<p>å¦‚æœéœ€è¦Servletåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶å°±å®ä¾‹åŒ–å¹¶åˆå§‹åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨servletçš„é…ç½®ä¸­æ·»åŠ load-on-startupé…ç½®å¯åŠ¨é¡ºåºï¼Œé…ç½®çš„æ•°å­—ä¸ºå¯åŠ¨é¡ºåºï¼Œåº”é¿å…å†²çªä¸”åº”è¯¥&gt;6.</p>
<p><strong>Servletå¤„ç†è¯·æ±‚çš„è¿‡ç¨‹</strong></p>
<p>å½“æµè§ˆå™¨åŸºäºgetæ–¹æ³•è¯·æ±‚æˆ‘ä»¬åˆ›å»ºServletæ—¶ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çš„Servletä¸­çš„doGetæ–¹æ³•ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>doGetæ–¹æ³•èƒ½å¤Ÿè¢«æ‰§è¡Œå¹¶å¤„ç†getè¯·æ±‚çš„åŸå› æ˜¯ï¼Œå®¹å™¨åœ¨å¯åŠ¨æ—¶ä¼šè§£æwebå·¥ç¨‹ä¸­çš„WEB-INFç›®å½•ä¸­çš„web.xmlæ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­æˆ‘ä»¬é…ç½®äº†Servletä¸URIçš„ç»‘å®šï¼Œå®¹å™¨é€šè¿‡å¯¹è¯·æ±‚çš„è§£æå¯ä»¥è·å–è¯·æ±‚èµ„æºçš„URIï¼Œç„¶åæ‰¾åˆ°ä¸è¯¥URIç»‘å®šçš„Servletå¹¶åšå®ä¾‹åŒ–å¤„ç†ã€‚</p>
<p>åœ¨å®ä¾‹åŒ–æ—¶ä¼šä½¿ç”¨Servletæ¥å£ç±»å‹ä½œä¸ºå¼•ç”¨ç±»å‹çš„å®šä¹‰ï¼Œå¹¶è°ƒç”¨ä¸€æ¬¡initæ–¹æ³•ï¼Œç”±äºHttpServletä¸­é‡å†™äº†è¯¥æ–¹æ³•æ‰€ä»¥æœ€ç»ˆæ‰§è¡Œçš„æ˜¯HttpServletä¸­initæ–¹æ³•ï¼Œç”±äºHttpServletä¸­é‡å†™äº†è¯¥æ–¹æ³•æ‰€ä»¥æœ€ç»ˆæ‰§è¡Œçš„æ˜¯HttpServletä¸­initæ–¹æ³•ï¼ˆHttpServletä¸­çš„Initæ–¹æ³•æ˜¯ä¸€ä¸ªç©ºçš„æ–¹æ³•ä½“ï¼‰ï¼Œç„¶ååœ¨æ–°çš„çº¿ç¨‹ä¸­è°ƒç”¨serviceæ–¹æ³•ã€‚</p>
<p>ç”±äºåœ¨HttpServletä¸­é‡å†™äº†Serviceæ–¹æ³•æ‰€ä»¥æœ€ç»ˆæ‰§è¡Œçš„æ˜¯HttpServletä¸­çš„serviceæ–¹æ³•ã€‚</p>
<p>åœ¨serviceæ–¹æ³•ä¸­é€šè¿‡request.getMethod()è·å–åˆ°è¯·æ±‚æ–¹å¼è¿›è¡Œåˆ¤æ–­å¦‚æœæ˜¯Getæ–¹æ³•è¯·æ±‚å°±æ‰§è¡ŒdoGetæ–¹æ³•ï¼Œå¦‚æœæ˜¯POSTè¯·æ±‚å°±æ‰§è¡ŒdoPostæ–¹æ³•ã€‚</p>
<p>å¦‚æœæ˜¯åŸºäºGETæ–¹å¼æäº¤çš„ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„Servletä¸­æœ‰é‡å†™äº†HttpServletä¸­çš„doGetæ–¹æ³•ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šæ ¹æ®Javaçš„å¤šæ€ç‰¹æ€§è½¬è€Œæ‰§è¡Œæˆ‘ä»¬è‡ªå®šä¹‰çš„Servletä¸­çš„doGetæ–¹æ³•</p>
<p><strong>ServletContextï¼ˆé‡è¦ï¼‰å’ŒServletConfigï¼ˆäº†è§£ï¼‰</strong></p>
<p>ServletContextå¯¹è±¡</p>
<p>ServletContextå¯¹è±¡ä»‹ç»</p>
<p>ServletContextå®˜æ–¹å«Servletä¸Šä¸‹æ–‡ã€‚æœåŠ¡å™¨ä¼šä¸ºæ¯ä¸€ä¸ªWebåº”ç”¨åˆ›å»ºä¸€ä¸ªServletContextå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡å…¨å±€å”¯ä¸€ï¼Œè€Œä¸”Webåº”ç”¨ä¸­çš„æ‰€æœ‰Servletéƒ½å…±äº«è¿™ä¸ªå¯¹è±¡ã€‚æ‰€ä»¥å«å…¨å±€åº”ç”¨ç¨‹åºå…±äº«å¯¹è±¡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240204232050031.png" alt="image-20240204232050031"></p>
<h4 id="ServletContextå¯¹è±¡å’Œä½œç”¨"><a href="#ServletContextå¯¹è±¡å’Œä½œç”¨" class="headerlink" title="ServletContextå¯¹è±¡å’Œä½œç”¨"></a><strong>ServletContextå¯¹è±¡å’Œä½œç”¨</strong></h4><p>1ã€ç›¸å¯¹è·¯å¾„è½¬ç»å¯¹è·¯å¾„</p>
<p>2ã€è·å–å®¹å™¨çš„é™„åŠ ä¿¡æ¯</p>
<p>3ã€è¯»å–é…ç½®ä¿¡æ¯</p>
<p>4ã€å…¨å±€å®¹å™¨</p>
<h4 id="ServletContextå¯¹è±¡çš„ä½¿ç”¨"><a href="#ServletContextå¯¹è±¡çš„ä½¿ç”¨" class="headerlink" title="ServletContextå¯¹è±¡çš„ä½¿ç”¨"></a>ServletContextå¯¹è±¡çš„ä½¿ç”¨</h4><p>è·å–é¡¹ç›®çš„éƒ¨ç½²å</p>
<p>context.getContextPath()</p>
<p>å°†é¡¹ç›®çš„ç›¸å¯¹è·¯å¾„è½¬åŒ–ä¸ºé¡¹ç›®çš„ç»å¯¹è·¯å¾„ï¼ˆé‡è¦ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ServletContext</span> <span class="variable">servletContext1</span> <span class="operator">=</span> req.getServletContext();</span><br><span class="line"><span class="type">String</span> <span class="variable">fileUpload</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;fileUpload&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è·å¾—Servletä¿¡æ¯ï¼ˆé‡è¦ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">serverInfo</span> <span class="operator">=</span> servletContext.getServerInfo();</span><br></pre></td></tr></table></figure>
<p>è·å¾—Servletç‰ˆæœ¬å·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">servletContext.getMajorVersion();<span class="comment">//è·å–servletä¸»ç‰ˆæœ¬å·</span></span><br><span class="line">servletContext.getMinorVersion();<span class="comment">//å‰¯ç‰ˆæœ¬å·</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–web.xmlä¸­é…ç½®çš„å…¨å±€ä¿¡æ¯,å°±æ˜¯åœ¨&lt;context-param&gt;é‡Œé¢è®¾ç½®çš„param-name</span></span><br><span class="line"><span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> servletContext.getInitParameter(<span class="string">&quot;username&quot;</span>);</span><br></pre></td></tr></table></figure>
<p><strong>è·å–web.xmlä¸­é…ç½®çš„å…¨å±€çš„åˆå§‹ä¿¡æ¯</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Enumeration&lt;String&gt; onames = servletContext.getInitParameterNames();</span><br><span class="line"><span class="keyword">while</span>(pnams.hasMoreElements())&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> pnames.nextElement();</span><br><span class="line">    System.out.pringtln(e+<span class="string">&quot;:&quot;</span>+servletContext.getInitParameter(e));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å‘servletContextå¯¹è±¡ä¸­æ·»åŠ æ•°æ®</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; data = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Collections.addAll(data,<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="string">&quot;æå››&quot;</span>,<span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">servletContext.setAttribute(<span class="string">&quot;list&quot;</span>,data);</span><br><span class="line"><span class="comment">//ç„¶åå†å¦ä¸€ä¸ªServletè¯»å–å‡ºæ¥</span></span><br><span class="line">List&lt;String&gt; list = (List&lt;String&gt;) servletContext.getAttribute(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">System.out.println(list)</span><br></pre></td></tr></table></figure>
<h4 id="ServletConfigå¯¹è±¡"><a href="#ServletConfigå¯¹è±¡" class="headerlink" title="ServletConfigå¯¹è±¡"></a>ServletConfigå¯¹è±¡</h4><p>æ¯ä¸ªServletéƒ½æœ‰è‡ªå·±ç‹¬æœ‰çš„ServletConfigå¯¹è±¡ï¼ŒServletConfigå¯¹è±¡ä¸“é—¨ä¸ºä»–è‡ªå·±çš„Servletå¯¹è±¡æä¾›åˆå§‹åŒ–æœåŠ¡ï¼Œä¸èƒ½å‘ServletContextå¯¹è±¡ä¼ è¾“æ•°æ®ã€‚</p>
<p>é‚£é‡Œé¢å¯ä»¥ä¼ è¾“ä»€ä¹ˆåˆå§‹åŒ–å‚æ•°å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet3</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletConfig</span> <span class="variable">servletConfig</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletConfig();</span><br><span class="line">        System.out.println(servletConfig.getInitParameter(<span class="string">&quot;brand&quot;</span>));</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servlet3<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.bitzh.testServlet.Servlet3<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--åˆå§‹åŒ–æ•°æ®ï¼Œåœ¨Configé‡Œé¢--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>brand<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>ASUS<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>servlet3<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet3.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="urlè·¯å¾„åŒ¹é…è§„åˆ™"><a href="#urlè·¯å¾„åŒ¹é…è§„åˆ™" class="headerlink" title="urlè·¯å¾„åŒ¹é…è§„åˆ™"></a>urlè·¯å¾„åŒ¹é…è§„åˆ™</h4><p><strong>ç²¾ç¡®åŒ¹é…</strong></p>
<p>ç²¾ç¡®åŒ¹é…æ˜¯æŒ‡</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>ä¸­é…ç½®çš„å€¼å¿…é¡»ä¸å®Œå…¨ç²¾ç¡®åŒ¹é…</span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demoServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/demo.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆåŠ .doå› ä¸ºä»¥åé¢æœ‰è¿‡æ»¤å™¨ï¼Œåé¢ä¼šå­¦åˆ°ï¼Œæ¥åˆ†è¾¨è¯·æ±‚çš„æ˜¯åŠ¨æ€èµ„æºè¿˜æ˜¯é™æ€èµ„æº</p>
<p><strong>æ‰©å±•ååŒ¹é…</strong></p>
<p>åœ¨urlè·¯å¾„ä¸­æˆ‘ä»¬æœ‰æ—¶å€™ç”¨é€šé…ç¬¦*.do,è¿™ä¸ªæ—¶å€™é€šé…ç¬¦è¡¨ç¤ºä»»æ„å­—ç¬¦ï¼Œåªè¦æ‰©å±•åç›¸åŒé¢éƒ½ä¼šè¢«åŒ¹é…å’Œè·¯å¾„æ— å…³</p>
<p><strong>æ³¨æ„åœ¨ä½¿ç”¨äº†é€šé…ç¬¦ä¹‹åï¼Œä¸èƒ½åœ¨ä½¿ç”¨â€œ/â€äº†å¦åˆ™ä¼šæŠ¥å¼‚å¸¸</strong></p>
<p><strong>è·¯å¾„åŒ¹é…</strong></p>
<p>å½“ç„¶å¦‚æœå†™æˆä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä»¥aè·¯å¾„ä¸ºå¼€å¤´ï¼Œåé¢æ˜¯ä»€ä¹ˆéƒ½è¡Œ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/a/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>ä»»æ„åŒ¹é…</strong></p>
<p>ä½†æ˜¯ä¸åŒ…å«jspé¡µé¢ï¼ŒåŒ…å«æ‰€æœ‰è·¯å¾„</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">//è¿™ç§å†™æ³•åŒ…å«jspï¼Œä½†æ˜¯ç»å¯¹ä¸è¿™ä¹ˆå†™</span><br><span class="line"><span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¼˜å…ˆé¡ºåº</p>
<p>å½“ä¸€ä¸ªurlä¸å¤šä¸ªServletçš„åŒ¹é…è§„åˆ™å¯ä»¥åŒ¹é…æ—¶ï¼Œåˆ™æŒ‰ç…§ â€œ ç²¾ç¡®è·¯å¾„ &gt; æœ€é•¿è·¯å¾„ &gt;æ‰©å±•åâ€è¿™æ ·çš„ä¼˜å…ˆçº§åŒ¹é…åˆ°å¯¹åº”çš„Servletã€‚è°ç²¾ç¡®å…ˆèµ°è°ã€‚</p>
<h4 id="æ³¨è§£æ¨¡å¼å¼€å‘Servlet"><a href="#æ³¨è§£æ¨¡å¼å¼€å‘Servlet" class="headerlink" title="æ³¨è§£æ¨¡å¼å¼€å‘Servlet"></a>æ³¨è§£æ¨¡å¼å¼€å‘Servlet</h4><p>å¯ä»¥åœ¨Servletç±»å¤–é¢åŠ @WebServlet()</p>
<p>ç„¶åå¯ä»¥ç‚¹å‡»è¿›å»çœ‹çœ‹æœ‰ä»€ä¹ˆå±æ€§</p>
<p>é‡Œé¢æœ‰urlPatternså¯ä»¥ç›´æ¥å†™æ˜ å°„è·¯å¾„ï¼ŒåŒ¹é…å¤šä¸ªè·¯å¾„çš„æ—¶å€™å†™ä¸ª{â€œ/â€ï¼Œâ€œ/a/b.doâ€}</p>
<p>è¿˜æœ‰loadOnStartup=6,æ¥è®¾ç½®åˆå§‹åŒ–é¡ºåº</p>
<p>è¿˜å¯ä»¥åŠ åˆè¯†åŒ–initParams={@WebInitParam(name=â€œbrandâ€,value=â€œasusâ€)}ï¼Œè¿™æ ·å°±å¯ä»¥è®¾ç½®åˆå§‹å‚æ•°</p>
<h3 id="è¯·æ±‚è½¬å‘"><a href="#è¯·æ±‚è½¬å‘" class="headerlink" title="è¯·æ±‚è½¬å‘"></a>è¯·æ±‚è½¬å‘</h3><p>ä»€ä¹ˆæ˜¯è¯·æ±‚è½¬å‘å‘¢ï¼Ÿ</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚å¼ ä¸‰å‘æå››å€Ÿé’±ï¼Œæå››æ²¡é’±ï¼Œä½†æ˜¯ç‹äº”æœ‰é’±ï¼Œè¿™æ—¶å€™å°±æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œç¬¬ä¸€ç§æå››å‘ç‹äº”å€Ÿç„¶åå€Ÿç»™å¼ ä¸‰ï¼Œè¿™å°±æ˜¯è¯·æ±‚è½¬å‘ã€‚</p>
<p>1ã€è¯·æ±‚è½¬å‘  æœ‰ä¸¤ç§æ–¹æ³• forward inclue</p>
<p>2ã€å“åº”é‡å®šå‘   è¿™ä¸ªæ—¶å€™æå››å‘Šè¯‰å¼ ä¸‰æˆ‘ä¹Ÿæ²¡é’±ï¼Œå»ç‹äº”é‚£å€Ÿï¼Œè¿™æ—¶å€™å¼ ä¸‰è‡ªå·±å»å€Ÿç‹äº”ï¼ŒServletå¤„ç†ä¸å¥½çš„æ—¶å€™ï¼Œå‘Šè¯‰æµè§ˆå™¨æ‰¾èµ„æºã€‚</p>
<p>åå°æ§åˆ¶é¡µé¢çš„ä¸¤ç§ä¸»è¦æ‰‹æ®µã€‚</p>
<p>å…ˆè¯´è¯·æ±‚è½¬å‘</p>
<p>è¯·æ±‚Servlet1ä½†æ˜¯Servlet1åšä¸åˆ°ï¼Œè½¬å‘ç»™Servlet2,ç›´æ¥ç”±Servlet2å“åº”ã€‚è¿™æ—¶å€™Servlet1å«æºç»„ä»¶ï¼ŒServlet2å«ç›®æ ‡ç»„ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.testServlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 9:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.testServlet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span>  <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Servlet1 service invoked&quot;</span>);</span><br><span class="line">        <span class="comment">//ç½‘ç»œä¸Šè¯·æ±‚çš„å‚æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">money</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;money&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;money:&quot;</span>+money);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯·æ±‚è½¬å‘ç»™å¦ä¸€ä¸ªservletæˆ–è€…htmlæˆ–è€…jsp</span></span><br><span class="line">        <span class="comment">//è·å¾—ä¸€ä¸ªè¯·æ±‚è½¬å‘å™¨</span></span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> req.getRequestDispatcher(<span class="string">&quot;servlet2.do&quot;</span>);</span><br><span class="line">        <span class="comment">//ç”±è¯·æ±‚è½¬å‘å™¨å‘å‡ºè½¬å‘åŠ¨ä½œ</span></span><br><span class="line">        requestDispatcher.forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.testServlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 9:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.testServlet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet2.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet2</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;servlet2 service invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™servlet2.doæ¥æ”¶åˆ°çš„æ˜¯servlet1çš„reqå’Œrespï¼Œç„¶åå†servlet2é‡Œé¢å¤„ç†è¯·æ±‚åšå‡ºè¯·æ±‚å’Œå“åº”ï¼Œè¿™ä¸ªæ—¶å€™servlet2ä¹Ÿèƒ½æ¥å—æµè§ˆå™¨è¯·æ±‚çš„å‚æ•°ï¼Œå› ä¸ºservlet1çš„reqå°±æ˜¯servlet2ä¸­çš„reqæ²¡æ¢è¿‡ã€‚</p>
<p>å…¶å®å°±æ˜¯ä¸€ç§å®Œå…¨çš„å§”æ‰˜ï¼Œæ­¤æ—¶servlet1ä½œå‡ºçš„å“åº”å°±æ˜¯å®Œå…¨æ— æ•ˆçš„ã€‚å½“servlet1ä¸­çš„respè½¬æ¢ç»™servlet2çš„æ—¶å€™ï¼Œrespä¼šæ¸…ç©ºä¸€æ¬¡ã€‚</p>
<p>å®Œå…¨æ‰˜ç®¡ç»™ç›®æ ‡ç»„ä»¶å¤„ç†ã€‚</p>
<p><strong>includeè½¬å‘</strong></p>
<p>å¦‚æœæ˜¯includeè½¬å‘ä¼šä½¿servlet1è½¬å‘ç»™servlet2ç„¶åservlet2å“åº”å®Œä¼šè¿”å›ç»™servlet1ä¹‹ä¸­ï¼Œå†ç”±æºç»„ä»¶å“åº”ç»™æµè§ˆå™¨ã€‚</p>
<p>è¿™æ—¶å€™å¯ä»¥åœ¨servlet1ä¹‹ä¸­ä½œå‡ºå“åº”ä¹Ÿæ²¡äº‹ï¼Œåœ¨è½¬å‘å‰æˆ–è€…å“åº”å€™éƒ½å¯ä»¥åšå‡ºå“åº”ã€‚</p>
<p>å®é™…å¼€å‘ä¸­å¸¸ç”¨forword();</p>
<p><strong>æ€»ç»“</strong></p>
<p>è¯·æ±‚è½¬å‘æ˜¯ä¸€ç§æœåŠ¡å™¨è¡Œä¸ºï¼Œæ˜¯å¯¹æµè§ˆå™¨å±è”½çš„å› æ­¤æµè§ˆå™¨çš„åœ°å€æ ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¯·æ±‚çš„å‚æ•°æ˜¯å¯ä»¥ä»æºç»„ä»¶ä¼ é€ç»™ç›®æ ‡ç»„ä»¶çš„ï¼Œå› ä¸ºè¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡æ²¡æœ‰é‡æ–°åˆ›å»ºè€Œæ˜¯ä¼ ç»™äº†ç›®æ ‡ç»„ä»¶ï¼Œå¯ä»¥è¯·æ±‚è½¬å‘åˆ°é¡µé¢ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°é¡µé¢è·³è½¬ã€‚</p>
<p>é€šè¿‡è¯·æ±‚è½¬å‘ï¼Œå¯ä»¥è½¬å‘è‡³WEB-INFå—ä¿æŠ¤çš„å¯¹è±¡èµ„æºé‡Œ</p>
<p>è¯·æ±‚è½¬å‘åªèƒ½åœ¨é¡¹ç›®å†…éƒ¨æ‰¾èµ„æºä¸èƒ½æ‰¾å¤–éƒ¨èµ„æºã€‚</p>
<p>å¸¸ç”¨forword().</p>
<h3 id="å“åº”é‡å®šå‘"><a href="#å“åº”é‡å®šå‘" class="headerlink" title="å“åº”é‡å®šå‘"></a>å“åº”é‡å®šå‘</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 10:42</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: PACKAGE_NAME</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet3.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet3</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;servlet3 service invoked&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">money</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;money&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;money:&quot;</span>+money);</span><br><span class="line">        <span class="comment">//å“åº”é‡å®šå‘</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;servlet4.do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 10:42</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: PACKAGE_NAME</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet4.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet4</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;servlet4 service invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æ€»ç»“</strong></p>
<p>1ã€é‡å®šå‘æ˜¯æœåŠ¡å™¨ç»™æµè§ˆå™¨é‡æ–°æŒ‡å®šè¯·æ±‚æ–¹å‘  æ˜¯ä¸€ç§æµè§ˆå™¨è¡Œä¸º</p>
<p>2ã€å‚æ•°åœ¨å“åº”é‡å®šå‘å¹¶ä¸èƒ½ä¼ é€’å‚æ•°å› ä¸ºreqå’Œrespæ˜¯ä¸€ä¸ªæ–°çš„ä¸ä¸€æ ·çš„ï¼Œä¼šå†æ¬¡äº§ç”Ÿå°ä¸ªæ–°çš„ï¼Œä¸ä¼šæºå¸¦æ—§çš„</p>
<p>3ã€ä¹Ÿå¯ä»¥å®Œæˆé¡µé¢è·³è½¬</p>
<p>4ã€é‡å®šå‘ä¸èƒ½è®¿é—®WEB-INFçš„èµ„æº</p>
<p>5ã€å¯ä»¥é‡å®šå‘åˆ°å¤–éƒ¨èµ„æº</p>
<p>å½“åœ¨é‡å®šå‘çš„æ—¶å€™æ€ä¹ˆæºå¸¦å‚æ•°ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">money</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;money&quot;</span>);</span><br><span class="line">resp.getRedirect(<span class="string">&quot;servlet4.do?money=&quot;</span>+money);</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ‰‹åŠ¨å°†å‚æ•°åŠ ä¸Šå»å°±èƒ½æºå¸¦å‚æ•°å‘é€äº†</p>
<h3 id="è·¯å¾„é—®é¢˜"><a href="#è·¯å¾„é—®é¢˜" class="headerlink" title="è·¯å¾„é—®é¢˜"></a>è·¯å¾„é—®é¢˜</h3><h4 id="å‰ç«¯è·¯å¾„é—®é¢˜"><a href="#å‰ç«¯è·¯å¾„é—®é¢˜" class="headerlink" title="å‰ç«¯è·¯å¾„é—®é¢˜"></a>å‰ç«¯è·¯å¾„é—®é¢˜</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240205112848219.png" alt="image-20240205112848219"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--baseæ ‡ç­¾çš„ä½œç”¨æ˜¯åœ¨ç›¸å¯¹è·¯å¾„ä¹‹å‰å·²ç»è¡¥å……hrefé‡Œé¢çš„å†…å®¹ï¼Œå¦‚æœbaseä¸å†™ï¼Œé‚£ä¹ˆé»˜è®¤å°±æ˜¯æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶ä½ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">this is a1.html</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">ç›¸å¯¹è·¯å¾„ï¼šç›¸å¯¹äºè‡ªå·±æ‰€åœ¨çš„ä½ç½®ä¸ºå‡ºå‘ç‚¹</span></span><br><span class="line"><span class="comment">ç»å¯¹è·¯å¾„ï¼šä»¥å›ºå®šçš„ä½ç½®å»å®šä½å…¶ä»–æ–‡ä»¶</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç›¸å¯¹è·¯å¾„å†™æ³•ï¼Œä¸ä»¥æ–œçº¿å¼€å¤´ï¼Œå°±æ˜¯ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment">ç»å¯¹è·¯å¾„ï¼šä»¥æ–œçº¿å¼€å¤´åœ¨é¡µé¢ä¸Š/ä»£è¡¨ä»é¡¹ç›®çš„éƒ¨ç½²ç›®å½•å¼€å§‹æ‰¾</span></span><br><span class="line"><span class="comment">é¡µé¢çš„ç»å¯¹è·¯å¾„è¦æœ‰é¡¹ç›®åï¼Œé™¤éé¡¹ç›®æ²¡æœ‰è®¾ç½®é¡¹ç›®å</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;a2.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span>ç›¸å¯¹è·¯å¾„è·³è½¬è‡³a2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;../../b/b2/b1.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span>ç›¸å¯¹è·¯å¾„è·³è½¬è‡³b1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/testServlet1_war_exploded/a/a2/a2.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span>ç›¸å¯¹è·¯å¾„è·³è½¬è‡³a2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/testServlet1_war_exploded/b/b2/b1.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span>ç›¸å¯¹è·¯å¾„è·³è½¬è‡³b1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜"><a href="#è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜" class="headerlink" title="è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜"></a>è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240205115551103.png" alt="image-20240205115551103"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 11:30</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//éƒ½æ˜¯ä»webå¼€å§‹çš„è¿™ä¸ªurlpatternså½±å“ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">/*è¯·æ±‚è½¬å‘è·¯å¾„çš„å†™æ³•</span></span><br><span class="line"><span class="comment">        * ç›¸å¯¹åŸºå‡†è·¯å¾„ï¼šç›¸å¯¹æ–‡ä»¶æœ¬èº«urlPatternå†³å®šäº†ä½ç½®</span></span><br><span class="line"><span class="comment">        * ç»å¯¹è·¯å¾„çš„å†™æ³•ï¼šä»¥é¡¹ç›®ä¸ºåŸºå‡†è·¯å¾„ï¼ˆä¸å…è®¸è·¨é¡¹ç›®è·¨æœåŠ¡ï¼Œåªèƒ½åœ¨å½“å‰é¡¹ç›®ï¼‰</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="comment">/*ç›¸å¯¹è·¯å¾„è®¿é—®a1*/</span></span><br><span class="line">        <span class="comment">//RequestDispatcher requestDispatcher = req.getRequestDispatcher(&quot;a/a2/a1.html&quot;);</span></span><br><span class="line">        <span class="comment">/*ç»å¯¹è·¯å¾„è®¿é—®a1*/</span></span><br><span class="line">        <span class="type">RequestDispatcher</span> <span class="variable">requestDispatcher</span> <span class="operator">=</span> req.getRequestDispatcher(<span class="string">&quot;/a2/a1.html&quot;</span>);</span><br><span class="line">        requestDispatcher.forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="å“åº”é‡å®šå‘çš„è·¯å¾„é—®é¢˜"><a href="#å“åº”é‡å®šå‘çš„è·¯å¾„é—®é¢˜" class="headerlink" title="å“åº”é‡å®šå‘çš„è·¯å¾„é—®é¢˜"></a>å“åº”é‡å®šå‘çš„è·¯å¾„é—®é¢˜</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 11:30</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//éƒ½æ˜¯ä»webå¼€å§‹çš„è¿™ä¸ªurlpatternså½±å“ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * å“åº”é‡å®šå‘åˆ°a1.html</span></span><br><span class="line"><span class="comment">        * ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment">        *ç»å¯¹è·¯å¾„è¦å†™é¡¹ç›®éƒ¨ç½²åï¼Œé™¤éæ²¡æœ‰ç»™å®šé¡¹ç›®éƒ¨ç½²å</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> getServletContext().getContextPath();</span><br><span class="line">        resp.sendRedirect(contextPath+<span class="string">&quot;/a/a2/a1.html&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="ä¼šè¯ç®¡ç†æ¦‚å¿µå¼•å…¥"><a href="#ä¼šè¯ç®¡ç†æ¦‚å¿µå¼•å…¥" class="headerlink" title="ä¼šè¯ç®¡ç†æ¦‚å¿µå¼•å…¥"></a>ä¼šè¯ç®¡ç†æ¦‚å¿µå¼•å…¥</h3><pre><code>Cookieå¯¹è±¡ä¸HttpSessionå¯¹è±¡çš„ä½œç”¨æ˜¯ç»´æŠ¤å®¢æˆ·ç«¯æµè§ˆå™¨ä¸æœåŠ¡ç«¯çš„ä¼šè¯çŠ¶æ€çš„ä¸¤ä¸ªå¯¹è±¡ã€‚**ç”±äºHTTPåè®®æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯å¹¶ä¸ä¼šè®°å½•å½“å‰å®¢æˆ·ç«¯æµè§ˆå™¨çš„è®¿é—®çŠ¶æ€ï¼Œä½†æ˜¯åœ¨æœ‰äº›æ—¶å€™æˆ‘ä»¬æ˜¯éœ€è¦æœåŠ¡ç«¯èƒ½å¤Ÿè®°å½•å®¢æˆ·ç«¯æµè§ˆå™¨çš„è®¿é—®çŠ¶æ€çš„**ï¼Œå¦‚è·å–å½“å‰å®¢æˆ·ç«¯æµè§ˆå™¨çš„è®¿é—®æœåŠ¡ç«¯çš„æ¬¡æ•°æ—¶å°±éœ€è¦ä¼šè¯çŠ¶æ€çš„ç»´æŒã€‚åœ¨Servletä¸­æä¾›äº†Cookieå¯¹è±¡ä¸HttpSessionå¯¹è±¡ç”¨äºç»´æŠ¤å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„ä¼šè¯çŠ¶æ€çš„ç»´æŒã€‚äºŒè€…ä¸åŒçš„æ˜¯Cookieæ˜¯é€šè¿‡å®¢æˆ·ç«¯æµè§ˆå™¨å®ç°ä¼šè¯çš„ç»´æŒï¼Œè€ŒHttpSessionæ˜¯é€šè¿‡æœåŠ¡ç«¯æ¥å®ç°ä¼šè¯çŠ¶æ€çš„ç»´æŒã€‚
</code></pre><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240205150255916.png" alt="image-20240205150255916"></p>
<h4 id="Cookieå’ŒSessionçš„å¼•å…¥"><a href="#Cookieå’ŒSessionçš„å¼•å…¥" class="headerlink" title="Cookieå’ŒSessionçš„å¼•å…¥"></a>Cookieå’ŒSessionçš„å¼•å…¥</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240205151118814.png" alt="image-20240205151118814"></p>
<p>Cookieä¸èƒ½è·¨æœåŠ¡ï¼Œé‚£ä¸ªæœåŠ¡å‘é€è¿‡æ¥çš„Cookieå°±å¸¦åˆ°é‚£ä¸ªæœåŠ¡å»</p>
<h4 id="Cookieçš„ä½¿ç”¨"><a href="#Cookieçš„ä½¿ç”¨" class="headerlink" title="Cookieçš„ä½¿ç”¨"></a>Cookieçš„ä½¿ç”¨</h4><pre><code>3.2.1 Cookieå¯¹è±¡çš„ç‰¹ç‚¹
</code></pre><p>Ã˜  Cookieä½¿ç”¨å­—ç¬¦ä¸²å­˜å‚¨æ•°æ®</p>
<p>Ã˜  Cookieä½¿ç”¨Keyä¸Valueç»“æ„å­˜å‚¨æ•°æ®</p>
<p>Ã˜  å•ä¸ªCookieå­˜å‚¨æ•°æ®å¤§å°é™åˆ¶åœ¨4097ä¸ªå­—èŠ‚</p>
<p>Ã˜  Cookieå­˜å‚¨çš„æ•°æ®ä¸­ä¸æ”¯æŒä¸­æ–‡ï¼ŒServlet4.0ä¸­æ”¯æŒ</p>
<p>Ã˜  Cookieæ˜¯ä¸åŸŸåç»‘å®šæ‰€ä»¥ä¸æ”¯æŒè·¨ä¸€çº§åŸŸåè®¿é—®</p>
<p>Ã˜  Cookieå¯¹è±¡ä¿å­˜åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨å†…å­˜ä¸Šæˆ–ç³»ç»Ÿç£ç›˜ä¸­</p>
<p>Ã˜  Cookieåˆ†ä¸ºæŒä¹…åŒ–Cookie(ä¿å­˜åœ¨ç£ç›˜ä¸Š)ä¸çŠ¶æ€Cookie(ä¿å­˜åœ¨å†…å­˜ä¸Š)</p>
<p>Ã˜  æµè§ˆå™¨åœ¨ä¿å­˜åŒä¸€åŸŸåæ‰€è¿”å›Cookieçš„æ•°é‡æ˜¯æœ‰é™çš„ã€‚ä¸åŒæµè§ˆå™¨æ”¯æŒçš„æ•°é‡ä¸åŒï¼Œ</p>
<p>Chromeæµè§ˆå™¨ä¸º50ä¸ª</p>
<p>Ã˜  æµè§ˆå™¨æ¯æ¬¡è¯·æ±‚æ—¶éƒ½ä¼šæŠŠä¸å½“å‰è®¿é—®çš„åŸŸåç›¸å…³çš„Cookieåœ¨è¯·æ±‚ä¸­æäº¤åˆ°æœåŠ¡ç«¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 15:31</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//é€šè¿‡å“åº”å¯¹è±¡ï¼Œå‘æµè§ˆå™¨ç›¸åº”ä¸€äº›Cookie</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;age&quot;</span>,<span class="string">&quot;10&quot;</span>);</span><br><span class="line">        c1.setMaxAge(<span class="number">60</span>);<span class="comment">//ç§’</span></span><br><span class="line">        resp.addCookie(c1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¯»å–Cookie</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 15:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet2.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet2</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è¯»å–è¯·æ±‚ä¸­çš„Cookie</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span>!=cookies)&#123;</span><br><span class="line">            <span class="keyword">for</span> (Cookie cookie : cookies)&#123;</span><br><span class="line">                System.out.println(cookie.getName()+<span class="string">&quot;:&quot;</span>+cookie.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Cookieè·¨åŸŸé—®é¢˜</strong>ï¼ˆäº†è§£å³å¯ï¼‰</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240205155248030.png" alt="image-20240205155248030"></p>
<p><strong>Cookieè®°å½•è®¿é—®æ¬¡æ•°</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 15:56</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet3.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet3</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœç¬¬ä¸€æ¬¡è®¿é—®å½“å‰servletï¼Œå‘æµè§ˆå™¨å“åº”ä¸€ä¸ªcookie(&quot;servlet3&quot;,&quot;1&quot;)</span></span><br><span class="line">        <span class="comment">//å¦‚æœå¤šæ¬¡è®¿é—®ï¼Œå°±åœ¨æ¬¡æ•°ä¸Š+1</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span>!=cookies)&#123;</span><br><span class="line">            <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">cookieName</span> <span class="operator">=</span> cookie.getName();</span><br><span class="line">                <span class="keyword">if</span>(cookieName.equals(<span class="string">&quot;servlet3&quot;</span>))&#123;</span><br><span class="line">                    <span class="comment">//åˆ›å»ºCookie</span></span><br><span class="line">                    <span class="type">Integer</span> <span class="variable">value</span> <span class="operator">=</span> Integer.parseInt(cookie.getValue())+<span class="number">1</span>;</span><br><span class="line">                    <span class="type">Cookie</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;servlet3&quot;</span>,String.valueOf(value));</span><br><span class="line">                    resp.addCookie(c1);</span><br><span class="line">                    System.out.println(<span class="string">&quot;æ¬¢è¿ç¬¬&quot;</span>+value+<span class="string">&quot;è®¿é—®&quot;</span>);</span><br><span class="line">                    flag = <span class="literal">true</span> ;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ¬¢è¿ä½ ç¬¬ä¸€æ¬¡è®¿é—®&quot;</span>);</span><br><span class="line">            <span class="type">Cookie</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;servlet3&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">            resp.addCookie(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Sessionçš„ä½¿ç”¨"><a href="#Sessionçš„ä½¿ç”¨" class="headerlink" title="Sessionçš„ä½¿ç”¨"></a>Sessionçš„ä½¿ç”¨</h4><p><strong>HttpSession</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 16:25</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å¾—HttpSessionå¯¹è±¡ åŒ…å­˜æ›´å¤šæ•°æ®ä¿å­˜åœ¨æœåŠ¡ç«¯çš„æŠ€æœ¯</span></span><br><span class="line">        <span class="comment">//ä¸€èˆ¬ä¿å­˜ç”¨æˆ·çš„æƒé™ç­‰</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * getSessionæ–¹æ³•æ‰§è¡Œå†…å®¹</span></span><br><span class="line"><span class="comment">        * 1ã€ä»requestä¸­å°è¯•è·å–JSESSIONIDçš„Cookie</span></span><br><span class="line"><span class="comment">        * 2ã€å¦‚æœè·å–å¤±è´¥ï¼Œè®¤ä¸ºä¸Šæ¬¡å›è¯å·²ç»ç»“æŸï¼Œåœ¨è¿™é‡Œè¦å¼€å¯æ–°çš„ä¼šè¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„HttpSessionå¹¶è¿”å›</span></span><br><span class="line"><span class="comment">        * 3ã€å°†æ–°çš„HttpSessionå¯¹è±¡çš„JSESSIONIDä»¥Cookieçš„å½¢å¼æ”¾åœ¨Responseå¯¹è±¡ï¼Œå“åº”ç»™æµè§ˆå™¨</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        * å¦‚æœè·å–æˆåŠŸ</span></span><br><span class="line"><span class="comment">        * æ ¹æ®JSESSIONåœ¨æœåŠ¡å™¨ å†…æ‰¾å¯¹åº”HttpSessionå¯¹è±¡</span></span><br><span class="line"><span class="comment">        * 1ã€æ‰¾åˆ°äº†è¿”å›HttpSession</span></span><br><span class="line"><span class="comment">        * 2ã€æ²¡æ‰¾åˆ°ï¼Œåˆ›å»ºæ–°çš„HttpSessionå¹¶å°†SESSIONIDä»¥Cookieçš„å½¢å¼æ”¾åœ¨Responseå¯¹è±¡ï¼Œå“åº”ç»™æµè§ˆå™¨</span></span><br><span class="line"><span class="comment">        * å§</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">httpSession</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">//å‘é‡Œé¢å­˜æ”¾æ•°æ®</span></span><br><span class="line">        httpSession.setAttribute(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;oyy&quot;</span>);</span><br><span class="line">        httpSession.setAttribute(<span class="string">&quot;level&quot;</span>,<span class="string">&quot;A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/5 - 02 - 05 - 17:32</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet2.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet2</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">username</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">level</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;level&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;username:&quot;</span>+username);</span><br><span class="line">        System.out.println(<span class="string">&quot;level:&quot;</span>+level);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é‚£äº›æƒ…å†µä¼šç»“æŸä¼šè¯</p>
<p>1ã€æµè§ˆå™¨æ²¡æœ‰æºå¸¦JSESSIONID    ï¼ˆæµè§ˆå™¨å…³é—­ï¼‰ï¼ˆæ‰‹åŠ¨æ¸…é™¤ï¼‰</p>
<p>2ã€æœåŠ¡å™¨ç«¯ä¸¢å¤±HttpSession  (æœåŠ¡å™¨é‡å¯ï¼Œåˆ°è¾¾æœ€å¤§ä¸æ´»åŠ¨æ—¶é—´,æ‰‹åŠ¨é”€æ¯)</p>
<p>åœ¨web.xmlä¸­è®¾ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>1<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">httpSession.invalidate();<span class="comment">//æ‰‹åŠ¨è®¾ç½®HttpSessionåˆ é™¤</span></span><br><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">seesion.getCreationTime();<span class="comment">//è¿”å›æ—¶é—´çš„æ¯«ç§’æ•°</span></span><br><span class="line">seesion.getLastAccessedTime();<span class="comment">//æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´</span></span><br><span class="line">session.getMaxInactiveInterval();<span class="comment">//æœ€å¤§ä¸æ´»åŠ¨æ—¶é—´</span></span><br></pre></td></tr></table></figure>
<h4 id="æ¡ˆä¾‹ï¼šé€šè¿‡HttpSessionåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•"><a href="#æ¡ˆä¾‹ï¼šé€šè¿‡HttpSessionåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•" class="headerlink" title="æ¡ˆä¾‹ï¼šé€šè¿‡HttpSessionåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•"></a>æ¡ˆä¾‹ï¼šé€šè¿‡HttpSessionåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•</h4><p>éœ€æ±‚ï¼šå®ç°ç™»é™†ä¸€æ¬¡å³å¯ï¼Œåœ¨ä¸€æ¬¡ä¼šè¯å†…ï¼Œå¯ä»¥åå¤å¤šæ¬¡è®¿é—®WEB-INF/welcome.htmlï¼Œå¦‚æœæ²¡æœ‰ç™»é™†è¿‡ï¼Œè·³è½¬åˆ°ç™»å½•é¡µï¼Œç™»é™†æˆåŠŸåï¼Œå¯ä»¥è®¿é—®é¡¹ç›®ç»“æ„ã€‚</p>
<p>ç»„ä»¶ä»‹ç»ï¼š</p>
<p>index.html</p>
<p>ç™»å½•ä¿¡æ¯é¡µé¢</p>
<p>welcome.html</p>
<p>ç™»é™†æˆåŠŸä¹‹åå¯ä»¥è®¿é—®çš„èµ„æº</p>
<p>LoginServlet</p>
<p>ç”¨æ¥æ ¡éªŒç™»å½•çš„ï¼Œç™»é™†æˆåŠŸå°†ç”¨æˆ·ä¿¡æ¯å­˜æˆ·HttpSession,å¦åˆ™å›åˆ°ç™»å½•é¡µ</p>
<p>WelcomeServlet</p>
<p>ç”¨æ¥å‘welcome.htmlä¸­è·³è½¬çš„ï¼ŒåŒæ—¶éªŒè¯ç™»å½•ï¼Œç™»å½•è¿‡ï¼Œå¯ä»¥ç›´æ¥è·³è½¬ï¼Œå¦åˆ™å›åˆ°ç™»å½•é¡µã€‚</p>
<p>User</p>
<p>ç”¨æ¥å­˜å‚¨ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯çš„å®ä½“ç±»å¯¹è±¡</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240206114632163.png" alt="image-20240206114632163"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/6 - 02 - 06 - 8:51</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.pojo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String realname;</span><br><span class="line">    <span class="keyword">private</span>  String password;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String uid;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;realname=&#x27;&quot;</span> + realname + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, uid=&#x27;&quot;</span> + uid + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String realname, String password, String username, String uid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.realname = realname;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">        <span class="built_in">this</span>.uid = uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getRealname</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> realname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRealname</span><span class="params">(String realname)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.realname = realname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUid</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUid</span><span class="params">(String uid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.uid = uid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/6 - 02 - 06 - 8:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.servlet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/loginServlet.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å–ç”¨æˆ·åå’Œå¯†ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        <span class="comment">//å¦‚æœç”¨æˆ·å¯†ç ä¸ºoyy 123</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;oyy&quot;</span>.equals(username) &amp;&amp; <span class="string">&quot;123&quot;</span>.equals(password))&#123;</span><br><span class="line">            <span class="comment">//ç™»é™†æˆåŠŸè·³è½¬è‡³welcome.html</span></span><br><span class="line">            <span class="comment">//å°†ç”¨æˆ·ä¿¡æ¯æ”¾HttpSessionä¸­</span></span><br><span class="line">            <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="literal">null</span>,<span class="string">&quot;123&quot;</span>,<span class="string">&quot;oyy&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">            <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">            session.setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;mainServlet.do&quot;</span>);</span><br><span class="line">            System.out.println(username);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(password);</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;login.html&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/6 - 02 - 06 - 8:42</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.servlet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/mainServlet.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·³è½¬è‡³welcome.html</span></span><br><span class="line">        <span class="comment">//åˆ¤æ–­æœ‰æ²¡æœ‰ç™»é™†ï¼Œå¦‚æœç™»é™†è¿‡å°±å…è®¸ï¼Œæ²¡æœ‰å°±è¿”å›åˆ°ç™»å½•é¡µ çœ‹HttpSessionæœ‰æ²¡æœ‰ç™»å½•ä¿¡æ¯</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) session.getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span>!=user)&#123;</span><br><span class="line">            req.getRequestDispatcher(<span class="string">&quot;/WEB-INF/welcome.html&quot;</span>).forward(req,resp);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;login.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">this is the main page</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span> <span class="attr">action</span>=<span class="string">&quot;loginServlet.do&quot;</span>&gt;</span></span><br><span class="line">    ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="åŸŸå¯¹è±¡"><a href="#åŸŸå¯¹è±¡" class="headerlink" title="åŸŸå¯¹è±¡"></a>åŸŸå¯¹è±¡</h3><p><strong>ä»€ä¹ˆæ˜¯åŸŸå¯¹è±¡ï¼Ÿ</strong></p>
<p>èƒ½æ”¾æ•°æ®å¹¶å­˜å‚¨å¹¶ä¼ é€’çš„åŒºåŸŸï¼Œé‚£äº›å¯¹è±¡å°±æ˜¯åŸŸå¯¹è±¡ã€‚</p>
<p><strong>Servletä¸‰å¤§åŸŸå¯¹è±¡</strong></p>
<p>RequeståŸŸ                HTTPServletRequest          ä¸€æ¬¡è¯·æ±‚/è¯·æ±‚è½¬å‘<br>SessionåŸŸ                 HTTPSession                       ä¸€æ¬¡ä¼šè¯(è·¨è¯·æ±‚)<br>ApplicationåŸŸ          ServletContext                    ä»»æ„ä¸€æ¬¡è¯·æ±‚å’Œä¼šè¯(è·¨ä¼šè¯)</p>
<p>setAttribute(name,value); è®¾ç½®ä¿®æ”¹æ•°æ®<br>getAttribute(name);è·å¾—æ•°æ®çš„æ–¹æ³•<br>removeAttribute(name);ç§»é™¤æ•°æ®çš„æ–¹æ³•</p>
<p><strong>JSPå››å¤§åŸŸå¯¹è±¡</strong></p>
<p>PageåŸŸ<br>RequeståŸŸ<br>SessionåŸŸ<br>ApplicationåŸŸ</p>
<h4 id="RequeståŸŸ"><a href="#RequeståŸŸ" class="headerlink" title="RequeståŸŸ"></a>RequeståŸŸ</h4><p>åªæœ‰è¯·æ±‚è½¬å‘çš„æ—¶å€™èƒ½æºå¸¦æ•°æ®ä¼ è¾“</p>
<p>åœ¨æµè§ˆå™¨è¾“å…¥çš„æ•°æ®å­˜åˆ°reqçš„åŸŸé‡Œé¢ç„¶ååœ¨servletä¸­ä¹Ÿèƒ½ç»§ç»­å¢åŠ æ•°æ®ï¼Œå¦‚æœå¢åŠ çš„æ•°æ®é”®ç›¸åŒï¼Œé‚£ä¹ˆå°±ä¼šä»¥æœ€åçš„é”®ä¸ºä¸»ç„¶åè¦†ç›–æ‰å‰é¢é‚£ä¸ªé”®ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.msb.testRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/addToRequest.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘requeståŸŸä¸­æ·»åŠ æ•°æ®</span></span><br><span class="line">        List&lt;String&gt; x=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(x, <span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;list&quot;</span>, x);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;boy&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;girl&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;æ™“æ˜&quot;</span>);</span><br><span class="line">        <span class="comment">// è¯·æ±‚è½¬å‘</span></span><br><span class="line">         req.getRequestDispatcher(<span class="string">&quot;/readFromRequest.do&quot;</span>).forward(req,resp);</span><br><span class="line">        <span class="comment">// é‡å®šå‘</span></span><br><span class="line">        <span class="comment">//resp.sendRedirect(&quot;readFromRequest.do&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.msb.testRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns=&quot;/readFromRequest.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet2</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// ç§»é™¤åŸŸä¸­çš„äº’æ•°æ®</span></span><br><span class="line">        req.removeAttribute(<span class="string">&quot;gender&quot;</span>);</span><br><span class="line">        <span class="comment">// ä»requeståŸŸä¸­è¯»å–æ•°æ®</span></span><br><span class="line">        List&lt;String&gt; list =(List&lt;String&gt;) req.getAttribute(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(req.getAttribute(<span class="string">&quot;gender&quot;</span>));</span><br><span class="line">        System.out.println(req.getAttribute(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        <span class="comment">//è·å–Requestä¸­çš„è¯·æ±‚å‚æ•°</span></span><br><span class="line">        System.out.println(req.getParameter(<span class="string">&quot;username&quot;</span>));</span><br><span class="line">        System.out.println(req.getParameter(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="SessionåŸŸä¼ é€’å¯¹è±¡"><a href="#SessionåŸŸä¼ é€’å¯¹è±¡" class="headerlink" title="SessionåŸŸä¼ é€’å¯¹è±¡"></a>SessionåŸŸä¼ é€’å¯¹è±¡</h4><p>å°±æ˜¯å°†æµè§ˆå™¨çš„æ•°æ®å­˜æ”¾åˆ°httpSessionä¸­ï¼Œå¯ä»¥é‡å®šå‘ä¹Ÿå¯ä»¥è¯·æ±‚è½¬å‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.msb.testSession;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/addToSession.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘SessionåŸŸä¸­æ·»åŠ æ•°æ®</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        List&lt;String&gt; x=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(x, <span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;list&quot;</span>, x);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;boy&quot;</span>);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;girl&quot;</span>);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;æ™“æ˜&quot;</span>);</span><br><span class="line">        <span class="comment">// é‡å®šå‘</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;readFromSession.do&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.msb.testSession;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns=&quot;/readFromSession.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet2</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">// ç§»é™¤åŸŸä¸­çš„äº’æ•°æ®</span></span><br><span class="line">        <span class="comment">//session.removeAttribute(&quot;gender&quot;);</span></span><br><span class="line">        <span class="comment">// ä»requeståŸŸä¸­è¯»å–æ•°æ®</span></span><br><span class="line">        List&lt;String&gt; list =(List&lt;String&gt;) session.getAttribute(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(session.getAttribute(<span class="string">&quot;gender&quot;</span>));</span><br><span class="line">        System.out.println(session.getAttribute(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        <span class="comment">//è·å–Requestä¸­çš„è¯·æ±‚å‚æ•°</span></span><br><span class="line">        System.out.println(req.getParameter(<span class="string">&quot;username&quot;</span>));</span><br><span class="line">        System.out.println(req.getParameter(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¦‚æœcookieè¢«åˆ é™¤æˆ–è€…æµè§ˆå™¨å…³é—­é‡å¯å°±ä¸èƒ½å®ç°äº†</p>
<h4 id="ApplicationåŸŸï¼ˆåº”ç”¨åŸŸï¼‰"><a href="#ApplicationåŸŸï¼ˆåº”ç”¨åŸŸï¼‰" class="headerlink" title="ApplicationåŸŸï¼ˆåº”ç”¨åŸŸï¼‰"></a>ApplicationåŸŸï¼ˆåº”ç”¨åŸŸï¼‰</h4><p>ServletContext</p>
<p>æœ‰æ•ˆèŒƒå›´</p>
<p>å½“å‰webæœåŠ¡å†…,è·¨è¯·æ±‚,è·¨ä¼šè¯</p>
<p>ç”Ÿå‘½å‘¨æœŸ</p>
<p>åˆ›å»º é¡¹ç›®å¯åŠ¨</p>
<p>ä½¿ç”¨ é¡¹ç›®è¿è¡Œä»»ä½•æ—¶é—´æœ‰æ•ˆ</p>
<p>é”€æ¯ é¡¹ç›®å…³é—­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.msb.testApplication;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/addToApplication.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘ApplicationåŸŸä¸­æ·»åŠ æ•°æ®</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> req.getServletContext();</span><br><span class="line">        List&lt;String&gt; x=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(x, <span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        application.setAttribute(<span class="string">&quot;list&quot;</span>, x);</span><br><span class="line">        application.setAttribute(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;girl&quot;</span>);</span><br><span class="line">        application.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;æ™“æ˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.msb.testApplication;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Ma HaiYang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns=&quot;/readFromApplication.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet2</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="comment">// ä»applicationåŸŸä¸­è¯»å–æ•°æ®</span></span><br><span class="line">        List&lt;String&gt; list =(List&lt;String&gt;) application.getAttribute(<span class="string">&quot;list&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(application.getAttribute(<span class="string">&quot;gender&quot;</span>));</span><br><span class="line">        System.out.println(application.getAttribute(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="JSP-1"><a href="#JSP-1" class="headerlink" title="JSP"></a>JSP</h3><p>JSPï¼ˆå…¨ç§°Java Server Pagesï¼‰æ˜¯ç”±Sunå…¬å¸ä¸»å¯¼åˆ›å»ºçš„ä¸€ç§åŠ¨æ€ç½‘é¡µæŠ€æœ¯æ ‡å‡†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> Integer.parseInt(req.getParameter(<span class="string">&quot;h&quot;</span>));</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> Integer.parseInt(req.getParameter(<span class="string">&quot;l&quot;</span>));</span><br><span class="line">        StringBuilder sbd=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        sbd.append(<span class="string">&quot;&lt;html lang=&#x27;en&#x27;&gt;&lt;head&gt;&lt;meta charset=&#x27;UTF-8&#x27;&gt;&lt;title&gt;Title&lt;/title&gt;&lt;style&gt;&quot;</span>);</span><br><span class="line">        sbd.append(<span class="string">&quot;table&#123;border: 1px solid green;width: 50%;margin: 0px auto;&#125;&quot;</span>);</span><br><span class="line">        sbd.append(<span class="string">&quot;table td&#123;border: 1px solid blue;&#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;table&gt;&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;=h ; i++) &#123;</span><br><span class="line">            sbd.append(<span class="string">&quot;&lt;tr&gt;&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;=l ; j++) &#123;</span><br><span class="line">                sbd.append(<span class="string">&quot;&lt;td&gt;&quot;</span>);</span><br><span class="line">                sbd.append(String.valueOf(i));</span><br><span class="line">                sbd.append(String.valueOf(j));</span><br><span class="line">                sbd.append(<span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sbd.append(<span class="string">&quot;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sbd.append(<span class="string">&quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®å“åº”å†…å®¹å’Œç¼–ç </span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// å“åº”å†…å®¹ç»™æµè§ˆå™¨</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.print(sbd.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŠ¨æ€èµ„æº: é€šè¿‡è¿ç®—è€Œç”Ÿæˆçš„èµ„æº         Servlet   JSP<br>é™æ€èµ„æº: æ¯æ¬¡è®¿é—®è·å¾—çš„éƒ½æ˜¯ä¸éœ€è¦ç°ç”Ÿæˆçš„èµ„æº HTML img mp3 mp4 js css â€¦ â€¦ </p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207093723315.png" alt="image-20240207093723315"></p>
<p>æ€»ç»“:Servletä½œä¸ºåŠ¨æ€èµ„æº,åœ¨JAVAä»£ç ä¸­é€šè¿‡å­—ç¬¦ä¸²å½¢å¼å“åº”æ•°æ®,é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥HTMLæ–‡æ¡£ç‰¹åˆ«ç¹ç,ä¸åˆ©äºåæœŸçš„ç»´æŠ¤,å®¹æ˜“å‡ºç°é—®é¢˜,å¦‚æœç”¨äºå‘æµè§ˆå™¨å“åº”é¡µé¢èµ„æºæ“ä½œéå¸¸ç¹ç,ä¸”éå¸¸ä¸åˆ©äºé¡µé¢çš„æ›´æ–°å’Œç»´æŠ¤,æ‰€ä»¥Servletä¸å¯ä»¥ä½œä¸ºé¡µé¢èµ„æº,ä¸€èˆ¬ä¸“é—¨ç”¨æ¥æ”¶ç”¨æˆ·ç«¯æ•°æ®,å‘ç”¨æˆ·ç«¯å“åº”æ•°æ®,æ§åˆ¶å‰åç«¯é¡µé¢è·³è½¬,äº¤äº’é€»è¾‘ç­‰.åœ¨MVCæ¨¡å¼ä¸‹,ä½œä¸ºæ§åˆ¶å±‚ä½¿ç”¨</p>
<h4 id="JSPä½œä¸ºèµ„æºå¼•å…¥"><a href="#JSPä½œä¸ºèµ„æºå¼•å…¥" class="headerlink" title="JSPä½œä¸ºèµ„æºå¼•å…¥"></a>JSPä½œä¸ºèµ„æºå¼•å…¥</h4><p>å…¶å®å°±æ˜¯åœ¨jspä¸­å†™javaä»£ç è®©é¡µé¢å’Œåç«¯åˆ†å¼€ã€‚</p>
<p>ServletåŒæ ·ä¹Ÿå¯ä»¥å‘æµè§ˆå™¨åŠ¨æ€å“åº”HTML,ä½†æ˜¯éœ€è¦å¤§é‡çš„å­—ç¬¦ä¸²æ‹¼æ¥å¤„ç†,åœ¨JAVAä»£ç ä¸Šå¤§é‡æ‹¼æ¥HTMLå­—ç¬¦ä¸²æ˜¯éå¸¸ç¹çè€—æ—¶çš„ä¸€ä»¶äº‹,å®ƒæ¶‰åŠåˆ°HTMLæœ¬èº«çš„å­—ç¬¦ä¸²å¤„ç†,è¿˜æ¶‰åŠåˆ°cssæ ·å¼ä»£ç å’Œæ–‡ä»¶,ä»¥åŠjsè„šæœ¬ä»£ç å’Œæ–‡ä»¶,HTMLä¸­çš„å„ç§å¤–éƒ¨å¼•å…¥è·¯å¾„ç­‰ç­‰,å¤„ç†èµ·æ¥ç›¸å½“çš„éº»çƒ¦</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.io.PrintWriter&quot;</span> %&gt;</span><br><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: Mark70</span><br><span class="line">  Date: <span class="number">2021</span>/<span class="number">1</span>/<span class="number">11</span></span><br><span class="line">  Time: <span class="number">13</span>:<span class="number">16</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        table&#123;border: 1px solid green;width: <span class="number">50</span>%;margin: 0px auto;&#125;</span><br><span class="line">        table td&#123;border: 1px solid blue;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> Integer.parseInt(request.getParameter(<span class="string">&quot;h&quot;</span>));</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> Integer.parseInt(request.getParameter(<span class="string">&quot;l&quot;</span>));</span><br><span class="line">        StringBuilder sbd=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        sbd.append(<span class="string">&quot;&lt;table&gt;&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;=h ; i++) &#123;</span><br><span class="line">            sbd.append(<span class="string">&quot;&lt;tr&gt;&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;=l ; j++) &#123;</span><br><span class="line">                sbd.append(<span class="string">&quot;&lt;td&gt;&quot;</span>);</span><br><span class="line">                sbd.append(String.valueOf(i));</span><br><span class="line">                sbd.append(String.valueOf(j));</span><br><span class="line">                sbd.append(<span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sbd.append(<span class="string">&quot;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sbd.append(<span class="string">&quot;&lt;/table&gt;&quot;</span>);</span><br><span class="line">        out.print(sbd.toString());</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207094412438.png" alt="image-20240207094412438"></p>
<p>JSPä¸­å¦‚ä½•ç©¿æ’JAVAä»£ç <br>åœ¨JSPé¡µé¢ä¸Š,éšæœºç”Ÿæˆä¸€ä¸ª1-100 çš„ä¸€ä¸ªåˆ†æ•°,ç„¶åæ ¹æ®åˆ†æ•°æ˜¾ç¤ºåˆ†æ•°ç­‰çº§<br>100-90 A   89-80 B  79-70 C  69 -60 D 60- E</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.io.PrintWriter&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--</span><br><span class="line">    ctrl +shift + /</span><br><span class="line">    JSPä¸­é€šè¿‡&lt;%%&gt;æ¥ç©¿æ’JAVAä»£ç </span><br><span class="line">    &lt;%=å˜é‡/å€¼%&gt;å°†å˜é‡/å€¼æ‰“å°åˆ°é¡µé¢ä¸Šçš„æ ‡ç­¾æ˜¾ç¤ºçš„ä½ç½®</span><br><span class="line">--%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span>(<span class="type">int</span>)(Math.random()*<span class="number">101</span>);</span><br><span class="line">    %&gt;</span><br><span class="line">    åˆ†æ•°:</span><br><span class="line">    &lt;%--</span><br><span class="line">        &lt;%</span><br><span class="line">            <span class="comment">//PrintWriter out = response.getWriter();</span></span><br><span class="line">            out.print(score);</span><br><span class="line">        %&gt;</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;%=score%&gt;</span><br><span class="line">    &lt;br/&gt;</span><br><span class="line">    ç­‰çº§:</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="type">int</span> <span class="variable">grade</span> <span class="operator">=</span>score/<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">switch</span> (grade)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">    %&gt;</span><br><span class="line">               &lt;%=<span class="string">&quot;A&quot;</span>%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">    %&gt;</span><br><span class="line">                &lt;%=<span class="string">&quot;B&quot;</span>%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">    %&gt;</span><br><span class="line">                &lt;%=<span class="string">&quot;C&quot;</span>%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">    %&gt;</span><br><span class="line">               &lt;%=<span class="string">&quot;D&quot;</span>%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">    %&gt;</span><br><span class="line">                &lt;%=<span class="string">&quot;E&quot;</span>%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        &#125;</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="JSPåŸç†"><a href="#JSPåŸç†" class="headerlink" title="JSPåŸç†"></a>JSPåŸç†</h4><p>JSPçœ‹ä¼¼æ˜¯HTMLä»£ç ,çœ‹ä¼¼æ˜¯é¡µé¢,ä½†æ˜¯äº‹å®ä¸Šæ˜¯ä¸€ç§åå°æŠ€æœ¯,å½“æˆ‘ä»¬ç¬¬ä¸€å‘é€è¯·æ±‚ä¸€ä¸ªJSPèµ„æºæ—¶,JSPåŠ è½½å¼•æ“ä¼šå¸®åŠ©æˆ‘ä»¬å°†ä¸€ä¸ª.JSPæ–‡ä»¶è½¬æ¢æˆä¸€ä¸ª.javaæ–‡ä»¶,<strong>ç›¸å½“äºè‡ªåŠ¨çš„ç»™æˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªServletå¹¶å°†é¡µé¢ä¸ŠHTMLä»£ç ç¼–å…¥åˆ°è¿™ä¸ªServletä¸­,ç„¶åè¿è¡Œè¿™ä¸ªServlet,å°†æ•°æ®å“åº”ç»™æµè§ˆå™¨.JSPçš„æœ¬è´¨å…¶å®å°±æ˜¯ä¸€ä¸ªServlet,.JSPä¸­çš„HTMLä»£ç ç›¸å½“äºæ˜¯æˆ‘ä»¬å‘æµè§ˆå™¨å“åº”çš„HTMLå†…å®¹çš„æ¨¡æ¿</strong></p>
<p>JSPæ‰§è¡Œè¿‡ç¨‹</p>
<p>JSPçš„æ‰§è¡Œè¿‡ç¨‹å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ—¶æœŸ:è½¬è¯‘æ—¶æœŸå’Œè¯·æ±‚æ—¶æœŸ</p>
<p>è½¬è¯‘æ—¶æœŸï¼ˆTranslation Timeï¼‰ï¼š</p>
<p>JSPç½‘é¡µè½¬è¯‘æˆServlet,ç”Ÿæˆ.javaæ–‡ä»¶,ç„¶åè¿›è¡Œç¼–è¯‘ç”Ÿæˆ.classå­—èŠ‚ç æ–‡ä»¶</p>
<p>è¯·æ±‚æ—¶æœŸï¼ˆRequest Timeï¼‰ï¼š</p>
<p>è¿è¡Œ.classå­—èŠ‚ç æ–‡ä»¶,å¤„ç†è¯·æ±‚ã€‚</p>
<p>å…·ä½“è¿‡ç¨‹</p>
<p>1ã€å®¢æˆ·ç«¯å‘å‡ºRequestè¯·æ±‚</p>
<p>2ã€JSP Container å°†JSPè½¬è¯‘æˆServletçš„æºä»£ç .javaæ–‡ä»¶</p>
<p>3ã€å°†äº§ç”Ÿçš„Servletæºä»£ç ç»è¿‡ç¼–è¯‘å.ç”Ÿæˆå­—èŠ‚ç .classæ–‡ä»¶</p>
<p>4ã€å°†.classå­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å…¥å†…å­˜å¹¶æ‰§è¡Œ,å…¶å®å°±æ˜¯åœ¨è¿è¡Œä¸€ä¸ªServlet</p>
<p>5ã€é€šè¿‡Responseå¯¹è±¡å°†æ•°æ®å“åº”ç»™æµè§ˆå™¨</p>
<p>å½“æˆ‘ä»¬çš„é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªtest2.JSPæ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207111440226.png" alt="image-20240207111440226"></p>
<p>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è¯·æ±‚test2.JSPæ—¶,ä¼šå°†JSPæ–‡ä»¶è¿›è¡Œè½¬åŒ–,è½¬åŒ–æˆJAVAæ–‡ä»¶,æ–‡ä»¶åœ¨æˆ‘ä»¬cç›˜çš„Tomcatå‰¯æœ¬ä¸­</p>
<p>JSPçš„ç»§æ‰¿ç»“æ„</p>
<p>   JSPæ–‡ä»¶è½¬æ¢æˆJAVAä»£ç ä¹‹å,å®ƒé»˜è®¤ç»§æ‰¿äº†HttpJSPBase,å®ç°äº†JSPSourceDependent,å’ŒJSPSourceImportsä¸¤ä¸ªæ¥å£,å…¶ä¸­HttpJSPBaseåˆç»§æ‰¿äº†HttpServlet ,ä¹Ÿå°±æ˜¯è¯´,JSPæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServlet</p>
<p>HttpJSPBaseä»£ç </p>
<p>HttpJSPBaseé‡å†™äº†init,serviceå’Œdestoryæ–¹æ³•,å¹¶ä¸”è‡ªå®šä¹‰äº† <em>jspInit,</em> jspService,_ jspDestory,ç„¶ååœ¨é‡å†™çš„initæ–¹æ³•ä¸­è°ƒç”¨äº†_JSPInit,åœ¨é‡å†™çš„serviceæ–¹æ³•ä¸­è°ƒç”¨äº†_jspService,åœ¨é‡å†™çš„destoryæ–¹æ³•ä¸­è°ƒç”¨äº†_jspDestory.</p>
<p>é‚£ä¹ˆæˆ‘ä»¬JSPæ–‡ä»¶ç¼–è¯‘æˆJAVAä»£ç å,ç»§æ‰¿HttpJspBaseé‡å†™çš„æ–¹æ³•æ˜¯<em>jspInit,</em> jspService,_ jspService</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207111603344.png" alt="image-20240207111603344"></p>
<p>é€šè¿‡æŸ¥çœ‹ä»£ç æˆ‘ä»¬å‘ç°,æˆ‘ä»¬é¡µé¢ä¸Šæ‰€æœ‰HTMLç›¸å…³çš„ä»£ç å…¨éƒ¨è¢«è½¬åŒ–æˆäº†å­—ç¬¦ä¸²,å¹¶åœ¨_JSPServiceæ–¹æ³•ä¸­,é€šè¿‡è¾“å‡ºæµçš„å½¢å¼å“åº”ç»™äº†æµè§ˆå™¨,&lt;%%&gt;ä¸­çš„ä»£ç ä¹Ÿåœ¨è¯¥æ–¹æ³•ä¸­ç©¿æ’æ‰§è¡Œ.</p>
<p>å½“JSPç½‘é¡µåœ¨æ‰§è¡Œæ—¶ï¼ŒJSP Container ä¼šåšæ£€æŸ¥å·¥ä½œï¼Œå¦‚æœå‘ç°JSPç½‘é¡µæœ‰æ›´æ–°ä¿®æ”¹æ—¶ï¼ŒJSP Container æ‰ä¼šå†æ¬¡ç¼–è¯‘JSPæˆ Servlet; å¦‚æœJSPæ²¡æœ‰æ›´æ–°æ—¶ï¼Œå°±ç›´æ¥æ‰§è¡Œå‰é¢æ‰€äº§ç”Ÿçš„Servlet.**,ä¹Ÿå°±æ˜¯è¯´,å½“æˆ‘ä»¬åœ¨JSPä¸Šä¿®æ”¹äº†ä»£ç æ—¶,ä¸éœ€è¦é¢‘ç¹çš„æ›´æ–°å’Œé‡å¯é¡¹ç›®,ç›´æ¥è®¿é—®å°±å¯ä»¥å®Œæˆæ›´æ–°</p>
<p>JSPåŠ è½½å¼•æ“</p>
<p>æŸ¥çœ‹tomcat web.xmlæˆ‘ä»¬å‘ç°,è¿™é‡Œé»˜è®¤é…ç½®äº†ä¸€ä¸ªJSPçš„åŠ è½½å¼•æ“â€”JSPServlet</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207111808959.png" alt="image-20240207111808959"></p>
<p>é€šè¿‡ä¸Šè¿°ä»£ç æŸ¥çœ‹æˆ‘ä»¬å‘ç°,è¯·æ±‚JSPæ˜¯éƒ½ä¼šè¢«JSPåŠ è½½å¼•æ“æ‰€åŒ¹é…,é‚£ä¹ˆè¯¥å¼•æ“æœ‰ä»€ä¹ˆä½œç”¨?</p>
<p>è½¬è¯‘JSPé¡µé¢ï¼š</p>
<p>å°†JSPé¡µé¢ç¿»è¯‘æˆä¸€ä¸ªServletï¼Œè¿™ä¸ªServletæ˜¯ä¸€ä¸ªjavaæ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„javaç¨‹åº</p>
<p>ç¼–è¯‘JSPå¯¹åº”javaæ–‡ä»¶ï¼š</p>
<p>JSPå¼•æ“è°ƒç”¨javaç¼–è¯‘å™¨å¯¹è¿™ä¸ªServletè¿›è¡Œç¼–è¯‘ï¼Œå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶class</p>
<p>è¯·æ±‚å¤„ç†é˜¶æ®µï¼š</p>
<p>JSPå¼•æ“è°ƒç”¨javaè™šæ‹Ÿæœºæ¥è§£é‡Šæ‰§è¡Œclassæ–‡ä»¶ï¼Œç”Ÿæˆå‘å®¢æˆ·ç«¯å‘é€çš„åº”ç­”ï¼Œç„¶åå‘é€ç»™å®¢æˆ·ç«¯</p>
<p>JSPçš„æ€§èƒ½é—®é¢˜</p>
<p>æœ‰äººéƒ½ä¼šè®¤ä¸ºJSPçš„æ‰§è¡Œæ€§èƒ½ä¼šå’ŒServletç›¸å·®å¾ˆå¤šï¼Œå…¶å®æ‰§è¡Œæ€§èƒ½ä¸Šçš„å·®åˆ«åªåœ¨ç¬¬ä¸€æ¬¡çš„æ‰§è¡Œã€‚å› ä¸ºJSPåœ¨æ‰§è¡Œç¬¬ä¸€æ¬¡åï¼Œä¼šè¢«ç¼–è¯‘æˆServletçš„ç±»æ–‡ä»¶ï¼Œå³.classï¼Œå½“å†é‡å¤è°ƒç”¨æ‰§è¡Œæ—¶ï¼Œå°±ç›´æ¥æ‰§è¡Œç¬¬ä¸€æ¬¡æ‰€äº§ç”Ÿçš„Servlet,è€Œä¸å†é‡æ–°æŠŠJSPç¼–è¯‘æˆServeltã€‚é™¤äº†ç¬¬ä¸€æ¬¡çš„ç¼–è¯‘ä¼šèŠ±è¾ƒä¹…çš„æ—¶é—´ä¹‹å¤–ï¼Œä¹‹åJSPå’ŒåŒç­‰åŠŸèƒ½çš„Servletçš„æ‰§è¡Œé€Ÿåº¦å°±å‡ ä¹ç›¸åŒäº†ã€‚</p>
<p>JSPæ…¢çš„åŸå› ä¸ä»…ä»…æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚éœ€è¦è¿›è¡Œè½¬è¯‘å’Œç¼–è¯‘,è€Œæ˜¯å› ä¸ºJSPä½œä¸ºä¸€ç§åŠ¨æ€èµ„æº,æœ¬è´¨ä¸Šå°±æ˜¯Servlet,å®ƒæ˜¯éœ€è¦è¿è¡Œä»£ç æ‰ä¼šç”Ÿæˆèµ„æº,å’ŒHTMLæœ¬èº«èµ„æºå·²ç»å­˜åœ¨,ç›´æ¥è¿”å›,ç€æœ¬è´¨ä¸Šçš„å·®å¼‚,å¦å¤–,JSPè½¬è¯‘ä¹‹å,å†…éƒ¨é€šè¿‡å¤§é‡IOæµå½¢å¼å‘é€é¡µé¢å†…å®¹,IOæµæœ¬èº«æ˜¯ä¸€ç§é‡é‡çº§æ“ä½œ,æ˜¯æ¯”è¾ƒæ¶ˆè€—èµ„æºçš„</p>
<h4 id="å‰åç«¯åˆ†ç¦»"><a href="#å‰åç«¯åˆ†ç¦»" class="headerlink" title="å‰åç«¯åˆ†ç¦»"></a>å‰åç«¯åˆ†ç¦»</h4><p>å‰åç«¯åˆ†ç¦»å±äºè½¯ä»¶æ¶æ„çš„ä¸€ç§ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯æŠŠå‰ç«¯é¡¹ç›®ï¼ˆNode.jså®ç°çš„ï¼‰å’Œåç«¯é¡¹ç›®ç‹¬ç«‹éƒ¨ç½²åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œå‰ç«¯é¡¹ç›®åœ¨é€šè¿‡Ajaxè¯·æ±‚æœåŠ¡å™¨ç«¯é¡¹ç›®Restfulæ¥å£å®ç°æ•°æ®äº¤äº’ã€‚</p>
<p>ä½¿ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„çš„é¡¹ç›®åœ¨é¡¹ç›®ç»„ä¸­å¾€å¾€é…å¤‡å‰ç«¯å·¥ç¨‹å¸ˆå’Œåç«¯å·¥ç¨‹å¸ˆã€‚åç«¯å·¥ç¨‹å¸ˆå°±æ˜¯æˆ‘ä»¬ï¼Œå¯¹äºæˆ‘ä»¬æˆ‘ä»¬æ¥è¯´ï¼Œä¸éœ€è¦åœ¨é¡¹ç›®ä¸­ç¼–å†™é¡µé¢äº†ï¼Œå†™åˆ°æ§åˆ¶å™¨è¿”å›æ•°æ®å³å¯ï¼Œæœ€åæŠŠé¡¹ç›®éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šã€‚è€Œå‰ç«¯é¡¹ç›®ä¸­ä¸»è¦æ˜¯ä¸€äº›HTMLã€JavaScriptã€å›¾ç‰‡ç­‰èµ„æºï¼Œå¦‚æœå¸Œæœ›èƒ½å¤Ÿç‹¬ç«‹è¿è¡Œå°±éœ€è¦å€ŸåŠ©åŸºäºNode.jsçš„ä¸€äº›å‰ç«¯æ¡†æ¶ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207113206221.png" alt="image-20240207113206221"></p>
<p>2ä»£ç ç»„ç»‡å½¢å¼</p>
<p>åœ¨ä¼ ç»Ÿæ¶æ„æ¨¡å¼ä¸­ï¼Œå‰åç«¯ä»£ç å­˜æ”¾äºåŒä¸€ä¸ªä»£ç åº“ä¸­ï¼Œç”šè‡³æ˜¯åŒä¸€å·¥ç¨‹ç›®å½•ä¸‹ã€‚é¡µé¢ä¸­è¿˜å¤¹æ‚ç€åç«¯ä»£ç ã€‚å‰åç«¯å·¥ç¨‹å¸ˆè¿›è¡Œå¼€å‘æ—¶ï¼Œéƒ½å¿…é¡»æŠŠæ•´ä¸ªé¡¹ç›®å¯¼å…¥åˆ°å¼€å‘å·¥å…·ä¸­ã€‚è€Œå‰åç«¯åˆ†ç¦»æ¨¡å¼åœ¨ä»£ç ç»„ç»‡å½¢å¼ä¸Šæœ‰ä»¥ä¸‹ä¸¤ç§:</p>
<p>åŠåˆ†ç¦»<br>å‰åç«¯å…±ç”¨ä¸€ä¸ªä»£ç åº“ï¼Œä½†æ˜¯ä»£ç åˆ†åˆ«å­˜æ”¾åœ¨ä¸¤ä¸ªå·¥ç¨‹ä¸­ã€‚åç«¯ä¸å…³å¿ƒæˆ–å¾ˆå°‘å…³å¿ƒå‰ç«¯å…ƒç´ çš„è¾“å‡ºæƒ…å†µï¼Œå‰ç«¯ä¸èƒ½ç‹¬ç«‹è¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œé¡¹ç›®ä¸­ç¼ºä¹å‰åç«¯ äº¤äº’çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>åˆ†ç¦»<br>å‰åç«¯ä»£ç åº“åˆ†ç¦»ï¼Œå‰ç«¯ä»£ç ä¸­æœ‰å¯ä»¥è¿›è¡ŒMockæµ‹è¯•(é€šè¿‡æ„é€ è™šæ‹Ÿæµ‹è¯•å¯¹ è±¡ä»¥ç®€åŒ–æµ‹è¯•ç¯å¢ƒçš„æ–¹æ³•)çš„ä¼ªåç«¯ï¼Œèƒ½æ”¯æŒå‰ç«¯çš„ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ã€‚è€Œåç«¯ä»£ç ä¸­é™¤äº†åŠŸèƒ½å®ç°å¤–ï¼Œè¿˜æœ‰ç€è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä»¥ä¿è¯APIçš„å¯ç”¨æ€§ï¼Œé™ä½ é›†æˆé£é™©</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207113255784.png" alt="image-20240207113255784"></p>
<p>3æ•°æ®æ¥å£è§„èŒƒæµç¨‹</p>
<p>åœ¨å¼€å‘æœŸé—´å‰åç«¯å…±åŒå•†å®šå¥½æ•°æ®æ¥å£çš„äº¤äº’å½¢å¼å’Œæ•°æ®æ ¼å¼ã€‚ç„¶åå®ç°å‰åç«¯çš„å¹¶è¡Œå¼€å‘ï¼Œå…¶ä¸­å‰ç«¯å·¥ç¨‹å¸ˆå†å¼€å‘å®Œæˆä¹‹åå¯ä»¥ç‹¬è‡ªè¿›è¡Œmockæµ‹è¯•ï¼Œè€Œåç«¯ä¹Ÿå¯ä»¥ä½¿ç”¨æ¥å£æµ‹è¯•å¹³å°è¿›è¡Œæ¥å£è‡ªæµ‹ï¼Œç„¶åå‰åç«¯ä¸€èµ·è¿›è¡ŒåŠŸèƒ½è”è°ƒå¹¶æ ¡éªŒæ ¼å¼ï¼Œæœ€ç»ˆè¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207113339509.png" alt="image-20240207113339509"></p>
<p>å‰åç«¯åˆ†ç¦»å¸¸ç”¨æ¡†æ¶</p>
<p>å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´å¸¸ç”¨çš„å°±æ˜¯Vue.jså’ŒReact.jså’ŒangularJSã€‚ä»–ä»¬æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆå¸¸ç”¨çš„ä¸‰å¤§æ¡†æ¶ã€‚</p>
<p>Vue.js å°å·§ï¼Œçµæ´»ï¼ŒåŠŸèƒ½å´å¾ˆå¼ºå¤§ã€‚åœ¨å¸‚åœºä¸Šå æœ‰ç‡æ›´é«˜ï¼Œå±äºæˆç†Ÿç¨³å®šçš„æ¡†æ¶ã€‚åœ¨è¯¾ç¨‹ä¸­è®²è§£æ­¤æ¡†æ¶ï¼Œåé¢çš„é¡¹ç›®çš„å‰ç«¯é¡µé¢ä¹Ÿæ˜¯åŸºäºVueå®ç°</p>
<p>Reactç›¸æ¯”Vue.jsæ›´æ–°ä¸€äº›ï¼Œè¿‘å‡ å¹´æœ‰è¿½èµ¶Vue.jsçš„æ¶åŠ¿ã€‚æ›´é€‚åˆåšç§»åŠ¨é¡¹ç›®ã€‚</p>
<p>AngularJSç›¸æ¯”Vueæ›´åŠ å¤§é‡ä¸€äº›ã€‚åªæœ‰åœ¨ä¸€äº›å¤§å‹é¡¹ç›®ä¸­æ‰å¯èƒ½è¢«ä½¿ç”¨ã€‚</p>
<p>Vueæ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„JavaScriptæ¡†æ¶ä¸å…¶å®ƒå¤§å‹æ¡†æ¶ä¸åŒçš„æ˜¯ï¼ŒVue è¢«è®¾è®¡ä¸ºå¯ä»¥è‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨ã€‚Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚å¦ä¸€æ–¹é¢ï¼Œä¸ç°ä»£åŒ–çš„å·¥å…·ä»¥åŠå„ç§æ”¯æŒç±»åº“ç»“åˆä½¿ç”¨æ—¶ï¼ŒVue ä¹Ÿå®Œå…¨èƒ½å¤Ÿä¸ºå¤æ‚çš„å•é¡µåº”ç”¨æä¾›é©±åŠ¨ã€‚</p>
<p>å‰åç«¯åˆ†ç¦»æœ‰ä»€ä¹ˆå¥½å¤„</p>
<p>1å‰åç«¯æ˜ç¡®çš„å·¥ä½œèŒè´£</p>
<p>é€šè¿‡å°†å¼€å‘å›¢é˜Ÿå‰åç«¯åˆ†ç¦»åŒ–ï¼Œè®©å‰åç«¯å·¥ç¨‹å¸ˆåªéœ€è¦ä¸“æ³¨äºå‰ç«¯æˆ–åç«¯çš„å¼€å‘å·¥ä½œï¼Œä½¿å¾—å‰åç«¯å·¥ç¨‹å¸ˆå®ç°è‡ªæ²»ï¼ŒåŸ¹å…»å…¶ç‹¬ç‰¹çš„æŠ€æœ¯ç‰¹æ€§ï¼Œç„¶åæ„å»ºå‡ºä¸€ä¸ªå…¨æ ˆå¼çš„ç²¾ç›Šå¼€å‘å›¢é˜Ÿã€‚</p>
<p>2æå‡å¼€å‘æ•ˆç‡</p>
<p>å‰åç«¯åˆ†ç¦»ä»¥åï¼Œå¯ä»¥å®ç°å‰åç«¯ä»£ç çš„è§£è€¦ï¼Œåªè¦å‰åç«¯æ²Ÿé€šçº¦å®šå¥½åº”ç”¨æ‰€éœ€æ¥å£ä»¥åŠæ¥å£å‚æ•°ï¼Œä¾¿å¯ä»¥å¼€å§‹å¹¶è¡Œå¼€å‘ï¼Œæ— éœ€ç­‰å¾…å¯¹æ–¹çš„å¼€å‘å·¥ä½œç»“æŸã€‚ä¸æ­¤åŒæ—¶ï¼Œå³ä½¿éœ€æ±‚å‘ç”Ÿå˜æ›´ï¼Œåªè¦æ¥å£ä¸æ•°æ®æ ¼å¼ä¸å˜ï¼Œåç«¯å¼€å‘äººå‘˜å°±ä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œåªè¦å‰ç«¯è¿›è¡Œå˜åŠ¨å³å¯ã€‚å¦‚æ­¤ä¸€æ¥æ•´ä¸ªåº”ç”¨çš„å¼€å‘æ•ˆç‡å¿…ç„¶ä¼šæœ‰è´¨çš„æå‡ã€‚</p>
<p>3å®Œç¾åº”å¯¹å¤æ‚å¤šå˜çš„å‰ç«¯éœ€æ±‚</p>
<p>å¦‚æœå¼€å‘å›¢é˜Ÿèƒ½å®Œæˆå‰åç«¯åˆ†ç¦»çš„è½¬å‹ï¼Œæ‰“é€ ä¼˜ç§€çš„å‰åç«¯å›¢é˜Ÿï¼Œå¼€å‘ç‹¬ç«‹åŒ–ï¼Œè®©å¼€å‘äººå‘˜åšåˆ°ä¸“æ³¨ä¸“ç²¾ï¼Œå¼€å‘èƒ½åŠ›å¿…ç„¶ä¼šæœ‰æ‰€æå‡ï¼Œèƒ½å¤Ÿå®Œç¾åº”å¯¹å„ç§å¤æ‚å¤šå˜çš„å‰ç«¯éœ€æ±‚ã€‚</p>
<p>4å¢å¼ºä»£ç å¯ç»´æŠ¤æ€§</p>
<p>å‰åç«¯åˆ†ç¦»åï¼Œåº”ç”¨çš„ä»£ç ä¸å†æ˜¯å‰åç«¯æ··åˆï¼Œåªæœ‰åœ¨è¿è¡ŒæœŸæ‰ä¼šæœ‰è°ƒç”¨ä¾èµ–å…³ç³»ã€‚</p>
<h4 id="JSPçš„å˜é‡å’Œæ³¨é‡Šé—®é¢˜"><a href="#JSPçš„å˜é‡å’Œæ³¨é‡Šé—®é¢˜" class="headerlink" title="JSPçš„å˜é‡å’Œæ³¨é‡Šé—®é¢˜"></a>JSPçš„å˜é‡å’Œæ³¨é‡Šé—®é¢˜</h4><p>åœ¨JSPä¸Šå¯ä»¥é€šè¿‡&lt;%%&gt; å’Œ&lt;%!%&gt;ä¸¤ç§æ–¹å¼ä¹¦å†™ä»£ç ,é‚£ä¹ˆä¸¤ç§æ–¹å¼ä¸­ä¹¦å†™çš„javaä»£ç åœ¨è½¬è¯‘ä¹‹åç”Ÿæˆçš„javaæ–‡ä»¶ä¸­çš„ä½ç½®æ˜¯ä¸ä¸€æ ·,ä¸€ä¸ªåœ¨_JSPServiceæ–¹æ³•ä¸­,ä¸€ä¸ªä½œä¸ºç±»çš„æˆå‘˜,ä»¥å®šä¹‰å˜é‡ä¸¾ä¾‹</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">  &lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">      &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  </span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">      &lt;%--å±€éƒ¨å˜é‡--%&gt;</span><br><span class="line">      &lt;%</span><br><span class="line">      <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">      %&gt;</span><br><span class="line">      &lt;%--æˆå‘˜å˜é‡--%&gt;</span><br><span class="line">      &lt;%!</span><br><span class="line">      <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">      %&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">  &lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºJSPæœ¬è´¨å°±æ˜¯Servlet,åœ¨servletä¸­æˆ‘ä»¬æ˜¯ä¸æ¨èå®šä¹‰ä¸€äº›æˆå‘˜å˜é‡çš„,æ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸æ¨èåœ¨JSPä¸­å®šä¹‰å±€éƒ¨å˜é‡ï¼Œå®¹æ˜“å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜</p>
<p>JSPå…è®¸åœ¨HTMLç¼–ç ä¸­åµŒå…¥javaä»£ç ,é‚£ä¹ˆåœ¨JSPä¸Šé™¤äº†HTMLä¸­å¯ä»¥ç®€å•çš„æ³¨é‡Šä»¥å¤–,è¿˜æœ‰è‡ªå·±çš„æ³¨é‡Šæ–¹å¼,åœ¨JSPä¸­çš„æ³¨é‡Šæ ¼å¼ä¸º&lt;%â€”   â€”%&gt;,ä¸åŒçš„æ³¨é‡Šæ–¹å¼ä¹‹é—´æ—¶æœ‰å·®å¼‚çš„,æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯¹æ¯”ä¸€ä¸‹è¿™äº›å·®å¼‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207113813275.png" alt="image-20240207113813275"></p>
<h4 id="JSPä½¿ç”¨å»ºè®®"><a href="#JSPä½¿ç”¨å»ºè®®" class="headerlink" title="JSPä½¿ç”¨å»ºè®®"></a>JSPä½¿ç”¨å»ºè®®</h4><p>JSPçš„ä½¿ç”¨å»ºè®®</p>
<p>JSPå’ŒServletæœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„,JSPé¡µé¢åŠŸèƒ½å’ŒServletåå°åŠŸèƒ½æ˜¯å®Œå…¨èƒ½å¤Ÿäº’æ¢çš„,ä½†æ˜¯JSPçš„ç¼–ç é£æ ¼æ˜¯åœ¨HTMLä¸­åµŒå…¥å°‘é‡JAVAä»£ç ,å®ƒç”¨äºæ˜¾ç¤ºæ•°æ®æ¯”è¾ƒæ–¹ä¾¿,å¦‚æœServletä¸ŠåµŒå…¥HTMLå­—ç¬¦ä¸²å¤„ç†å°±æ¯”è¾ƒéº»çƒ¦</p>
<p>Servletæ›´é€‚åˆä¸“é—¨ç¼–å†™JAVAä»£ç ,JSPæ›´æ“…é•¿å±•ç¤ºæ•°æ®,Servletæ›´é€‚åˆåšåå°ç¨‹åº,æ‰€ä»¥åœ¨åˆ†å±‚ä¸Š,æˆ‘ä»¬å¾€å¾€å°†Servletä½œä¸ºæ§åˆ¶å±‚Controllerä½¿ç”¨,JSPä½œä¸ºè§†å›¾å±‚viewä½¿ç”¨,å¯ä»¥è®©Servletå°†æ•°æ®å‘é€ç»™JSP,ç„¶ååœ¨JSPä¸Šå±•ç¤ºæ•°æ®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207113908125.png" alt="image-20240207113908125"></p>
<h4 id="JSPæŒ‡ä»¤æ ‡ç­¾"><a href="#JSPæŒ‡ä»¤æ ‡ç­¾" class="headerlink" title="JSPæŒ‡ä»¤æ ‡ç­¾"></a>JSPæŒ‡ä»¤æ ‡ç­¾</h4><h5 id="pageæŒ‡ä»¤æ ‡ç­¾"><a href="#pageæŒ‡ä»¤æ ‡ç­¾" class="headerlink" title="pageæŒ‡ä»¤æ ‡ç­¾"></a>pageæŒ‡ä»¤æ ‡ç­¾</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207121441017.png" alt="image-20240207121441017"></p>
<p>jspæ ‡ç­¾è¯­æ³•</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ directive   attribute=<span class="string">&quot;value&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207121520067.png" alt="image-20240207121520067"></p>
<p><strong>JSPæŒ‡ä»¤çš„ä½¿ç”¨</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--å‘ŠçŸ¥æµè§ˆå™¨ä»¥ä»€ä¹ˆæ ¼å¼å’Œç¼–ç è§£æ å“åº”çš„æ•°æ®--%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span>  %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--è®¾ç½®JSPé¡µé¢è½¬æ¢çš„è¯­è¨€--%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%@ page language=<span class="string">&quot;java&quot;</span>%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--å¯¼åŒ…--%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;com.msb.entity.User&quot;</span> %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--åœ¨è½¬æ¢æˆjavaä»£ç æ—¶ä½¿ç”¨çš„ç¼–ç  ä¸€èˆ¬ä¸ç”¨è®¾ç½®--%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%@ page pageEncoding=<span class="string">&quot;UTF-8&quot;</span> %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--æŒ‡å®šé”™è¯¯é¡µ å½“é¡µé¢å‘ç”Ÿé”™è¯¯æ—¶ æŒ‡å®šè·³è½¬çš„é¡µé¢--%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%@ page errorPage=<span class="string">&quot;error500.JSP&quot;</span> %&gt;</span><br><span class="line">&lt;%--æŒ‡å®šå½“å‰é¡µä¸ºå¼‚å¸¸æç¤ºé¡µ å½“å‰é¡µé¢å¯ä»¥æ¥æ”¶å¼‚å¸¸å¯¹è±¡ --%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%<span class="meta">@page</span> isErrorPage=<span class="string">&quot;true&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<p>errorPageæ˜¯ä¸€ç§å¤„ç†é”™è¯¯æç¤ºé¡µçš„åŠŸèƒ½é™¤äº†JSPæœ‰çš„é”™è¯¯æç¤ºé¡µåŠŸèƒ½  javaEEä¸­è‡ªå¸¦å…¶ä»–é”™è¯¯æç¤ºé¡µå¤„ç†åŠŸèƒ½,å…·ä½“é…ç½®å¦‚ä¸‹</p>
<p>åœ¨web.xml é…ç½®å„ç§é”™è¯¯çš„æç¤ºé¡µ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>500<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">location</span>&gt;</span>/error500.JSP<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>404<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">location</span>&gt;</span>/error404.JSP<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="includeæŒ‡ä»¤æ ‡ç­¾"><a href="#includeæŒ‡ä»¤æ ‡ç­¾" class="headerlink" title="includeæŒ‡ä»¤æ ‡ç­¾"></a>includeæŒ‡ä»¤æ ‡ç­¾</h5><p>includeå°±æ˜¯åŒ…å«çš„æ„æ€ï¼Œé‚£æœ‰ä»€ä¹ˆç”¨å‘¢</p>
<p>å°±æ¯”å¦‚æœ‰å¾ˆå¤šé¡µé¢ä½†æ˜¯æ¯ä¸ªé¡µé¢éƒ½æƒ³ä»–çš„ä¸Šé¢æœ‰æŸäº›ä¸œè¥¿ï¼Œå°±æŠŠè¿™ç§ä¸œè¥¿æ”¾åˆ°ä¸€ä¸ªä½ç½®ï¼Œç„¶åç”¨includeæ ‡ç­¾å¼•å…¥ã€‚</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--é™æ€å¼•å…¥ä½¿ç”¨çš„æ˜¯ include æŒ‡ä»¤æ ‡ç­¾</span><br><span class="line"></span><br><span class="line"> è¢«å¼•å…¥çš„JSPé¡µé¢ä¸ä¼šç”Ÿæˆjavaä»£ç  è¢«å¼•å…¥çš„ç½‘é¡µå’Œå½“å‰é¡µç”Ÿæˆä»£ç åå½¢æˆäº†ä¸€ä¸ªjavaæ–‡ä»¶--%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%<span class="meta">@include</span> file=<span class="string">&quot;head.JSP&quot;</span>%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--åŠ¨æ€å¼•å…¥ JSPæ ‡ç­¾ä¸­çš„ includeé€‰é¡¹</span><br><span class="line"></span><br><span class="line"> è¢«å¼•å…¥çš„JSPé¡µé¢ä¼šç”Ÿæˆç‹¬ç«‹çš„javaä»£ç  </span><br><span class="line"></span><br><span class="line"> åœ¨ç”Ÿæˆçš„javaä»£ç ä¸­ ä½¿ç”¨JSPRuntimeLibrary.include(request, response, <span class="string">&quot;head.JSP&quot;</span>, out, <span class="literal">false</span>);å¼•å…¥å…¶ä»–é¡µé¢</span><br><span class="line">--%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;jsp:include page=<span class="string">&quot;head.JSP&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207141536228.png" alt="image-20240207141536228"></p>
<h5 id="taglibæ ‡ç­¾"><a href="#taglibæ ‡ç­¾" class="headerlink" title="taglibæ ‡ç­¾"></a>taglibæ ‡ç­¾</h5><p>taglibæŒ‡ä»¤æ ‡ç­¾</p>
<p>JSP APIå…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ ‡ç­¾ï¼Œä¸€ä¸ªè‡ªå®šä¹‰æ ‡ç­¾åº“å°±æ˜¯è‡ªå®šä¹‰æ ‡ç­¾çš„é›†åˆã€‚TaglibæŒ‡ä»¤å¼•å…¥ä¸€ä¸ªè‡ªå®šä¹‰æ ‡ç­¾é›†åˆçš„å®šä¹‰ï¼ŒåŒ…æ‹¬åº“è·¯å¾„ã€è‡ªå®šä¹‰æ ‡ç­¾ã€‚</p>
<p>TaglibæŒ‡ä»¤çš„è¯­æ³•ï¼š</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib   uri=<span class="string">&quot;uri&quot;</span> prefix=<span class="string">&quot;prefixOfTag&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<h4 id="JSPå†…ç½®å¯¹è±¡"><a href="#JSPå†…ç½®å¯¹è±¡" class="headerlink" title="JSPå†…ç½®å¯¹è±¡"></a>JSPå†…ç½®å¯¹è±¡</h4><p>ä»€ä¹ˆæ˜¯å†…ç½®å¯¹è±¡</p>
<p>å› ä¸ºJSPçš„æœ¬è´¨æ˜¯Servlet,åœ¨JSPæ–‡ä»¶ç»è¿‡è½¬è¯‘ä¹‹å,ç”ŸæˆJAVAä»£ç ,åœ¨è¿è¡Œæ—¶,JSPç»™æˆ‘ä»¬å‡†å¤‡å¥½äº†ä¹ä¸ªå¯ä»¥ç›´æ¥ä½¿ç”¨è€Œä¸ç”¨æˆ‘ä»¬è‡ªå·±å»newçš„å¯¹è±¡,è¿™ä¹ä¸ªå¯¹è±¡æˆ‘ä»¬ç§°ä¹‹ä¸ºå†…ç½®å¯¹è±¡.å†…ç½®å¯¹è±¡å®Œå…¨æœ‰JSPè‡ªè¡Œå»ç»´æŠ¤,æˆ‘ä»¬ç›´æ¥ä½¿ç”¨å³å¯</p>
<h5 id="ä¹å¤§å†…ç½®å¯¹è±¡"><a href="#ä¹å¤§å†…ç½®å¯¹è±¡" class="headerlink" title="ä¹å¤§å†…ç½®å¯¹è±¡"></a>ä¹å¤§å†…ç½®å¯¹è±¡</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240207144715388.png" alt="image-20240207144715388"></p>
<p><strong>å››å¤§åŸŸå¯¹è±¡</strong></p>
<p>pageContext  pageåŸŸ     å½“å‰é¡µé¢å†…å¯ç”¨</p>
<p>request       reqeuståŸŸ  å•æ¬¡è¯·æ±‚</p>
<p>session       sessionåŸŸ   å•æ¬¡ä¼šè¯</p>
<p>application   application åŸŸé¡¹ç›®è¿è¡Œ</p>
<p><strong>å“åº”å¯¹è±¡</strong></p>
<p>response   å“åº”å¯¹è±¡</p>
<p><strong>è¾“å‡ºæµå¯¹è±¡</strong></p>
<p>out        æ‰“å°æµå¯¹è±¡</p>
<p><strong>å…¶ä»–ä¸‰ä¸ªå¯¹è±¡</strong></p>
<p>servletConfig:ç”±äºJSPæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªServlet,æ‰€ä»¥å®¹å™¨ä¹Ÿä¼šç»™æˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªServletConfig</p>
<p>page        å°±æ˜¯ä»–thiså¯¹è±¡ å½“å‰JSPå¯¹è±¡æœ¬èº«  </p>
<p>exception   å¼‚å¸¸å¯¹è±¡,åœ¨é”™è¯¯æç¤ºé¡µä¸Šä½¿ç”¨,å½“isErrorpage=true æ‰å…·æœ‰è¯¥å¯¹è±¡</p>
<h5 id="ä¹å¤§å†…ç½®å¯¹è±¡çš„ä½¿ç”¨"><a href="#ä¹å¤§å†…ç½®å¯¹è±¡çš„ä½¿ç”¨" class="headerlink" title="ä¹å¤§å†…ç½®å¯¹è±¡çš„ä½¿ç”¨"></a>ä¹å¤§å†…ç½®å¯¹è±¡çš„ä½¿ç”¨</h5><p>Servletä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.servlet;</span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.User;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: MircoMessage:Mark_7001</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å‘ä¸‰ä¸ªåŸŸä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line">        <span class="comment">/*å‘è¯·æ±‚åŸŸä¸­æ”¾å…¥æ•°æ®*/</span></span><br><span class="line">        User user=<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="string">&quot;æé›·&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">        req.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;requestMessage&quot;</span>);</span><br><span class="line">        <span class="comment">/*å‘sessionåŸŸä¸­æ”¾å…¥æ•°æ®*/</span></span><br><span class="line">        List&lt;User&gt; users =<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        User user1=<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="string">&quot;éŸ©æ¢…æ¢…&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        User user2=<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="string">&quot;å°æ˜&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        User user3=<span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="string">&quot;å°çº¢&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        Collections.addAll(users,user1,user2,user3);</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span>   req.getSession();</span><br><span class="line">        session.setAttribute(<span class="string">&quot;users&quot;</span>,users);</span><br><span class="line">        session.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;sessionMessage&quot;</span>);</span><br><span class="line">        <span class="comment">/*å‘applicationåŸŸä¸­æ”¾å…¥æ•°æ®*/</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> getServletContext();</span><br><span class="line">        Map&lt;String,User&gt; map =<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;a&quot;</span>,user1);</span><br><span class="line">        map.put(<span class="string">&quot;b&quot;</span>,user2);</span><br><span class="line">        map.put(<span class="string">&quot;c&quot;</span>,user3);</span><br><span class="line">        application.setAttribute(<span class="string">&quot;userMap&quot;</span>,map);</span><br><span class="line">        application.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;applicationMessage&quot;</span>);</span><br><span class="line">        <span class="comment">// è·³è½¬è‡³jsp</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;showInfo.jsp&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JSPä»£ç </p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;com.bitzh.pojo.User&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.List&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.Map&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%--å‘pageContextåŸŸä¸­æ”¾æ•°æ®--%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;pageContextMessage&quot;</span>);</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;user&quot;</span>, <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="string">&quot;å¤§é»„&quot;</span>,<span class="string">&quot;abcdefg&quot;</span>));</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;%--ä»åŸŸä¸­å–å‡ºæ•°æ®--%&gt;</span><br><span class="line">    pageContext:&lt;br/&gt;</span><br><span class="line">    msg:&lt;%=pageContext.getAttribute(<span class="string">&quot;msg&quot;</span>)%&gt;&lt;br/&gt;</span><br><span class="line">    username:&lt;%=((User)pageContext.getAttribute(<span class="string">&quot;user&quot;</span>)).getName()%&gt;&lt;br/&gt;</span><br><span class="line">    requeståŸŸä¸­çš„æ•°æ®:&lt;br/&gt;</span><br><span class="line">    msg:&lt;%=request.getAttribute(<span class="string">&quot;msg&quot;</span>)%&gt;&lt;br/&gt;</span><br><span class="line">    username:&lt;%=((User)request.getAttribute(<span class="string">&quot;user&quot;</span>)).getName()%&gt;&lt;br/&gt;</span><br><span class="line">    sessionåŸŸä¸­çš„æ•°æ®:&lt;br/&gt;</span><br><span class="line">    msg:&lt;%=session.getAttribute(<span class="string">&quot;msg&quot;</span>)%&gt;&lt;br/&gt;</span><br><span class="line">    username:&lt;%=((List&lt;User&gt;)session.getAttribute(<span class="string">&quot;users&quot;</span>)).get(<span class="number">0</span>).getName()%&gt;&lt;br/&gt;</span><br><span class="line">    applicationåŸŸä¸­çš„æ•°æ®:&lt;br/&gt;</span><br><span class="line">    msg:&lt;%=application.getAttribute(<span class="string">&quot;msg&quot;</span>)%&gt;&lt;br/&gt;</span><br><span class="line">    username:&lt;%=((Map&lt;String,User&gt;)application.getAttribute(<span class="string">&quot;userMap&quot;</span>)).get(<span class="string">&quot;a&quot;</span>).getName()%&gt;&lt;br/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><strong>æ¡ˆä¾‹</strong></p>
<p><strong>JSP</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">2</span>/<span class="number">7</span></span><br><span class="line">  Time: <span class="number">15</span>:<span class="number">45</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.List&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;com.bitzh.pojo.Emp&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        table&#123;</span><br><span class="line">            border: 3px solid blue;</span><br><span class="line">            width: <span class="number">80</span>%;</span><br><span class="line">            margin: 0px auto;</span><br><span class="line">        &#125;</span><br><span class="line">        td,th&#123;</span><br><span class="line">            border: 2px solid green;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;table cellspacing=<span class="string">&quot;0px&quot;</span> cellpadding=<span class="string">&quot;0px&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th&gt;ç¼–å·&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;å§“å&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;ä¸Šçº§ç¼–å·&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;èŒåŠ¡&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;å…¥èŒæ—¥æœŸ&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;è–ªèµ„&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;è¡¥åŠ©&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;éƒ¨é—¨å·&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;è–ªèµ„ç­‰çº§&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        List&lt;Emp&gt; emps = (List&lt;Emp&gt;) request.getAttribute(<span class="string">&quot;emps&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Emp emp : emps) &#123;</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getEmpno()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getEname()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getMgr()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getJob()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getHiredate()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getSal()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getComm()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=emp.getDeptno()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&lt;%--out.print(<span class="string">&quot;&lt;td&gt;&quot;</span>)--%&gt;</span><br><span class="line">            &lt;%</span><br><span class="line">                <span class="type">Double</span> <span class="variable">sal</span> <span class="operator">=</span> emp.getSal();</span><br><span class="line">                <span class="keyword">if</span>(sal&lt;=<span class="number">500</span>)&#123;</span><br><span class="line">                    out.print(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>( sal &lt;=<span class="number">1000</span>)&#123;</span><br><span class="line">                    out.print(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>( sal &lt;=<span class="number">1500</span>)&#123;</span><br><span class="line">                    out.print(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>( sal &lt;=<span class="number">2000</span>)&#123;</span><br><span class="line">                    out.print(<span class="string">&quot;D&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>( sal &lt;=<span class="number">3000</span>)&#123;</span><br><span class="line">                    out.print(<span class="string">&quot;E&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>( sal &lt;=<span class="number">4000</span>)&#123;</span><br><span class="line">                    out.print(<span class="string">&quot;F&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    out.print(<span class="string">&quot;G&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            %&gt;</span><br><span class="line">        &lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        &#125;</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>implå±‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.dao.EmpDao;</span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/7 - 02 - 07 - 15:49</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.dao.impl</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">EmpDao</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String url=<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/mytestdb?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asiz/Shanghai&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> String username=<span class="string">&quot;root&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> String password=<span class="string">&quot;root&quot;</span>;</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">    PreparedStatement preparedStatement=<span class="literal">null</span>;</span><br><span class="line">    ResultSet resultSet=<span class="literal">null</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Emp&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">            connection = DriverManager.getConnection(url, username, password);</span><br><span class="line">            preparedStatement = connection.prepareStatement(<span class="string">&quot;select * from emp&quot;</span>);</span><br><span class="line">            resultSet = preparedStatement.executeQuery();</span><br><span class="line">            <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line">                Integer empno=resultSet.getInt(<span class="string">&quot;empno&quot;</span>);</span><br><span class="line">                Integer deptno=resultSet.getInt(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line">                Integer mgr=resultSet.getInt(<span class="string">&quot;mgr&quot;</span>);</span><br><span class="line">                String ename=resultSet.getString(<span class="string">&quot;ename&quot;</span>);</span><br><span class="line">                String job=resultSet.getString(<span class="string">&quot;job&quot;</span>);</span><br><span class="line">                Double sal=resultSet.getDouble(<span class="string">&quot;sal&quot;</span>);</span><br><span class="line">                Double comm=resultSet.getDouble(<span class="string">&quot;comm&quot;</span>);</span><br><span class="line">                Date hiredate=resultSet.getDate(<span class="string">&quot;hiredate&quot;</span>);</span><br><span class="line">                <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Emp</span>( empno,  ename,  job,  mgr,  hiredate,  sal,  comm,  deptno);</span><br><span class="line">                list.add(emp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException | SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="literal">null</span>!=resultSet)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    resultSet.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(<span class="literal">null</span>!=preparedStatement)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    preparedStatement.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(<span class="literal">null</span>!=connection)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    connection.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Daoå±‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpDao</span> &#123;</span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Servlet</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/servlet1.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Servlet1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">EmpDao</span> <span class="variable">empDao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">EmpDaoImpl</span>();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å–æ•°æ®</span></span><br><span class="line">        List&lt;Emp&gt; list = empDao.findAll();</span><br><span class="line">        <span class="comment">//å°†æ•°æ®æ”¾åˆ°è¯·æ±‚åŸŸ</span></span><br><span class="line">        req.setAttribute(<span class="string">&quot;emps&quot;</span>,list);</span><br><span class="line">        <span class="comment">//è¯·æ±‚è½¬å‘è‡³jsp</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;showEmp.jsp&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ELè¡¨è¾¾å¼-1"><a href="#ELè¡¨è¾¾å¼-1" class="headerlink" title="ELè¡¨è¾¾å¼"></a>ELè¡¨è¾¾å¼</h4><p>Expression Language</p>
<p>ELè¡¨è¾¾å¼ä¸­å®šä¹‰äº†ä¸€äº›å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«æ·ä»åŸŸå¯¹è±¡ä¸­å–å‡ºæ•°æ®çš„å†™æ³•,åŸºæœ¬è¯­æ³•ä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;åŸŸæ ‡å¿—.æ•°æ®å.å±æ€§å(å¯é€‰)&#125;</span><br></pre></td></tr></table></figure>
<p>å››ä¸ªåŸŸæ ‡å¿—å…³é”®å­—åˆ†åˆ«ä¸º</p>
<p>requestScope         requeståŸŸ</p>
<p>sessionScope          sessionåŸŸ</p>
<p>applicationScope   applicationåŸŸ</p>
<p>pageScope             pageåŸŸ</p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è·å¾—æµè§ˆå™¨ä¸­çš„å‚æ•°</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;com.bitzh.pojo.User&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%--å‘pageContextåŸŸä¸­æ”¾æ•°æ®--%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;pageContextMessage&quot;</span>);</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;userx&quot;</span>, <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="string">&quot;å¤§é»„&quot;</span>,<span class="string">&quot;abcdefg&quot;</span>));</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">    ä»åŸŸä¸­å–å‡ºæ•°æ®</span><br><span class="line">    Elè¡¨è¾¾å¼åœ¨è·å–å¯¹è±¡å±æ€§å€¼å¾—æ—¶å€™,æ˜¯é€šè¿‡å¯¹è±¡çš„å±æ€§çš„getæ–¹æ³•è·å–çš„</span><br><span class="line">    ä¿è¯å¯¹è±¡çš„è¦è·å–çš„å±æ€§å¿…é¡»æœ‰å¯¹åº”getæ–¹æ³•æ‰å¯ä»¥</span><br><span class="line">    ELè¡¨è¾¾å¼åœ¨ä½¿ç”¨æ—¶æ˜¯ä¸éœ€è¦<span class="keyword">import</span>å…¶ä»–ç±»çš„</span><br><span class="line">    Elå¦‚æœè·å–çš„æ˜¯NULLå€¼,æ˜¯ä¸å±•ç¤ºä»»ä½•ä¿¡æ¯çš„</span><br><span class="line">    --%&gt;</span><br><span class="line">    pageContextåŸŸä¸­çš„æ•°æ®:&lt;br/&gt;</span><br><span class="line">    msg:$&#123;pageScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    username:$&#123;pageScope.userx.name&#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    requeståŸŸä¸­çš„æ•°æ®:&lt;br/&gt;</span><br><span class="line">    msg:$&#123;requestScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    username:$&#123;requestScope.user.name&#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    sessionåŸŸä¸­çš„æ•°æ®:&lt;br/&gt;</span><br><span class="line">    msg:$&#123;sessionScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    username:$&#123;sessionScope.users[<span class="number">1</span>].name&#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    applicationåŸŸä¸­çš„æ•°æ®:&lt;br/&gt;</span><br><span class="line">    msg:$&#123;applicationScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    username:$&#123;applicationScope.userMap.a.name&#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    &lt;%--ELè¡¨è¾¾å¼åœ¨å–å‡ºæ•°æ®çš„æ—¶å€™æ˜¯å¯ä»¥çœç•¥åŸŸæ ‡å¿—çš„</span><br><span class="line">    ELè¡¨è¾¾å¼ä¼šè‡ªåŠ¨ä¾æ¬¡åˆ°å››ä¸ªåŸŸä¸­å»æ‰¾æ•°æ®</span><br><span class="line">    --%&gt;</span><br><span class="line">    PageContext username:$&#123;userx.name&#125;&lt;br/&gt;</span><br><span class="line">    Request username:$&#123;user.name&#125;&lt;br/&gt;</span><br><span class="line">    Session username:$&#123;users[<span class="number">1</span>].name&#125;&lt;br/&gt;</span><br><span class="line">    Application username:$&#123;userMap.a.name&#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">    $&#123;æ•°æ®çš„åå­—&#125;å¦‚æœçœç•¥åŸŸæ ‡å¿—,å–æ•°æ®çš„é¡ºåºå¦‚ä¸‹</span><br><span class="line">    pageContext</span><br><span class="line">    request</span><br><span class="line">    session</span><br><span class="line">    application</span><br><span class="line">    --%&gt;</span><br><span class="line">    $&#123;msg&#125;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">    ç§»é™¤åŸŸä¸­çš„æ•°æ®</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">         <span class="comment">//pageContext.removeAttribute(&quot;msg&quot;);// pageContext.removeAttribute()æ–¹æ³•ä¼šç§»é™¤å››ä¸ªåŸŸä¸­çš„æ‰€æœ‰çš„åŒåçš„æ•°æ®</span></span><br><span class="line">        <span class="comment">//request.removeAttribute(&quot;msg&quot;);</span></span><br><span class="line">    %&gt;</span><br><span class="line">    pagecontextMsg:$&#123;pageScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    requestMsg:$&#123;requestScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    sessionMsg:$&#123;sessionScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    applicationMsg:$&#123;applicationScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">    ELè¡¨è¾¾å¼è·å–è¯·æ±‚ä¸­çš„å‚æ•°</span><br><span class="line">    --%&gt;</span><br><span class="line">    username:$&#123;param.username&#125;&lt;br/&gt;</span><br><span class="line">    hobby:$&#123;paramValues.hobby[<span class="number">0</span>]&#125;</span><br><span class="line">    hobby:$&#123;paramValues.hobby[<span class="number">1</span>]&#125;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">ELè¡¨è¾¾å¼å¯¹è¿ç®—ç¬¦çš„æ”¯æŒ</span><br><span class="line"></span><br><span class="line">åœ¨ELè¡¨è¾¾å¼ä¸­, æ”¯æŒè¿ç®—ç¬¦çš„ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">ç®—æ•°è¿ç®—ç¬¦: + - * / %</span><br><span class="line"></span><br><span class="line">æ¯”è¾ƒè¿ç®—ç¬¦: </span><br><span class="line"></span><br><span class="line">==  eq equals</span><br><span class="line"></span><br><span class="line"><span class="quote">&gt;     gt greater then</span></span><br><span class="line"></span><br><span class="line">&lt;     lt   lower then</span><br><span class="line"></span><br><span class="line">&gt;=  ge  greater then or equals</span><br><span class="line"></span><br><span class="line">&lt;=  le   lower then or equals</span><br><span class="line"></span><br><span class="line">!=   ne   not equals</span><br><span class="line"></span><br><span class="line">é€»è¾‘è¿ç®—ç¬¦: || or    &amp;&amp; and </span><br><span class="line"></span><br><span class="line">ä¸‰ç›®è¿ç®—ç¬¦: $&#123;æ¡ä»¶ ?è¡¨è¾¾å¼1 : è¡¨è¾¾å¼2&#125;</span><br><span class="line"></span><br><span class="line">åˆ¤ç©ºè¿ç®—ç¬¦: empty</span><br></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.List&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.ArrayList&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--</span><br><span class="line">+ä¸¤ç«¯å¦‚æœæœ‰å­—ç¬¦ä¸²,ä¼šå°è¯•å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ä¹‹åè¿›è¡ŒåŠ æ³•è¿ç®—</span><br><span class="line">/å¦‚æœé™¤ä»¥<span class="number">0</span> ç»“æœä¸ºInfinity è€Œä¸æ˜¯å‡ºç°å¼‚å¸¸</span><br><span class="line">%å¦‚æœå’Œ<span class="number">0</span>å–ä½™æ•°,é‚£ä¹ˆä¼šå‡ºç°å¼‚å¸¸</span><br><span class="line">--%&gt;</span><br><span class="line">    ç®—æ•°è¿ç®—ç¬¦ï¼š</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123;<span class="number">10</span> + <span class="number">10</span>&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;<span class="string">&quot;10&quot;</span> + <span class="number">10</span>&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;<span class="string">&quot;10&quot;</span> + <span class="string">&quot;10&quot;</span>&#125;&lt;br/&gt;</span><br><span class="line">    &lt;%--$&#123;<span class="string">&quot;10a&quot;</span> + <span class="number">10</span>&#125;&lt;br/&gt;--%&gt;</span><br><span class="line">    $&#123;<span class="number">10</span>/<span class="number">0</span>&#125;&lt;br/&gt;</span><br><span class="line">    &lt;%-- $&#123;<span class="number">10</span>%<span class="number">0</span>&#125;&lt;br/&gt;--%&gt;</span><br><span class="line">    å…³ç³»è¿ç®—ç¬¦/æ¯”è¾ƒè¿ç®—ç¬¦</span><br><span class="line">    &lt;%--</span><br><span class="line">    æ¯”è¾ƒè¿ç®—ç¬¦æ¨èå†™æˆå­—æ¯å½¢å¼,ä¸æ¨èä½¿ç”¨ == &gt;=  &lt;=</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123;<span class="number">10</span> == <span class="number">10</span>&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;<span class="number">10</span> eq <span class="number">10</span>&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;<span class="number">10</span> gt <span class="number">8</span>&#125;&lt;br/&gt;</span><br><span class="line">    é€»è¾‘è¿ç®—ç¬¦</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123; <span class="literal">true</span> || <span class="literal">false</span>&#125;&lt;br/&gt;</span><br><span class="line">    $&#123; <span class="literal">true</span> or <span class="literal">false</span>&#125;&lt;br/&gt;</span><br><span class="line">    $&#123; <span class="literal">true</span> &amp;&amp; <span class="literal">false</span>&#125;&lt;br/&gt;</span><br><span class="line">    $&#123; <span class="literal">true</span> and <span class="literal">false</span>&#125;&lt;br/&gt;</span><br><span class="line">    æ¡ä»¶è¿ç®—ç¬¦/ä¸‰ç›®è¿ç®—ç¬¦</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123;(<span class="number">100</span>-<span class="number">1</span>)%<span class="number">3</span>==<span class="number">0</span>?<span class="number">10</span>+<span class="number">1</span>:<span class="number">10</span>-<span class="number">1</span>&#125;&lt;br/&gt;</span><br><span class="line">    åˆ¤æ–­ç©ºè¿ç®—ç¬¦</span><br><span class="line">    &lt;%--empty ä¸º<span class="literal">null</span> åˆ™ä¸º<span class="literal">true</span>--%&gt;</span><br><span class="line">    &lt;%  <span class="comment">//å‘åŸŸä¸­æ”¾å…¥æ•°æ®</span></span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;a&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;b&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="type">int</span>[] arr =&#123;&#125;;</span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;arr&quot;</span>,arr);</span><br><span class="line">        <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;list&quot;</span>,list);</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123;empty a&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;empty b&#125;&lt;br/&gt;&lt;%--å­—ç¬¦ä¸²é•¿åº¦ä¸º<span class="number">0</span> åˆ™è®¤ä¸ºæ˜¯ç©º--%&gt;</span><br><span class="line">    $&#123;empty arr&#125;&lt;br/&gt;&lt;%--æ•°ç»„é•¿åº¦ä¸º<span class="number">0</span> è®¤ä¸ºä¸æ˜¯ç©º--%&gt;</span><br><span class="line">    $&#123;empty list&#125;&lt;br/&gt;&lt;%--é›†åˆé•¿åº¦ä¸º<span class="number">0</span> è®¤ä¸ºæ˜¯ç©º--%&gt;</span><br><span class="line">    $&#123;list.size() eq <span class="number">0</span>&#125;&lt;br/&gt;&lt;%--é›†åˆé•¿åº¦ä¸º<span class="number">0</span> è®¤ä¸ºæ˜¯ç©º--%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="JSTLæ ¸å¿ƒæ ‡ç­¾"><a href="#JSTLæ ¸å¿ƒæ ‡ç­¾" class="headerlink" title="JSTLæ ¸å¿ƒæ ‡ç­¾"></a>JSTLæ ¸å¿ƒæ ‡ç­¾</h4><p>è®¤è¯†JSTL</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ JSTL</p>
<p>é€šè¿‡ä¹‹å‰çš„æ¡ˆä¾‹æˆ‘ä»¬å‘ç°,å°±ç®—åœ¨JSPä¸­å¯ä»¥ä½¿ç”¨ELè¡¨è¾¾å¼å–å‡ºåŸŸå¯¹è±¡ä¸­çš„æ•°æ®,ä½†æ˜¯ä»ç„¶é¿å…ä¸äº†è¿˜æ˜¯è¦åœ¨é¡µé¢ä¸­ä¹¦å†™ä¸€äº›javaä»£ç .è¿™ç§åµŒå…¥JAVAä»£ç çš„å¤„ç†æ¯”è¾ƒç¹ç,å®¹æ˜“å‡ºé”™,ä¸”ä»£ç ä¸å®¹æ˜“ç»´æŠ¤.</p>
<p>ä»€ä¹ˆæ˜¯JSTL</p>
<p>JSTLï¼ˆJava server pages standarded tag libraryï¼Œå³JSPæ ‡å‡†æ ‡ç­¾åº“ï¼‰æ˜¯ç”±JCPï¼ˆJava community Procesï¼‰æ‰€åˆ¶å®šçš„æ ‡å‡†è§„èŒƒï¼Œå®ƒä¸»è¦æä¾›ç»™Java Webå¼€å‘äººå‘˜ä¸€ä¸ªæ ‡å‡†é€šç”¨çš„æ ‡ç­¾åº“ï¼Œå¹¶ç”±Apacheçš„Jakartaå°ç»„æ¥ç»´æŠ¤ã€‚</p>
<p>ä½¿ç”¨JSTLçš„å¥½å¤„:</p>
<p>å¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨JSTLå’ŒELæ¥å¼€å‘Webç¨‹åºï¼Œå–ä»£ä¼ ç»Ÿç›´æ¥åœ¨é¡µé¢ä¸ŠåµŒå…¥Javaç¨‹åºçš„åšæ³•ï¼Œä»¥æé«˜ç¨‹åºçš„é˜…è¯»æ€§ã€ç»´æŠ¤æ€§å’Œæ–¹ä¾¿æ€§ã€‚åœ¨jstlä¸­, æä¾›äº†å¤šå¥—æ ‡ç­¾åº“, ç”¨äºæ–¹ä¾¿åœ¨jspä¸­å®Œæˆæˆ–ç®€åŒ–ç›¸å…³æ“ä½œ.</p>
<p>JSTLæ ‡ç­¾åº“çš„ç»„æˆéƒ¨åˆ†</p>
<blockquote>
<p>æ ¸å¿ƒæ ‡ç­¾åº“: core, ç®€ç§°c</p>
<p>æ ¼å¼åŒ–æ ‡ç­¾åº“: format, ç®€ç§°fmt</p>
<p>å‡½æ•°æ ‡ç­¾åº“: function, ç®€ç§°fn</p>
</blockquote>
<p>JSTLçš„ä½¿ç”¨å‰æ</p>
<p>1ã€éœ€è¦åœ¨é¡¹ç›®ä¸­å¯¼å…¥jstl-1.2.jar ,jstlåœ¨åå°ç”±javaä»£ç ç¼–å†™, jspé¡µé¢ä¸­é€šè¿‡æ ‡ç­¾è¿›è¡Œä½¿ç”¨, ä½¿ç”¨æ ‡ç­¾æ—¶, ä¼šè‡ªåŠ¨è°ƒç”¨åå°çš„javaæ–¹æ³•,</p>
<p>2ã€æ ‡ç­¾å’Œæ–¹æ³•ä¹‹é—´çš„æ˜ å°„å…³ç³»åœ¨å¯¹åº”çš„tldæ–‡ä»¶ä¸­æè¿°. éœ€è¦åœ¨é¡µé¢ä¸­é€šè¿‡taglibæŒ‡ä»¤å¼•å…¥å¯¹åº”çš„æ ‡ç­¾åº“, uriå¯ä»¥åœ¨å¯¹åº”çš„tldæ–‡ä»¶ä¸­æ‰¾åˆ°</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<p>æ“ä½œåŸŸå¯¹è±¡çš„æ ‡ç­¾:</p>
<p><c:set>         å‘åŸŸå¯¹è±¡ä¸­æ”¾å…¥æ•°æ®  setAttribute</p>
<p><c:out>        ä»åŸŸå¯¹è±¡ä¸­å–å‡ºæ•°æ®  getAttribute</p>
<p><c:remove> ä»åŸŸå¯¹è±¡ä¸­ç§»é™¤æ•°æ®   removeAttribute</p>
<p>c:set/out/removeæ ‡ç­¾çš„ä½¿ç”¨</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%--åˆ†åˆ«å‘å››ä¸ªåŸŸä¸­æ”¾å…¥æ•°æ®--%&gt;</span><br><span class="line">    &lt;%--&lt;%</span><br><span class="line">    request.setAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;requestMessage&quot;</span>);</span><br><span class="line">    %&gt;--%&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">    c:set</span><br><span class="line">        scope æŒ‡å®šæ”¾æ•°æ®çš„åŸŸ å¯é€‰å€¼ page request session application</span><br><span class="line">        <span class="keyword">var</span>   æ•°æ®çš„åç§°</span><br><span class="line">        value æ•°æ®</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;c:set scope=<span class="string">&quot;page&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> value=<span class="string">&quot;pageMessage&quot;</span>&gt;&lt;/c:set&gt;</span><br><span class="line">    &lt;c:set scope=<span class="string">&quot;request&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> value=<span class="string">&quot;requestMessage&quot;</span>&gt;&lt;/c:set&gt;</span><br><span class="line">    &lt;c:set scope=<span class="string">&quot;session&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> value=<span class="string">&quot;sessionMessage&quot;</span>&gt;&lt;/c:set&gt;</span><br><span class="line">    &lt;c:set scope=<span class="string">&quot;application&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> value=<span class="string">&quot;applicationMessage&quot;</span>&gt;&lt;/c:set&gt;</span><br><span class="line">    &lt;%--ç§»é™¤æŒ‡å®šåŸŸä¸­çš„å€¼--%&gt;</span><br><span class="line">   &lt;%-- &lt;c:remove <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> scope=<span class="string">&quot;page&quot;</span>&gt;&lt;/c:remove&gt;</span><br><span class="line">    &lt;c:remove <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> scope=<span class="string">&quot;request&quot;</span>&gt;&lt;/c:remove&gt;--%&gt;</span><br><span class="line">    &lt;c:remove <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> scope=<span class="string">&quot;session&quot;</span>&gt;&lt;/c:remove&gt;</span><br><span class="line">    &lt;c:remove <span class="keyword">var</span>=<span class="string">&quot;msg&quot;</span> scope=<span class="string">&quot;application&quot;</span>&gt;&lt;/c:remove&gt;</span><br><span class="line">    &lt;%--é€šè¿‡ELè¡¨è¾¾å¼å–å‡ºåŸŸä¸­çš„å€¼--%&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    $&#123;pageScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;requestScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;sessionScope.msg&#125;&lt;br/&gt;</span><br><span class="line">    $&#123;applicationScope.msg &#125;&lt;br/&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    &lt;%--é€šè¿‡c:outæ ‡ç­¾è·å–åŸŸä¸­çš„å€¼--%&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;$&#123;pageScope.msg&#125;&quot;</span> <span class="keyword">default</span>=<span class="string">&quot;page msg not found&quot;</span>/&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;$&#123;requestScope.msg&#125;&quot;</span> <span class="keyword">default</span>=<span class="string">&quot;request msg not found&quot;</span>/&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;$&#123;sessionScope.msg&#125;&quot;</span> <span class="keyword">default</span>=<span class="string">&quot;session msg not found&quot;</span>/&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;$&#123;applicationScope.msg&#125;&quot;</span> <span class="keyword">default</span>=<span class="string">&quot;application msg not found&quot;</span>/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="MVCæ¨¡å¼å¼•å…¥"><a href="#MVCæ¨¡å¼å¼•å…¥" class="headerlink" title="MVCæ¨¡å¼å¼•å…¥"></a>MVCæ¨¡å¼å¼•å…¥</h3><p>MVCæ˜¯ä¸€ç§é¡¹ç›®æ¶æ„å‹æ¨¡å¼ï¼Œå®ƒæœ¬èº«å¹¶ä¸å¼•å…¥æ–°çš„åŠŸèƒ½ï¼Œåªæ˜¯ç”¨æ¥æŒ‡å¯¼æˆ‘ä»¬æ”¹å–„åº”ç”¨ç¨‹åºçš„æ¶æ„ï¼Œä½¿å¾—åº”ç”¨çš„æ¨¡å‹å’Œè§†å›¾ç›¸åˆ†ç¦»ï¼Œä»è€Œå¾—åˆ°æ›´å¥½çš„å¼€å‘å’Œç»´æŠ¤æ•ˆç‡ã€‚</p>
<p>åœ¨MVCæ¨¡å¼ä¸­ï¼Œåº”ç”¨ç¨‹åºè¢«åˆ’åˆ†æˆäº†æ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ä¸‰ä¸ªéƒ¨åˆ†ã€‚å…¶ä¸­ï¼Œæ¨¡å‹éƒ¨åˆ†åŒ…å«äº†åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘å’Œä¸šåŠ¡æ•°æ®ï¼›è§†å›¾éƒ¨åˆ†å°è£…äº†åº”ç”¨ç¨‹åºçš„è¾“å‡ºå½¢å¼ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„é¡µé¢æˆ–è€…æ˜¯ç•Œé¢ï¼›è€Œæ§åˆ¶å™¨éƒ¨åˆ†è´Ÿè´£åè°ƒæ¨¡å‹å’Œè§†å›¾ï¼Œæ ¹æ®ç”¨æˆ·è¯·æ±‚æ¥é€‰æ‹©è¦è°ƒç”¨å“ªä¸ªæ¨¡å‹æ¥å¤„ç†ä¸šåŠ¡ï¼Œä»¥åŠæœ€ç»ˆç”±å“ªä¸ªè§†å›¾ä¸ºç”¨æˆ·åšå‡ºåº”ç­”ã€‚</p>
<p>MVCæ¨¡å¼çš„è¿™ä¸‰ä¸ªéƒ¨åˆ†çš„èŒè´£éå¸¸æ˜ç¡®ï¼Œè€Œä¸”ç›¸äº’åˆ†ç¦»ï¼Œå› æ­¤æ¯ä¸ªéƒ¨åˆ†éƒ½å¯ä»¥ç‹¬ç«‹çš„æ”¹å˜è€Œä¸å½±å“å…¶ä»–éƒ¨åˆ†ï¼Œä»è€Œå¤§å¤§æé«˜äº†åº”ç”¨çš„çµæ´»æ€§å’Œé‡ç”¨æ€§ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240208102115237.png" alt="image-20240208102115237"></p>
<h3 id="è¿‡æ»¤å™¨å’Œç›‘å¬å™¨"><a href="#è¿‡æ»¤å™¨å’Œç›‘å¬å™¨" class="headerlink" title="è¿‡æ»¤å™¨å’Œç›‘å¬å™¨"></a>è¿‡æ»¤å™¨å’Œç›‘å¬å™¨</h3><h4 id="è¿‡æ»¤å™¨-1"><a href="#è¿‡æ»¤å™¨-1" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240208102343225.png" alt="image-20240208102343225"></p>
<p>Filterä¹Ÿç§°ä¹‹ä¸ºè¿‡æ»¤å™¨ï¼Œå®ƒæ˜¯ServletæŠ€æœ¯ä¸­æœ€å®ç”¨çš„æŠ€æœ¯ï¼ŒWebå¼€å‘äººå‘˜é€šè¿‡FilteræŠ€æœ¯ï¼Œå¯¹webæœåŠ¡å™¨ç®¡ç†çš„æ‰€æœ‰webèµ„æºï¼šä¾‹å¦‚Jsp, Servlet, é™æ€å›¾ç‰‡æ–‡ä»¶æˆ–é™æ€ html æ–‡ä»¶ç­‰è¿›è¡Œæ‹¦æˆªï¼Œä»è€Œå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ã€‚ä¾‹å¦‚å®ç°URLçº§åˆ«çš„æƒé™è®¿é—®æ§åˆ¶ã€è¿‡æ»¤æ•æ„Ÿè¯æ±‡ã€å‹ç¼©å“åº”ä¿¡æ¯ç­‰ä¸€äº›é«˜çº§åŠŸèƒ½ å¤„ç†ç¼–ç ã€‚</p>
<p>å®ƒä¸»è¦ç”¨äºå¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡Œé¢„å¤„ç†ï¼Œä¹Ÿå¯ä»¥å¯¹HttpServletResponseè¿›è¡Œåå¤„ç†ã€‚ä½¿ç”¨Filterçš„å®Œæ•´æµç¨‹ï¼šFilterå¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡Œé¢„å¤„ç†ï¼Œæ¥ç€å°†è¯·æ±‚äº¤ç»™Servletè¿›è¡Œå¤„ç†å¹¶ç”Ÿæˆå“åº”ï¼Œæœ€åFilterå†å¯¹æœåŠ¡å™¨å“åº”è¿›è¡Œåå¤„ç†ã€‚</p>
<p>è¿‡æ»¤å™¨å¦‚ä½•å®ç°åŠŸèƒ½</p>
<p>1åœ¨HttpServletRequeståˆ°è¾¾ Servlet ä¹‹å‰ï¼Œæ‹¦æˆªå®¢æˆ·çš„HttpServletRequest ã€‚æ ¹æ®éœ€è¦æ£€æŸ¥HttpServletRequestï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹HttpServletRequest å¤´å’Œæ•°æ®ã€‚</p>
<p>2åœ¨HttpServletResponseåˆ°è¾¾å®¢æˆ·ç«¯ä¹‹å‰ï¼Œæ‹¦æˆªHttpServletResponse ã€‚æ ¹æ®éœ€è¦æ£€æŸ¥HttpServletResponseï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹HttpServletResponseå¤´å’Œæ•°æ®ã€‚</p>
<p>3 Filteræ¥å£ä¸­æœ‰ä¸€ä¸ªdoFilteræ–¹æ³•ï¼Œå½“å¼€å‘äººå‘˜ç¼–å†™å¥½Filterï¼Œå¹¶é…ç½®å¯¹å“ªä¸ªwebèµ„æºè¿›è¡Œæ‹¦æˆªåï¼ŒWebæœåŠ¡å™¨æ¯æ¬¡åœ¨è°ƒç”¨webèµ„æºçš„serviceæ–¹æ³•ä¹‹å‰ï¼Œéƒ½ä¼šå…ˆè°ƒç”¨ä¸€ä¸‹filterçš„doFilteræ–¹æ³•ï¼ŒdoFilteræ–¹æ³•ä¸­æœ‰ä¸€ä¸ªfilterChainå¯¹è±¡,ç”¨äºç»§ç»­ä¼ é€’ç»™ä¸‹ä¸€ä¸ªfilter,åœ¨ä¼ é€’ä¹‹å‰æˆ‘ä»¬å¯ä»¥å®šä¹‰è¿‡æ»¤è¯·æ±‚çš„åŠŸèƒ½,åœ¨ä¼ é€’ä¹‹å,æˆ‘ä»¬å¯ä»¥å®šä¹‰è¿‡æ»¤å“åº”çš„åŠŸèƒ½ </p>
<p>å¯å®ç°çš„åŠŸèƒ½ï¼šæƒé™è®¾è®¡ï¼Œæ•æ„Ÿè¯æ±‡æ‹¦æˆª</p>
<h4 id="ä¸‰æ­¥ä½¿ç”¨filter"><a href="#ä¸‰æ­¥ä½¿ç”¨filter" class="headerlink" title="ä¸‰æ­¥ä½¿ç”¨filter"></a>ä¸‰æ­¥ä½¿ç”¨filter</h4><p>1ã€å¼€å‘åå°èµ„æº</p>
<p>2ã€å¼€å‘filter</p>
<p>3ã€åœ¨web.xmlä¸­é…ç½®filteræ‹¦æˆªé‚£äº›èµ„æº</p>
<p>å¼€å‘servlet</p>
<p>å¼€å‘filter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.msb.filter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>:</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä½œå‡ºè¿‡æ»¤çš„æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Filter doFilter å¯¹è¯·æ±‚ä½œå‡ºè¿‡æ»¤&quot;</span>);</span><br><span class="line">        <span class="comment">// é€šè¿‡ä¸€è¡Œä»£ç  æ”¾è¡Œè¯·æ±‚</span></span><br><span class="line">        <span class="comment">// æ”¾è¡Œè¯·æ±‚,äº¤ç»™è¿‡æ»¤å™¨é“¾ç»§ç»­è¿›è¡Œè¿‡æ»¤ æœ€ååˆ°è¾¾èµ„æº</span></span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;Filter doFilter å¯¹å“åº”ä½œå‡ºè¿‡æ»¤&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        servletResponse.getWriter().print(<span class="string">&quot;filter è¿½åŠ ä¸€äº›æ•°æ®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é”€æ¯æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é…ç½®filter</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.msb.servlet.MyServlet1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet1.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet2<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.msb.servlet.MyServlet2<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet2<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet2.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.msb.filter.MyFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å¯¹é‚£ä¸ª/äº›èµ„æºçš„è¯·æ±‚å’Œå“åº”è¿›è¡Œè¿‡æ»¤--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;url-pattern&gt;/myServlet1.do&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet2<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;url-pattern&gt;/&lt;/url-pattern&gt;</span></span><br><span class="line"><span class="comment">        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ"></a>è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ</h4><p>åŒservletå¯¹è±¡ä¸€æ ·,Filterå¯¹è±¡çš„åˆ›å»ºä¹Ÿæ˜¯äº¤ç»™webæœåŠ¡å™¨å®Œæˆçš„,åœ¨webæœåŠ¡å™¨åˆ›å»ºå’Œä½¿ç”¨åŠæœ€åé”€æ¯filteræ—¶,ä¼šè°ƒç”¨filterå¯¹åº”çš„æ–¹æ³•<br>æ„é€ æ–¹æ³•:</p>
<p>å®ä¾‹åŒ–ä¸€ä¸ªFilterå¯¹è±¡çš„æ–¹æ³•</p>
<p>åˆå§‹åŒ–æ–¹æ³•:</p>
<p>public void init(FilterConfig filterConfig);</p>
<p>å’Œæˆ‘ä»¬ç¼–å†™çš„Servletç¨‹åºä¸€æ ·ï¼ŒFilterçš„åˆ›å»ºå’Œé”€æ¯ç”±WEBæœåŠ¡å™¨è´Ÿè´£ã€‚ web åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œweb æœåŠ¡å™¨å°†åˆ›å»ºFilter çš„å®ä¾‹å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶initæ–¹æ³•ï¼Œè¯»å–web.xmlé…ç½®ï¼Œå®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–åŠŸèƒ½ï¼Œä»è€Œä¸ºåç»­çš„ç”¨æˆ·è¯·æ±‚ä½œå¥½æ‹¦æˆªçš„å‡†å¤‡å·¥ä½œï¼ˆfilterå¯¹è±¡åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œinitæ–¹æ³•ä¹Ÿåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚å¼€å‘äººå‘˜é€šè¿‡initæ–¹æ³•çš„å‚æ•°ï¼Œå¯è·å¾—ä»£è¡¨å½“å‰filteré…ç½®ä¿¡æ¯çš„FilterConfigå¯¹è±¡ã€‚</p>
<p>æ‹¦æˆªè¯·æ±‚æ–¹æ³•</p>
<p>public void doFilter</p>
<p>è¿™ä¸ªæ–¹æ³•å®Œæˆå®é™…çš„è¿‡æ»¤æ“ä½œã€‚å½“å®¢æˆ·è¯·æ±‚è®¿é—®ä¸è¿‡æ»¤å™¨å…³è”çš„URLçš„æ—¶å€™ï¼ŒServletè¿‡æ»¤å™¨å°†å…ˆæ‰§è¡ŒdoFilteræ–¹æ³•ã€‚FilterChainå‚æ•°ç”¨äºè®¿é—®åç»­è¿‡æ»¤å™¨ã€‚</p>
<p>é”€æ¯æ–¹æ³•:</p>
<p>public void destroy();</p>
<p>Filterå¯¹è±¡åˆ›å»ºåä¼šé©»ç•™åœ¨å†…å­˜ï¼Œå½“webåº”ç”¨ç§»é™¤æˆ–æœåŠ¡å™¨åœæ­¢æ—¶æ‰é”€æ¯ã€‚åœ¨Webå®¹å™¨å¸è½½ Filter å¯¹è±¡ä¹‹å‰è¢«è°ƒç”¨ã€‚è¯¥æ–¹æ³•åœ¨Filterçš„ç”Ÿå‘½å‘¨æœŸä¸­ä»…æ‰§è¡Œä¸€æ¬¡ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå¯ä»¥é‡Šæ”¾è¿‡æ»¤å™¨ä½¿ç”¨çš„èµ„æºã€‚</p>
<p>1   WEB å®¹å™¨å¯åŠ¨æ—¶,ä¼šå¯¹Filterè¿›è¡Œæ„é€ å¹¶åˆå§‹åŒ– ä¸€æ¬¡<br>2   æ¯æ¬¡è¯·æ±‚ç›®æ ‡èµ„æºæ—¶,éƒ½ä¼šæ‰§è¡ŒdoFilterçš„æ–¹æ³•<br>3   WEBå®¹å™¨å…³é—­æ˜¯,ä¼šé”€æ¯Filterå¯¹è±¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package com.bitzh.filter;</span><br><span class="line"></span><br><span class="line">import javax.servlet.*;</span><br><span class="line">import java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @Auther: oyy</span><br><span class="line"> * @Date: 2024/2/8 - 02 - 08 - 10:33</span><br><span class="line"> * @Description: com.bitzh.filter</span><br><span class="line"> * @version: 1.0</span><br><span class="line"> */</span><br><span class="line">public class MyFilter implements Filter &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void init(FilterConfig filterConfig) throws ServletException &#123;</span><br><span class="line">        System.out.println(&quot;åˆå§‹åŒ–&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void destroy() &#123;</span><br><span class="line">        System.out.println(&quot;é”€æ¯&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123;</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(&quot;è¿½åŠ ä¸€äº›æ•°æ®&quot;);</span><br><span class="line">        servletResponse.getWriter().print(&quot;è¿½åŠ æ•°æ®&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨"><a href="#è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨" class="headerlink" title="è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨"></a>è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨</h4><p>åœ¨ä¸€ä¸ªwebåº”ç”¨ä¸­ï¼Œå¯ä»¥å¼€å‘ç¼–å†™å¤šä¸ªFilterï¼Œè¿™äº›Filterç»„åˆèµ·æ¥ç§°ä¹‹ä¸ºä¸€ä¸ªFilteré“¾ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240208144114193.png" alt="image-20240208144114193"></p>
<p>webæœåŠ¡å™¨æ ¹æ®Filteråœ¨web.xmlæ–‡ä»¶ä¸­çš„æ³¨å†Œé¡ºåºï¼Œå†³å®šå…ˆè°ƒç”¨å“ªä¸ªFilterï¼Œå½“ç¬¬ä¸€ä¸ªFilterçš„doFilteræ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼ŒwebæœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªä»£è¡¨Filteré“¾çš„FilterChainå¯¹è±¡ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚åœ¨doFilteræ–¹æ³•ä¸­ï¼Œå¼€å‘äººå‘˜å¦‚æœè°ƒç”¨äº†FilterChainå¯¹è±¡çš„doFilteræ–¹æ³•ï¼Œåˆ™webæœåŠ¡å™¨ä¼šæ£€æŸ¥FilterChainå¯¹è±¡ä¸­æ˜¯å¦è¿˜æœ‰filterï¼Œå¦‚æœæœ‰ï¼Œåˆ™è°ƒç”¨ç¬¬2ä¸ªfilterï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è°ƒç”¨ç›®æ ‡èµ„æºã€‚</p>
<p>ä½¿ç”¨è¿‡æ»¤å™¨é“¾çš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥å°†ä¸åŒçš„è¿‡æ»¤åŠŸèƒ½åˆ†æ•£åˆ°å¤šä¸ªè¿‡æ»¤å™¨ä¸­,åˆ†å·¥æ˜ç¡®,é¿å…ä¸€ä¸ªè¿‡æ»¤å™¨åšå¤ªå¤šçš„ä¸šåŠ¡å¤„ç†,é™ä½äº†ä»£ç çš„è€¦åˆåº¦,è¿™ä½“ç°äº†å•ä¸€èŒè´£çš„è®¾è®¡åŸåˆ™,åº”ç”¨äº†è´£ä»»é“¾çš„ä»£ç è®¾è®¡æ¨¡å¼.</p>
<p><strong>å†³å®šè¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåºæ˜¯ç”±filter-mappingæ ‡ç­¾å†³å®š</strong></p>
<p>é¦–å…ˆæ˜¯1çš„è¿‡æ»¤è¯·æ±‚ï¼Œç„¶å2çš„è¿‡æ»¤è¯·æ±‚ï¼Œç„¶ååˆ°äº†serviceæ–¹æ³•ï¼Œç„¶å2çš„è¿‡æ»¤å“åº”ï¼Œ1çš„è¿‡æ»¤ç›¸åº”ï¼Œç„¶å1çš„é”€æ¯ï¼Œ2çš„é”€æ¯</p>
<p><strong>å¤šä¸ªFilter</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/8 - 02 - 08 - 10:33</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.filter</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1åˆå§‹åŒ–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1é”€æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1è¿‡æ»¤è¯·æ±‚&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(<span class="string">&quot;1è¿½åŠ ä¸€äº›æ•°æ®&quot;</span>);</span><br><span class="line">        servletResponse.getWriter().print(<span class="string">&quot;1è¿½åŠ æ•°æ®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/8 - 02 - 08 - 14:47</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.filter</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter2</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;2 åˆå§‹åŒ–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;2çš„é”€æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;2çš„è¿‡æ»¤è¯·æ±‚&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(<span class="string">&quot;2çš„è¿‡æ»¤å“åº”&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>é…ç½®Filter</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.bitzh.filter.MyFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter1<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.bitzh.filter.MyFilter2<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>filter2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="è¿‡æ»¤å™¨åˆå§‹åŒ–å‚æ•°é…ç½®"><a href="#è¿‡æ»¤å™¨åˆå§‹åŒ–å‚æ•°é…ç½®" class="headerlink" title="è¿‡æ»¤å™¨åˆå§‹åŒ–å‚æ•°é…ç½®"></a>è¿‡æ»¤å™¨åˆå§‹åŒ–å‚æ•°é…ç½®</h4><p>åŒservletä¸€æ ·,filterä¹Ÿå¯ä»¥é€šè¿‡web.xmlè¿›è¡Œåˆå§‹åŒ–é…ç½®,åœ¨åˆå§‹åŒ–æ—¶,å°†å‚æ•°å°è£…è¿›å…¥FilterConfigå¹¶åœ¨è°ƒç”¨initæ–¹æ³•æ—¶ä½œä¸ºå®å‚ä¼ å…¥,æˆ‘ä»¬å¯ä»¥åœ¨initæ–¹æ³•ä¸­è·å–å‚æ•°.FilterConfigæ¥å£ä¸ºæˆ‘ä»¬æä¾›äº†å¦‚ä¸‹åŠŸèƒ½</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">String <span class="title function_">getFilterName</span><span class="params">()</span>;<span class="comment">//å¾—åˆ°filterçš„åç§°ã€‚</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">String <span class="title function_">getInitParameter</span><span class="params">(String   name)</span>;<span class="comment">//è¿”å›å®šåç§°çš„åˆå§‹åŒ–å‚æ•°çš„å€¼ã€‚å¦‚æœä¸å­˜åœ¨è¿”å›null.</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">Enumeration   <span class="title function_">getInitParameterNames</span><span class="params">()</span>;<span class="comment">//è¿”å›è¿‡æ»¤å™¨çš„æ‰€æœ‰åˆå§‹åŒ–å‚æ•°çš„åå­—çš„æšä¸¾é›†åˆã€‚</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> ServletContext   <span class="title function_">getServletContext</span><span class="params">()</span>;<span class="comment">//è¿”å›Servletä¸Šä¸‹æ–‡å¯¹è±¡çš„å¼•ç”¨ã€‚</span></span><br></pre></td></tr></table></figure>
<p>ä¸€å¼€å§‹å¯ä»¥å†web.xmlä¸­é…ç½®ä¸€å¼€å§‹çš„filterçš„åˆå§‹åŒ–å‚æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;web-app xmlns=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="line">         xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">         xsi:schemaLocation=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="line">         version=<span class="string">&quot;4.0&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;filter&gt;</span><br><span class="line">        &lt;filter-name&gt;filter1&lt;/filter-name&gt;</span><br><span class="line">        &lt;filter-class&gt;com.bitzh.filter.MyFilter&lt;/filter-class&gt;</span><br><span class="line">        &lt;init-param&gt;</span><br><span class="line">            &lt;param-name&gt;name&lt;/param-name&gt;</span><br><span class="line">            &lt;param-value&gt;xiaoming&lt;/param-value&gt;</span><br><span class="line">        &lt;/init-param&gt;</span><br><span class="line">        &lt;init-param&gt;</span><br><span class="line">            &lt;param-name&gt;gender&lt;/param-name&gt;</span><br><span class="line">            &lt;param-value&gt;nan&lt;/param-value&gt;</span><br><span class="line">        &lt;/init-param&gt;</span><br><span class="line">    &lt;/filter&gt;</span><br><span class="line">    &lt;filter-mapping&gt;</span><br><span class="line">        &lt;filter-name&gt;filter1&lt;/filter-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/myServlet.<span class="keyword">do</span>&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/filter-mapping&gt;</span><br><span class="line">    &lt;filter&gt;</span><br><span class="line">        &lt;filter-name&gt;filter2&lt;/filter-name&gt;</span><br><span class="line">        &lt;filter-class&gt;com.bitzh.filter.MyFilter2&lt;/filter-class&gt;</span><br><span class="line">    &lt;/filter&gt;</span><br><span class="line">    &lt;filter-mapping&gt;</span><br><span class="line">        &lt;filter-name&gt;filter2&lt;/filter-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/myServlet.<span class="keyword">do</span>&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/filter-mapping&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/8 - 02 - 08 - 10:33</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.filter</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1åˆå§‹åŒ–&quot;</span>);</span><br><span class="line">        <span class="comment">//è¿™é‡Œå¯ä»¥è·å–åˆå§‹åŒ–çš„ä¸€äº›å‚æ•°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> filterConfig.getInitParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        Enumeration&lt;String&gt; pNames = filterConfig.getInitParameterNames();</span><br><span class="line">        <span class="keyword">while</span> (pNames.hasMoreElements())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">pName</span> <span class="operator">=</span> pNames.nextElement();</span><br><span class="line">            System.out.println(pName + <span class="string">&quot;:&quot;</span> + filterConfig.getInitParameter(pName));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1é”€æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1è¿‡æ»¤è¯·æ±‚&quot;</span>);</span><br><span class="line">        filterChain.doFilter(servletRequest,servletResponse);</span><br><span class="line">        System.out.println(<span class="string">&quot;1è¿½åŠ ä¸€äº›æ•°æ®&quot;</span>);</span><br><span class="line">        servletResponse.getWriter().print(<span class="string">&quot;1è¿½åŠ æ•°æ®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="ç”¨æ³¨è§£æ¥å†™è¿‡æ»¤å™¨"><a href="#ç”¨æ³¨è§£æ¥å†™è¿‡æ»¤å™¨" class="headerlink" title="ç”¨æ³¨è§£æ¥å†™è¿‡æ»¤å™¨"></a>ç”¨æ³¨è§£æ¥å†™è¿‡æ»¤å™¨</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240208150947127.png" alt="image-20240208150947127"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(urlPatterns = &quot;/myServlet1.do&quot; ,servletNames = &quot;myServlet1&quot;,initParams = &#123;</span></span><br><span class="line"><span class="meta">        @WebInitParam(name = &quot;realname&quot; ,value = &quot;å¼ ä¸‰&quot;),</span></span><br><span class="line"><span class="meta">        @WebInitParam(name = &quot;charset&quot; ,value = &quot;UTF-8&quot;)</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯æ ¹æ®æ³¨è§£æ¨¡å¼çš„è¯ï¼Œé‚£ä¹ˆé¡ºåºå°±æ ¹æ®filterçš„åå­—æ¥æ§åˆ¶é¡ºåºé€šå¸¸ç”¨filter0_åŠŸèƒ½æ¥ä¸ºfilterï¼Œå‘½å</p>
<h4 id="æ¡ˆä¾‹å¼€å‘ä¹‹POSTä¹±ç å¤„ç†"><a href="#æ¡ˆä¾‹å¼€å‘ä¹‹POSTä¹±ç å¤„ç†" class="headerlink" title="æ¡ˆä¾‹å¼€å‘ä¹‹POSTä¹±ç å¤„ç†"></a>æ¡ˆä¾‹å¼€å‘ä¹‹POSTä¹±ç å¤„ç†</h4><p><strong>Filter</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Filter0_EncodingFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String charset;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        servletRequest.setCharacterEncoding(charset);</span><br><span class="line">        <span class="comment">// æ”¾è¡Œ</span></span><br><span class="line">        filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        charset = filterConfig.getInitParameter(<span class="string">&quot;charset&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>é…ç½®é¡µé¢</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title%sSourceCode%lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  please login ... ... &lt;br/&gt;</span><br><span class="line">  &lt;form action=<span class="string">&quot;loginController.do&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;user&quot;</span>&gt; &lt;br/&gt;</span><br><span class="line">    å¯†ç :&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;pwd&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><strong>é…ç½®è¿‡æ»¤å™¨</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.msb.filter.Filter0_EncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>charset<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="æ¡ˆä¾‹å¼€å‘ä¹‹ç™»å½•éªŒè¯"><a href="#æ¡ˆä¾‹å¼€å‘ä¹‹ç™»å½•éªŒè¯" class="headerlink" title="æ¡ˆä¾‹å¼€å‘ä¹‹ç™»å½•éªŒè¯"></a>æ¡ˆä¾‹å¼€å‘ä¹‹ç™»å½•éªŒè¯</h4><p>éœ€æ±‚:é€šè¿‡è¿‡æ»¤å™¨æ§åˆ¶,åªæœ‰ç™»å½•è¿‡ä¹‹åå¯ä»¥åå¤è¿›å…¥welcome.jspæ¬¢è¿é¡µ,å¦‚æœæ²¡æœ‰ç™»å½•,æç¤ºç”¨æˆ·è¿›å…¥ç™»å½•é¡µè¿›è¡Œç™»å½•æ“ä½œ</p>
<p><strong>é¡¹ç›®ç»“æ„</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240208175146418.png" alt="image-20240208175146418"></p>
<p><strong>Controller</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebInitParam;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/8 - 02 - 08 - 17:11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.controller</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/login.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginController</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å–nameå’Œpwd</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(pwd);</span><br><span class="line">        <span class="comment">//æŠŠnameå’Œpwdå­˜åˆ°httpsession</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(name,pwd);</span><br><span class="line">        req.getSession().setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">        <span class="comment">//ç„¶åé‡å®šå‘åˆ°ç™»å½•æˆåŠŸé¡µé¢</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;welcome.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Filter</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/8 - 02 - 08 - 17:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.filter</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebFilter(urlPatterns = &quot;/*&quot;)</span><span class="comment">// ä»»ä½•èµ„æºéƒ½è¦è¿›è¡Œè¿‡æ»¤,</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginFilter</span>  <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        HttpServletRequest req=(HttpServletRequest)servletRequest;</span><br><span class="line">        HttpServletResponse resp=(HttpServletResponse) servletResponse;</span><br><span class="line">        <span class="comment">//æ— è®ºæ˜¯å¦ç™»å½•è¿‡,éƒ½è¦æ”¾è¡Œçš„èµ„æº   ç™»å½•é¡µ  ç™»å½•æ ¡éªŒController å’Œä¸€äº›é™æ€èµ„æº</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> req.getRequestURI();</span><br><span class="line">        System.out.println(requestURI);</span><br><span class="line">        <span class="keyword">if</span>(requestURI.contains(<span class="string">&quot;login.jsp&quot;</span>)|| requestURI.contains(<span class="string">&quot;login.do&quot;</span>))&#123;</span><br><span class="line">            <span class="comment">// ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">            filterChain.doFilter(req,resp);</span><br><span class="line">            <span class="comment">// åç»­ä»£ç ä¸å†æ‰§è¡Œ</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éœ€è¦ç™»å½•ä¹‹åæ‰èƒ½è®¿é—®çš„èµ„æº,å¦‚æœæ²¡ç™»å½•,é‡å®šå‘åˆ°login.jspä¸Š,æç¤ºç”¨æˆ·è¿›è¡Œç™»å½•</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">user</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span> != user)&#123;<span class="comment">// å¦‚æœç™»å½•è¿‡ æ”¾è¡Œ</span></span><br><span class="line">            filterChain.doFilter(req,resp);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">// æ²¡æœ‰ç™»å½•è¿‡,è·³è½¬è‡³ç™»å½•é¡µ</span></span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;login.jsp&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>User</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/8 - 02 - 08 - 17:08</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: pojo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, pwd=&#x27;&quot;</span> + pwd + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPwd</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPwd</span><span class="params">(String pwd)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pwd = pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, String pwd)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.pwd = pwd;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>JSP</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">2</span>/<span class="number">8</span></span><br><span class="line">  Time: <span class="number">17</span>:<span class="number">19</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    æ¬¢è¿$&#123;user.name&#125;ç™»å½•</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">2</span>/<span class="number">8</span></span><br><span class="line">  Time: <span class="number">17</span>:<span class="number">20</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;login.do&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;user&quot;</span>&gt; &lt;br/&gt;</span><br><span class="line">    å¯†ç :&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;pwd&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a>ç›‘å¬å™¨</h4><p><strong>ä»€ä¹ˆæ˜¯ç›‘å¬å™¨</strong></p>
<p>ç±»ä¼¼äºå‰ç«¯çš„å›è§ç»‘å®šï¼Œjavaä¸­çš„ç›‘å¬å™¨ç”¨äºç›‘å¬webåº”ç”¨ä¸­æŸäº›å¯¹è±¡ï¼Œä¿¡æ¯çš„åˆ›å»ºï¼Œé”€æ¯ï¼Œå¢åŠ ï¼Œä¿®æ”¹ï¼Œåˆ é™¤ç­‰åŠ¨ä½œçš„å‘ç”Ÿï¼Œç„¶ååšå‡ºç›¸åº”çš„å“åº”å¤„ç†ã€‚å½“èŒƒå›´å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨è‡ªåŠ¨è°ƒç”¨ç›‘å¬å™¨å¯¹è±¡ä¸­çš„æ–¹æ³•ã€‚å¸¸ç”¨äºç»Ÿè®¡åœ¨çº¿äººæ•°å’Œåœ¨çº¿ç”¨æˆ·ï¼Œç³»ç»ŸåŠ è½½æ—¶è¿›è¡Œä¿¡æ¯åˆå§‹åŒ–ï¼Œç»Ÿè®¡ç½‘ç«™çš„è®¿é—®é‡ç­‰ç­‰ã€‚</p>
<p><strong>ç›‘å¬å™¨æ€ä¹ˆåˆ†ç±»</strong></p>
<p>æŒ‰ç›‘å¬å¯¹è±¡åˆ’åˆ†</p>
<p>1ã€ServletContextå¯¹è±¡ç›‘å¬å™¨</p>
<p>2ã€HttpSessionå¯¹è±¡ç›‘å¬å™¨</p>
<p>3ã€ServletRequestå¯¹è±¡ç›‘å¬å™¨</p>
<p>æŒ‰ç›‘å¬çš„äº‹ä»¶åˆ’åˆ†</p>
<p>1ã€å¯¹è±¡è‡ªèº«çš„åˆ›å»ºå’Œé”€æ¯çš„ç›‘å¬å™¨</p>
<p>2ã€å¯¹è±¡ä¸­å±æ€§çš„åˆ›å»ºå’Œæ¶ˆé™¤çš„ç›‘å¬å™¨</p>
<p>3ã€sessionä¸­çš„æŸä¸ªå¯¹è±¡çš„çŠ¶æ€å˜åŒ–çš„ç›‘å¬å™¨</p>
<p><strong>ä¸€å…±æœ‰å“ªäº›ç›‘å¬å™¨ï¼Ÿåˆ†åˆ«å¤„ç†ä»€ä¹ˆäº‹æƒ…ï¼Ÿ</strong></p>
<p>javaä¸­ä¸€å…±ç»™æˆ‘ä»¬æä¾›å…«ä¸ªç›‘å¬å™¨æ¥å£ï¼Œåˆ†åˆ«ç”¨äºç›‘å¬ä¸‰ä¸ªåŸŸå¯¹è±¡ï¼Œæ¯ä¸ªç›‘å¬å™¨éƒ½æœ‰ä¸“é—¨ç›‘å¬çš„äº‹ä»¶</p>
<p><strong>Request</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ServletRequestListener   <span class="comment">//å¤„ç†requestå¯¹è±¡åˆ›å»ºå’Œé”€æ¯</span></span><br><span class="line">ServletRequestAttributeListener      <span class="comment">//å¤„ç†åŸŸå¯¹è±¡ä¸­çš„æ•°æ®æ·»åŠ    æ›¿æ¢   åˆ é™¤</span></span><br></pre></td></tr></table></figure>
<p><strong>Session</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HttpSessionListener    <span class="comment">//å¤„ç†sessionå¯¹è±¡åˆ›å»ºå’Œé”€æ¯</span></span><br><span class="line">HttpSessionAttributeListener    <span class="comment">//å¤„ç†sessionåŸŸå¯¹è±¡ä¸­çš„æ•°æ®æ·»åŠ ä¿®æ”¹åˆ é™¤</span></span><br><span class="line">HttpSessionBindingListener		<span class="comment">//å¤„ç†sessionå¯¹è±¡ç›‘å¬å™¨ç»‘å®šå’Œè§£ç»‘å®šæ¥å£</span></span><br><span class="line">HttpSessionActivationListener   <span class="comment">//å¤„ç†sessionå¯¹è±¡é’åŒ–å’Œæ´»åŒ–çŠ¶æ€æ¥å£</span></span><br></pre></td></tr></table></figure>
<p><strong>Application</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ServletContextListener   <span class="comment">//å¤„ç†applicationå¯¹è±¡åˆ›å»ºå’Œé”€æ¯</span></span><br><span class="line">ServletContextAttributeListener    <span class="comment">//å¤„ç†applicationåŸŸå¯¹è±¡ä¸­çš„æ•°æ®å¢åŠ   ä¿®æ”¹   åˆ é™¤</span></span><br></pre></td></tr></table></figure>
<p><strong>ç›‘å¬å™¨æ€ä¹ˆä½¿ç”¨</strong></p>
<p>ä¸¤æ­¥ä½¿ç”¨</p>
<p>1ã€å®šä¹‰ç›‘å¬å™¨ï¼Œæ ¹æ®éœ€æ±‚å®ç°å¯¹åº”æ¥å£</p>
<p>2ã€åœ¨web.xmlä¸­é…ç½®ç›‘å¬å™¨ï¼Œè®©ç›‘å¬å™¨å·¥ä½œ</p>
<h4 id="RequeståŸŸç›‘å¬å™¨"><a href="#RequeståŸŸç›‘å¬å™¨" class="headerlink" title="RequeståŸŸç›‘å¬å™¨"></a>RequeståŸŸç›‘å¬å™¨</h4><p>RequeståŸŸä¸­å…±æœ‰ä¸¤ä¸ªç›‘å¬å™¨æ¥å£ï¼Œåˆ†åˆ«æ˜¯</p>
<p>1ã€ServletRequestListener</p>
<p>2ã€ServletRequestAttributeListener</p>
<p><strong>å®šä¹‰ç›‘å¬å™¨ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebListener;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/9 - 02 - 09 - 8:45</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.listener</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRequestListener</span> <span class="keyword">implements</span> <span class="title class_">ServletRequestListener</span> , ServletRequestAttributeListener &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestDestroyed</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line">        <span class="comment">//ç›‘å¬HttpServletRequestå¯¹è±¡çš„é”€æ¯   é¡¹ç›®ä¸­ä»»ä½•ä¸€ä¸ªrequestå¯¹è±¡çš„é”€æ¯éƒ½ä¼šè§¦å‘è¯¥æ–¹æ³•çš„æ‰§è¡Œ</span></span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">servletRequest</span> <span class="operator">=</span> sre.getServletRequest();</span><br><span class="line">        System.out.println(<span class="string">&quot;requesté”€æ¯äº†&quot;</span>+servletRequest.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestInitialized</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line">        <span class="comment">//ç›‘å¬HttpServletRequestå¯¹è±¡çš„åˆ›å»ºå’Œåˆå§‹åŒ–   é¡¹ç›®ä¸­ä»»ä½•ä¸€ä¸ªrequestå¯¹è±¡çš„åˆ›å»ºå’Œåˆå§‹åŒ–éƒ½ä¼šè§¦å‘è¯¥æ–¹æ³•çš„æ‰§è¡Œ</span></span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">servletRequest</span> <span class="operator">=</span> sre.getServletRequest();</span><br><span class="line">        System.out.println(<span class="string">&quot;requeståˆ›å»ºäº†&quot;</span>+servletRequest.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeAdded</span><span class="params">(ServletRequestAttributeEvent srae)</span> &#123;</span><br><span class="line">        <span class="comment">// ä»»ä½•ä¸€ä¸ªRequestå¯¹è±¡ä¸­è°ƒç”¨ setAttributeæ–¹æ³•å¢åŠ äº†æ•°æ®éƒ½ä¼šè§¦å‘è¯¥æ–¹æ³•</span></span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">servletRequest</span> <span class="operator">=</span> srae.getServletRequest();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> srae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> srae.getValue();</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+servletRequest.hashCode()+<span class="string">&quot;å¯¹è±¡å¢åŠ äº†æ•°æ®:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeRemoved</span><span class="params">(ServletRequestAttributeEvent srae)</span> &#123;</span><br><span class="line">        <span class="comment">// ä»»ä½•ä¸€ä¸ªRequestå¯¹è±¡ä¸­è°ƒç”¨ removeAttributeæ–¹æ³•ç§»é™¤äº†æ•°æ®éƒ½ä¼šè§¦å‘è¯¥æ–¹æ³•</span></span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">servletRequest</span> <span class="operator">=</span> srae.getServletRequest();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> srae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> srae.getValue();</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+servletRequest.hashCode()+<span class="string">&quot;å¯¹è±¡åˆ é™¤äº†æ•°æ®:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeReplaced</span><span class="params">(ServletRequestAttributeEvent srae)</span> &#123;</span><br><span class="line">        <span class="comment">// ä»»ä½•ä¸€ä¸ªRequestå¯¹è±¡ä¸­è°ƒç”¨ setAttributeæ–¹æ³•ä¿®æ”¹äº†æ•°æ®éƒ½ä¼šè§¦å‘è¯¥æ–¹æ³•</span></span><br><span class="line">        <span class="type">ServletRequest</span> <span class="variable">servletRequest</span> <span class="operator">=</span> srae.getServletRequest();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> srae.getName();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> srae.getValue();</span><br><span class="line">        Object newValue=servletRequest.getAttribute(name);</span><br><span class="line">        System.out.println(<span class="string">&quot;request&quot;</span>+servletRequest.hashCode()+<span class="string">&quot;å¯¹è±¡å¢ä¿®æ”¹äº†æ•°æ®:&quot;</span>+name+<span class="string">&quot;=&quot;</span>+value+<span class="string">&quot;è®¾ç½®ä¸º:&quot;</span>+newValue);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é…ç½®web.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.bitzh.listener.MyRequestListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="Sessionç›‘å¬åŸŸ"><a href="#Sessionç›‘å¬åŸŸ" class="headerlink" title="Sessionç›‘å¬åŸŸ"></a>Sessionç›‘å¬åŸŸ</h4><p>SessionåŸŸå…±æœ‰å››ä¸ªç›‘å¬æ¥å£</p>
<p>HttpSessionListener</p>
<p>HttpSessionAttributeListener</p>
<p>HttpSessionBindingListener</p>
<p>HttpSessionActivationListener</p>
<p><strong>ç›‘å¬å™¨ä»£ç </strong></p>
<p>HttpSessionListener</p>
<p>HttpSessionAttributeListener</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebListener;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionAttributeListener;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionBindingEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionListener;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/9 - 02 - 09 - 10:08</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.listener</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySessionListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionListener</span>, HttpSessionAttributeListener &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeAdded</span><span class="params">(HttpSessionBindingEvent se)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä»»ä½•ä¸€ä¸ªæ•°æ®æ·»åŠ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeRemoved</span><span class="params">(HttpSessionBindingEvent se)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä»»ä½•ä¸€ä¸ªæ•°æ®åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeReplaced</span><span class="params">(HttpSessionBindingEvent se)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä»»ä½•ä¸€ä¸ªæ•°æ®ä¿®æ”¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä»»ä½•ä¸€ä¸ªSessionå¯¹è±¡åˆ›å»º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä»»ä½•ä¸€ä¸ªSessionå¯¹è±¡åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>HttpSessionBindingListener</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebListener;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionBindingEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionBindingListener;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/9 - 02 - 09 - 10:14</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.listener</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*å¯ä»¥ç›‘å¬å…·ä½“çš„æŸä¸ªsessionå¯¹è±¡çš„äº‹ä»¶çš„</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* HttpSessionListener åªè¦åœ¨web.xmlä¸­é…ç½®æˆ–è€…é€šè¿‡@WebListeneræ³¨è§£å°±å¯ä»¥æ³¨å†Œç›‘å¬æ‰€æœ‰çš„Sessionå¯¹è±¡</span></span><br><span class="line"><span class="comment">* HttpSessionBindingListener  å¿…é¡»è¦é€šè¿‡setAttributeæ–¹æ³•å’ŒæŸä¸ªsessionå¯¹è±¡ç»‘å®šä¹‹åï¼Œç›‘å¬çš„æŸä¸ªSessionå¯¹è±¡</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySessionBindingListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionBindingListener</span> &#123;</span><br><span class="line">    <span class="comment">/*ç»‘å®šæ–¹æ³•*/</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    åœ¨servletä¸­æ“ä½œ</span></span><br><span class="line"><span class="comment">    session.setAttribute(&quot;mySessionBindingListener&quot;,new MySessionBindingListener())</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">valueBound</span><span class="params">(HttpSessionBindingEvent event)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç›‘å¬å™¨å’ŒæŸä¸ªsessionå¯¹è±¡ç»‘å®šäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">valueUnbound</span><span class="params">(HttpSessionBindingEvent event)</span> &#123;</span><br><span class="line">        <span class="comment">//è§£é™¤ç»‘å®šæ–¹æ³•</span></span><br><span class="line">        <span class="comment">/*å½“å‘ç”Ÿä¸‹é¢æƒ…å†µï¼Œä¼šè§¦å‘è¯¥æ–¹æ³•çš„è¿è¡Œ</span></span><br><span class="line"><span class="comment">        * 1ã€session.invalidate();è®©sessionä¸å¯ç”¨</span></span><br><span class="line"><span class="comment">        * 2ã€sessionåˆ°è¾¾æœ€å¤§ä¸æ´»åŠ¨æ—¶é—´ï¼Œsessionå¯¹è±¡å›æ”¶</span></span><br><span class="line"><span class="comment">        * 3ã€session.removeAttribute(&quot;mySessionBindingListener&quot;)æ‰‹åŠ¨è§£é™¤ç»‘å®š</span></span><br><span class="line"><span class="comment">        * </span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>HttpSessionActivationListener</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySessionActivationListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionActivationListener</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionWillPassivate</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;sessionå³å°†é’åŒ–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDidActivate</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;sessionæ´»åŒ–å®Œæ¯•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Tomcatä¼šåœ¨sessionä¸€æ®µæ—¶é—´å†…ä¸è¢«ä½¿ç”¨æ—¶é’åŒ–sessionå¯¹è±¡ï¼Œæ‰€è°“é’åŒ–sessionï¼Œå°±æ˜¯æŠŠsessioné€šè¿‡åºåˆ—åŒ–çš„æ–¹æ³•ä¿å­˜åˆ°ç¡¬ç›˜æ–‡ä»¶ä¸­ã€‚å½“ç”¨æˆ·å†ä½¿ç”¨sessionæ—¶ï¼ŒTomcatè¿˜ä¼šæŠŠé’åŒ–çš„å¯¹è±¡å†æ´»åŒ–sessionï¼Œæ‰€è°“æ´»åŒ–å°±æ˜¯æŠŠç¡¬ç›˜æ–‡ä»¶ä¸­çš„sessionåœ¨ååºåˆ—åŒ–ä¸­æ”¾å›å†…å­˜ã€‚å½“sessionå¯¹è±¡è¢«tomcaté’åŒ–æ—¶ï¼Œsessionä¸­å­˜å‚¨çš„å¯¹è±¡ä¹Ÿè¢«é’åŒ–ï¼Œå½“sessionè¢«æ´»åŒ–æ—¶ï¼Œä¹Ÿä¼šæŠŠsessionä¸­å­˜å‚¨çš„å¯¹è±¡(javabeanå¯¹è±¡)æ´»åŒ–ã€‚å¦‚æœæŸä¸ªç±»(javabeanå¯¹è±¡)å®ç°äº†HttpSessionActiveationListeneræ¥å£åï¼Œå½“å¯¹è±¡éšç€sessionè¢«é’åŒ–å’Œæ´»åŒ–æ—¶ï¼Œç›‘å¬å™¨æ¥å£ä¸­çš„æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚é’åŒ–æ—¶ä¼šåœ¨tomcat/work/Catalina/localhost/é¡¹ç›®/mysession/æ–‡ä»¶ä¸‹ç”Ÿæˆä¸€ä¸ªåç¼€ä¸º.sessionçš„æ–‡ä»¶ï¼Œç½‘é¡µä¸­ä¸€ä¸ªè¢«é’åŒ–çš„sessionå°±å¯¹åº”ä¸€ä¸ª.sessionæ–‡ä»¶(è€Œä¸Šé¢çš„åºåˆ—åŒ–æ˜¯ä¸€ä¸ª.seræ–‡ä»¶å­˜åœ¨æ‰€æœ‰çš„session)ï¼Œåœ¨æ´»åŒ–æ—¶æ­¤æ–‡ä»¶ä¹Ÿä¸ä¼šæ¶ˆå¤±(ä¸åŒäºä¸Šè¿°çš„.seræ–‡ä»¶æ¶ˆå¤±)ã€‚å½“ç„¶è¦çœ‹åˆ°ä¸Šè¿°æ•ˆæœï¼Œåº”è¯¥å…ˆé…ç½®tomcaté’åŒ–sessionçš„å‚æ•°,åœ¨tomcat/conf/cata/oma/localhostç›®å½•ä¸‹</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_38753309/article/details/84454920">https://blog.csdn.net/weixin_38753309/article/details/84454920</a></p>
<h4 id="ApplicationåŸŸç›‘å¬å™¨"><a href="#ApplicationåŸŸç›‘å¬å™¨" class="headerlink" title="ApplicationåŸŸç›‘å¬å™¨"></a><strong>ApplicationåŸŸç›‘å¬å™¨</strong></h4><p>ApplicationåŸŸå…±æœ‰ä¸¤ä¸ªç›‘å¬å™¨æ¥å£,åˆ†åˆ«æ˜¯</p>
<p>ServletContextListener<br>ServletContextAttributeListener</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyApplicationListener</span> <span class="keyword">implements</span> <span class="title class_">ServletContextListener</span> , ServletContextAttributeListener &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextInitialized</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletContextåˆ›å»ºå¹¶åˆå§‹åŒ–äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextDestroyed</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletContexté”€æ¯äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeAdded</span><span class="params">(ServletContextAttributeEvent scae)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletContextå¢åŠ äº†æ•°æ®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeRemoved</span><span class="params">(ServletContextAttributeEvent scae)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletContextåˆ é™¤äº†æ•°æ®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attributeReplaced</span><span class="params">(ServletContextAttributeEvent scae)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletContextä¿®æ”¹äº†æ•°æ®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ¡ˆä¾‹å¼€å‘ï¼šè®°å½•è¯·æ±‚æ—¥å¿—"><a href="#æ¡ˆä¾‹å¼€å‘ï¼šè®°å½•è¯·æ±‚æ—¥å¿—" class="headerlink" title="æ¡ˆä¾‹å¼€å‘ï¼šè®°å½•è¯·æ±‚æ—¥å¿—"></a>æ¡ˆä¾‹å¼€å‘ï¼šè®°å½•è¯·æ±‚æ—¥å¿—</h4><p>éœ€æ±‚ï¼šè®°å½•æ¯æ¬¡è¯·æ±‚ä¸­å¦‚ä¸‹çš„ä¿¡æ¯å¹¶å­˜å‚¨è¿›å…¥æ—¥å¿—æ–‡ä»¶</p>
<p>è¯·æ±‚çš„æ¥æº</p>
<p>æµè§ˆå™¨æ‰€åœ¨ç”µè„‘IP</p>
<p>è¯·æ±‚çš„èµ„æºURL</p>
<p>è¯·æ±‚å‘ç”Ÿçš„æ—¶é—´</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequestEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequestListener;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebListener;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/9 - 02 - 09 - 10:45</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.listener</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* è¯·æ±‚çš„æ¥æº</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æµè§ˆå™¨æ‰€åœ¨ç”µè„‘IP</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">è¯·æ±‚çš„èµ„æºURL</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">è¯·æ±‚å‘ç”Ÿçš„æ—¶é—´</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestLogListener</span> <span class="keyword">implements</span> <span class="title class_">ServletRequestListener</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">SimpleDateFormat</span> <span class="variable">simpleDateFormat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestDestroyed</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">requestInitialized</span><span class="params">(ServletRequestEvent sre)</span> &#123;</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">req</span> <span class="operator">=</span> (HttpServletRequest) sre.getServletRequest();</span><br><span class="line">        <span class="type">String</span> <span class="variable">remoteHost</span> <span class="operator">=</span> req.getRemoteHost();</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> req.getRequestURL().toString();</span><br><span class="line">        <span class="type">String</span> <span class="variable">date</span> <span class="operator">=</span> simpleDateFormat.format(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:/bitzh.txt&quot;</span>),<span class="literal">true</span>));</span><br><span class="line">            pw.println(remoteHost+<span class="string">&quot; &quot;</span>+url+<span class="string">&quot; &quot;</span>+date );</span><br><span class="line">            pw.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="æ¡ˆä¾‹ç»Ÿè®¡å®æ—¶åœ¨çº¿äººæ•°"><a href="#æ¡ˆä¾‹ç»Ÿè®¡å®æ—¶åœ¨çº¿äººæ•°" class="headerlink" title="æ¡ˆä¾‹ç»Ÿè®¡å®æ—¶åœ¨çº¿äººæ•°"></a>æ¡ˆä¾‹ç»Ÿè®¡å®æ—¶åœ¨çº¿äººæ•°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.listener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionListener;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/9 - 02 - 09 - 11:01</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.listener</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OnLineNumberListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionListener</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="comment">//å‘applicationä¸­å¢åŠ ä¸€ä¸ª</span></span><br><span class="line"></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">attribute</span> <span class="operator">=</span> servletContext.getAttribute(<span class="string">&quot;count&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span>==attribute)&#123;</span><br><span class="line">            servletContext.setAttribute(<span class="string">&quot;count&quot;</span>,<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> (<span class="type">int</span>)attribute;</span><br><span class="line">            servletContext.setAttribute(<span class="string">&quot;count&quot;</span>,++count);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        <span class="comment">//å‘applicationä¸­å‡å°‘ä¸€ä¸ª</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> se.getSession();</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">attribute</span> <span class="operator">=</span> servletContext.getAttribute(<span class="string">&quot;count&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> (<span class="type">int</span>) attribute;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;count&quot;</span>,--count);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç„¶åå‡†å¤‡åˆ›å»ºçš„servletå’Œé”€æ¯sessionçš„servlet</p>
<p><strong>å‡†å¤‡çš„jsp</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title%sSourceCode%lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  å½“å‰åœ¨çº¿äººæ•°ä¸º:$&#123;applicationScope.count&#125;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="é¡¹ç›®é‡å¯å…ç™»å½•"><a href="#é¡¹ç›®é‡å¯å…ç™»å½•" class="headerlink" title="é¡¹ç›®é‡å¯å…ç™»å½•"></a>é¡¹ç›®é‡å¯å…ç™»å½•</h4><p>Sessionåºåˆ—åŒ–å’Œååºåˆ—åŒ–</p>
<p>1ã€åºåˆ—åŒ–ä¸ååºåˆ—</p>
<p>æŠŠå¯¹è±¡è½¬åŒ–ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ç§°ä¸ºåºåˆ—åŒ–ï¼ˆä¿å­˜åˆ°ç¡¬ç›˜ï¼ŒæŒä¹…åŒ–ï¼‰</p>
<p>æŠŠå­—èŠ‚åºåˆ—è½¬åŒ–ä¸ºå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸ºååºåˆ—åŒ–ï¼ˆå­˜æ”¾äºå†…å­˜ï¼‰</p>
<p>å°†ç™»å½•ä¿¡æ¯æ”¾åˆ°æ–‡ä»¶ä¸­ä¿å­˜ç„¶åå¯åŠ¨çš„æ—¶å€™æ¢å¤</p>
<p> 2ã€åºåˆ—åŒ–çš„ç”¨é€”</p>
<p>æŠŠå¯¹è±¡çš„å­—èŠ‚åºåˆ—æ°¸ä¹…ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œé€šå¸¸æ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</p>
<p>æŠŠç½‘ç»œä¼ è¾“çš„å¯¹è±¡é€šè¿‡å­—èŠ‚åºåˆ—åŒ–ï¼Œæ–¹ä¾¿ä¼ è¾“æœ¬èŠ‚ä½œä¸š</p>
<p>3ã€å®ç°æ­¥éª¤</p>
<p>è¦æƒ³å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–éœ€è¦æ‰‹åŠ¨é…ç½®</p>
<p>  Aã€æ–°å»ºæ–‡ä»¶å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240209112742834.png" alt="image-20240209112742834"></p>
<p>Bã€ Context.xmlä¸­æ–‡ä»¶å¦‚ä¸‹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">Context</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">Manager</span> <span class="attr">className</span>=<span class="string">&quot;org.apache.catalina.session.PersistentManager&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">         <span class="tag">&lt;<span class="name">Store</span> <span class="attr">className</span>=<span class="string">&quot;org.apache.catalina.session.FileStore&quot;</span> <span class="attr">directory</span>=<span class="string">&quot;d:/session&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">Manager</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Cã€æ³¨æ„å®ä½“ç±»å¿…é¡»å®ç°serializable æ¥å£</p>
<p>1 å‡†å¤‡å®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span>  <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2ã€å¼€å‘ç™»å½•ä¿¡æ¯è¾“å…¥é¡µé¢</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title%sSourceCode%lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;form action=<span class="string">&quot;loginController.do&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;user&quot;</span>&gt; &lt;br/&gt;</span><br><span class="line">    å¯†ç :&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;pwd&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span>&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>3å¼€å‘ç™»å½•ä¿¡æ¯éªŒè¯Servlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/loginController.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginController</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        <span class="comment">// user</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>(username,pwd);</span><br><span class="line">        <span class="comment">// session</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        session.setAttribute(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4 å¼€å‘æ ¡éªŒå½“å‰æ˜¯å¦å·²ç»ç™»å½•çš„Controller</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/loginCheckController.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckController</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦ç™»å½•</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">user</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">listener</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;listener&quot;</span>);<span class="comment">// è·å¾—å¯¹åº”çš„ç›‘å¬å™¨</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span><span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span> != user)&#123;</span><br><span class="line">            message=<span class="string">&quot;æ‚¨å·²ç»ç™»å½•è¿‡&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            message=<span class="string">&quot;æ‚¨è¿˜æœªç™»å½•&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        resp.getWriter().println(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>5æµ‹è¯•, å…ˆç™»å½•,ç„¶åè¯·æ±‚loginCheckController.do æ ¡éªŒæ˜¯å¦ç™»å½•è¿‡,ç„¶åé‡å¯é¡¹ç›®,å†èµ·è¯·æ±‚loginCheckController.do æ ¡éªŒæ˜¯å¦ç™»å½•è¿‡,å‘ç°é‡å¯å,ä»ç„¶æ˜¯ç™»å½•è¿‡çš„</p>
<p>6ç›‘å¬é’åŒ–å’Œæ´»åŒ–</p>
<p>å‡†å¤‡ç›‘å¬å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySessionActivationListener</span> <span class="keyword">implements</span> <span class="title class_">HttpSessionActivationListener</span>, Serializable &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionWillPassivate</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        System.out.println(se.getSession().hashCode()+<span class="string">&quot;å³å°†é’åŒ–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sessionDidActivate</span><span class="params">(HttpSessionEvent se)</span> &#123;</span><br><span class="line">        System.out.println(se.getSession().hashCode()+<span class="string">&quot;å·²ç»æ´»åŒ–&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç™»å½•æ—¶ç»‘å®šç›‘å¬å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/loginController.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginController</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        <span class="comment">// user</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>(username,pwd);</span><br><span class="line">        <span class="comment">// session</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        session.setAttribute(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">        <span class="comment">// ç»‘å®šç›‘å¬å™¨</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;listener&quot;</span>, <span class="keyword">new</span> <span class="title class_">MySessionActivationListener</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h3><p>ä»€ä¹ˆæ˜¯åˆ†é¡µ?</p>
<p>ç®€å•æ¥è¯´:å¤§é‡æ•°æ®æ— æ³•ä¸€æ¬¡æ€§å…¨éƒ¨æ˜¾ç¤ºåœ¨ç½‘é¡µä¸Š?æ€ä¹ˆåŠ?åªèƒ½é€‰å–å…¶ä¸­çš„ä¸€éƒ¨åˆ†,å°†å¤§é‡æ•°æ®åˆ†æˆå¥½å‡ æ®µ,æ¯ä¸€æ®µæˆ‘ä»¬ç”¨ä¸€ä¸ªç½‘é¡µæ˜¾ç¤º,ä¹Ÿå°±æ˜¯ä¸€é¡µ,åœ¨é¡µé¢ä¸Šæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ§åˆ¶æˆ‘ä»¬è¦é€‰æ‹©çš„é¡µé¢.åˆ†é¡µå°±æ˜¯å°†å¤§é‡æ•°æ®åˆ†æˆå¾ˆå¤šé¡µæ˜¾ç¤ºçš„ä¸€ç§å¤„ç†æ‰‹æ®µ.</p>
<p>åˆ†é¡µæœ‰ä»€ä¹ˆå¥½å¤„?</p>
<pre><code>   1é€šè¿‡åˆ†é¡µ,æˆ‘ä»¬ä¸ç”¨ä¸€æ¬¡æ€§å°†æ‰€æœ‰çš„æ•°æ®æŸ¥å‡ºæ¥,åªéœ€å…ˆæŸ¥å‡ºæ¥ä¸€éƒ¨åˆ†,å¯ä»¥å‡å°‘æ•°æ®åº“çš„IOæ•°æ®é‡çš„ä¼ è¾“,é™ä½æ•°æ®åº“è¯»å†™å‹åŠ›,ä»è€Œæé«˜æ•°æ®åº“å“åº”é€Ÿåº¦

    2é¡µé¢ä¹Ÿä¸ç”¨ä¸€æ¬¡æ€§æ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®,å¯ä»¥å‡å°‘æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å¤§é‡æ•°æ®çš„IOä¼ è¾“,ä»è€Œæé«˜æœåŠ¡å™¨çš„å“åº”é€Ÿåº¦

    3æˆ‘ä»¬å¯èƒ½å€¼éœ€è¦å¾ˆå¤šä¿¡æ¯ä¸­å°‘æ•°çš„å‡ æ¡,é‚£ä¹ˆä¼ è¾“å…¶ä»–å¤šä½™çš„æ•°æ®å°±æ˜¯æ— å½¢ä¹‹ä¸­å¯¹äºèµ„æºçš„æµªè´¹,åˆ†é¡µå¯ä»¥å‡å°‘èµ„æºçš„æµªè´¹
</code></pre><p>æ•°æ®åº“ä¸Šå¦‚ä½•å®ç°åˆ†é¡µæŸ¥è¯¢?</p>
<p>select * from student limit 0,5    </p>
<p>sqlè¯­å¥é€šè¿‡limitå…³é”®å­—å®ç°æ•°æ®çš„åˆ†é¡µæŸ¥è¯¢, limitåé¢å¯ä»¥æ”¾ä¸¤ä¸ªæ•´æ•°ä½œä¸ºå‚æ•°,å‰ä¸€ä¸ªå‚æ•°çš„æ„ä¹‰ä¸ºä»é‚£æ¡æ•°æ®å¼€å§‹æŸ¥è¯¢,åä¸€ä¸ªå‚æ•°çš„æ„ä¹‰æ˜¯è¿ç»­å–å‡ºå¤šå°‘æ¡</p>
<p>å¦‚æœæŸ¥è¯¢ ç¬¬n é¡µ,æ¯é¡µxæ¡ æ•°æ®é‚£ä¹ˆsqlè¯­å¥åº”è¯¥å†™æˆSelect <em> from student limit (n-1)</em>x,x</p>
<p>åˆ†é¡µæŸ¥è¯¢çš„sqlè¯­å¥ä»£ç å…¬å¼ä¸º:SELECT <em> FROM emp LIMIT (é¡µç æ•°-1)</em>é¡µå¤§å°,é¡µå¤§å°</p>
<p>ç¬¬ä¸€ç‚¹ ï¼š    index   ,size   start =(index-1)*size;</p>
<p>ç¬¬äºŒç‚¹ï¼š     maxpage =    if(total%size==0){maxpage=total/size}else {maxpage=total/size+1}</p>
<h4 id="åˆ†é¡µå®ç°çš„æ€è·¯"><a href="#åˆ†é¡µå®ç°çš„æ€è·¯" class="headerlink" title="åˆ†é¡µå®ç°çš„æ€è·¯"></a>åˆ†é¡µå®ç°çš„æ€è·¯</h4><p>ç›®æ ‡æ•ˆæœ:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240209140153056.png" alt="image-20240209140153056"></p>
<p>æµè§ˆå™¨å‘åå°å‘é€çš„ä¿¡æ¯åº”è¯¥æ˜¯ä»€ä¹ˆ?</p>
<p>å‚æ•°1:è¦æŸ¥è¯¢çš„æ˜¯ç¬¬å‡ é¡µ</p>
<p>å‚æ•°2:é¡µå¤§å°â€”size</p>
<p>å…¶ä»–å‚æ•°: æŸ¥è¯¢æ¡ä»¶</p>
<p>æœåŠ¡å™¨å‘æµè§ˆå™¨è¿”å›çš„æ•°æ®åº”è¯¥æ˜¯ä»€ä¹ˆ?</p>
<p>æ•°æ®1:å½“å‰é¡µçš„æ‰€æœ‰ä¿¡æ¯  List<Object></p>
<p>æ•°æ®2:å½“å‰ç¬¬å‡ é¡µ            currentPage</p>
<p>æ•°æ®3:ä¿¡æ¯æ€»æ¡æ•°            totalsize</p>
<p>æ•°æ®4:æ€»é¡µç æ•°               totalpage </p>
<p>æ•°æ®5:é¡µå¤§å°                       size</p>
<h3 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h3><h4 id="åŒæ­¥å’Œå¼‚æ­¥"><a href="#åŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="åŒæ­¥å’Œå¼‚æ­¥"></a>åŒæ­¥å’Œå¼‚æ­¥</h4><p>é¦–å…ˆç”¨æˆ·å‘HTTPæœåŠ¡å™¨æäº¤ä¸€ä¸ªå¤„ç†è¯·æ±‚ã€‚æ¥ç€æœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼ŒæŒ‰ç…§é¢„å…ˆç¼–å†™å¥½çš„ç¨‹åºä¸­çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚å’Œæ•°æ®åº“æœåŠ¡å™¨è¿›è¡Œæ•°æ®ä¿¡æ¯äº¤æ¢ã€‚æœ€åï¼ŒæœåŠ¡å™¨å¯¹è¯·æ±‚è¿›è¡Œå“åº”ï¼Œå°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿”å›ä¸€ä¸ªHTMLåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºï¼Œé€šå¸¸ä¼šæœ‰CSSæ ·å¼ä¸°å¯Œé¡µé¢çš„æ˜¾ç¤ºæ•ˆæœã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240209150735103.png" alt="image-20240209150735103"></p>
<p>ä¼˜ç‚¹</p>
<p>å¯ä»¥ä¿ç•™æµè§ˆå™¨åé€€æŒ‰é’®çš„æ­£å¸¸åŠŸèƒ½ã€‚åœ¨åŠ¨æ€æ›´æ–°é¡µé¢çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·å¯ä»¥å›åˆ°å‰ä¸€ä¸ªé¡µé¢çŠ¶æ€ï¼Œæµè§ˆå™¨èƒ½è®°ä¸‹å†å²è®°å½•ä¸­çš„é™æ€é¡µé¢,ç”¨æˆ·é€šå¸¸éƒ½å¸Œæœ›å•å‡»åé€€æŒ‰é’®æ—¶ï¼Œå°±èƒ½å¤Ÿå–æ¶ˆä»–ä»¬çš„å‰ä¸€æ¬¡æ“ä½œï¼ŒåŒæ­¥äº¤äº’å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚.</p>
<p>ç¼ºç‚¹</p>
<p>1åŒæ­¥äº¤äº’çš„ä¸è¶³ä¹‹å¤„ï¼Œä¼šç»™ç”¨æˆ·ä¸€ç§ä¸è¿è´¯çš„ä½“éªŒï¼Œå½“æœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶ï¼Œç”¨æˆ·åªèƒ½ç­‰å¾…çŠ¶æ€ï¼Œé¡µé¢ä¸­çš„æ˜¾ç¤ºå†…å®¹åªèƒ½æ˜¯ç©ºç™½ã€‚</p>
<p>2å› ä¸ºå·²ç»è·³è½¬åˆ°æ–°çš„é¡µé¢,åŸæœ¬åœ¨é¡µé¢ä¸Šçš„ä¿¡æ¯æ— æ³•ä¿å­˜,å¥½å¤šä¿¡æ¯éœ€è¦é‡æ–°å¡«å†™</p>
<p>ä»€ä¹ˆæ˜¯å¼‚æ­¥äº¤äº’</p>
<p>æŒ‡å‘é€ä¸€ä¸ªè¯·æ±‚,ä¸éœ€è¦ç­‰å¾…è¿”å›,éšæ—¶å¯ä»¥å†å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œå³ä¸éœ€è¦ç­‰å¾…ã€‚åœ¨éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å¼€å‘ä¸­éƒ½ä¼šä¼˜å…ˆé€‰æ‹©ä¸éœ€è¦ç­‰å¾…çš„å¼‚æ­¥äº¤äº’æ–¹å¼ã€‚å°†ç”¨æˆ·è¯·æ±‚æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¹¶åé¦ˆç»™ç”¨æˆ·ï¼Œç³»ç»Ÿè¿ç§»ç¨‹åºå·²ç»å¯åŠ¨ï¼Œä½ å¯ä»¥å…³é—­æµè§ˆå™¨äº†ã€‚ç„¶åç¨‹åºå†æ…¢æ…¢åœ°å»å†™å…¥æ•°æ®åº“å»ã€‚è¿™å°±æ˜¯å¼‚æ­¥ã€‚å¼‚æ­¥ä¸ç”¨ç­‰æ‰€æœ‰æ“ä½œç­‰åšå®Œï¼Œå°±å“åº”ç”¨æˆ·è¯·æ±‚ã€‚å³å…ˆå“åº”ç”¨æˆ·è¯·æ±‚ï¼Œç„¶åæ…¢æ…¢å»å†™æ•°æ®åº“ï¼Œç”¨æˆ·ä½“éªŒè¾ƒå¥½</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240209150807275.png" alt="image-20240209150807275"></p>
<p>ä¼˜ç‚¹</p>
<p>1å‰ç«¯ç”¨æˆ·æ“ä½œå’Œåå°æœåŠ¡å™¨è¿ç®—å¯ä»¥åŒæ—¶è¿›è¡Œ,å¯ä»¥å……åˆ†åˆ©ç”¨ç”¨æˆ·æ“ä½œçš„é—´éš”æ—¶é—´å®Œæˆè¿ç®—</p>
<p>2é¡µé¢æ²¡æœ‰è·³è½¬,å“åº”å›æ¥çš„æ•°æ®ç›´æ¥å°±åœ¨åŸé¡µé¢ä¸Š,é¡µé¢åŸæœ‰ä¿¡æ¯å¾—ä»¥ä¿ç•™</p>
<p>ç¼ºç‚¹</p>
<p>å¯èƒ½ç ´åæµè§ˆå™¨åé€€æŒ‰é’®çš„æ­£å¸¸è¡Œä¸ºã€‚åœ¨åŠ¨æ€æ›´æ–°é¡µé¢çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·æ— æ³•å›åˆ°å‰ä¸€ä¸ªé¡µé¢çŠ¶æ€ï¼Œè¿™æ˜¯å› ä¸ºæµè§ˆå™¨ä»…èƒ½è®°å½•çš„å§‹ç»ˆæ˜¯å½“å‰ä¸€ä¸ªçš„é™æ€é¡µé¢ã€‚ç”¨æˆ·é€šå¸¸éƒ½å¸Œæœ›å•å‡»åé€€æŒ‰é’®ï¼Œå°±èƒ½å¤Ÿå–æ¶ˆä»–ä»¬çš„å‰ä¸€æ¬¡æ“ä½œï¼Œä½†æ˜¯åœ¨AJAXè¿™æ ·å¼‚æ­¥çš„ç¨‹åºï¼Œå´æ— æ³•è¿™æ ·åšã€‚</p>
<p>AJAXçš„æœ€å¤§çš„ç‰¹ç‚¹: å¼‚æ­¥è®¿é—®,å±€éƒ¨åˆ·æ–°</p>
<h4 id="AJAXå…³é”®æŠ€æœ¯"><a href="#AJAXå…³é”®æŠ€æœ¯" class="headerlink" title="AJAXå…³é”®æŠ€æœ¯"></a><strong>AJAXå…³é”®æŠ€æœ¯</strong></h4><p>ä½¿ç”¨CSSæ„å»ºç”¨æˆ·ç•Œé¢æ ·å¼,è´Ÿè´£é¡µé¢æ’ç‰ˆå’Œç¾å·¥</p>
<p>ä½¿ç”¨DOMè¿›è¡ŒåŠ¨æ€æ˜¾ç¤ºå’Œäº¤äº’,å¯¹é¡µé¢è¿›è¡Œå±€éƒ¨ä¿®æ”¹</p>
<p>ä½¿ç”¨XMLHttpRequestå¼‚æ­¥è·å–æ•°æ®</p>
<p>ä½¿ç”¨JavaScriptå°†æ‰€æœ‰çš„å…ƒç´ ç»‘å®šåœ¨ä¸€èµ·</p>
<h4 id="AJAXä¹‹éªŒè¯ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨"><a href="#AJAXä¹‹éªŒè¯ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨" class="headerlink" title="AJAXä¹‹éªŒè¯ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨"></a>AJAXä¹‹éªŒè¯ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨</h4><p>JSè¡¨å•éªŒè¯åªèƒ½æ ¡éªŒæ ¼å¼æ˜¯å¦æ­£ç¡®,ä½†æ˜¯æ— æ³•éªŒè¯ç”¨æˆ·åæ˜¯å¦å·²ç»å­˜åœ¨,è¿™ä¸ªå°±éœ€è¦åå°ç¨‹åºæ¥å—åˆ°æ•°æ®åé€šè¿‡æŸ¥è¯¢æ‰èƒ½å¤Ÿå®Œæˆçš„,é‚£ä¹ˆè¿™é‡Œå°±éå¸¸é€‚ç”¨äºä½¿ç”¨å¼‚æ­¥æ–¹å¼æ ¡éªŒ,ä¿è¯ç”¨äºæ•°æ®æäº¤å,ä¸šåŠ¡å®Œæˆçš„æˆåŠŸç‡.æå‡ç”¨äºä½“éªŒæ„Ÿ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240210112740449.png" alt="image-20240210112740449"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/10 - 02 - 10 - 11:59</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.controller</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/unameCheckServlet.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UnameCheckServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">uname</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">        System.out.println(uname);</span><br><span class="line">        <span class="type">String</span> <span class="variable">unameInfo</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;oyy&quot;</span>.equals(uname))&#123;</span><br><span class="line">            unameInfo=<span class="string">&quot;è¯¥ç”¨æˆ·åè¢«å ç”¨&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            unameInfo=<span class="string">&quot;âˆš&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        resp.getWriter().print(unameInfo);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: pc</span><br><span class="line">  Date: <span class="number">2024</span>/<span class="number">2</span>/<span class="number">9</span></span><br><span class="line">  Time: <span class="number">14</span>:<span class="number">18</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      <span class="comment">//è·å–æ¡†ä¸­å†…å®¹</span></span><br><span class="line">      <span class="keyword">var</span> xhr ;</span><br><span class="line">      function <span class="title function_">checkUname</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">unameDOM</span> <span class="operator">=</span> document.getElementById(<span class="string">&quot;unameInput&quot;</span>);</span><br><span class="line">        <span class="type">var</span> <span class="variable">unameText</span> <span class="operator">=</span> unameDOM.value;</span><br><span class="line">        <span class="type">var</span> <span class="variable">unameInfo</span> <span class="operator">=</span> document.getElementById(<span class="string">&quot;unameInfo&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span> == unameText || unameText== <span class="string">&#x27;&#x27;</span>)&#123;</span><br><span class="line">          unameInfo.innerText=<span class="string">&quot;ç”¨æˆ·åä¸ä¸ºç©º&quot;</span>;</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        unameInfo.innerText=<span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘é€å¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">        <span class="comment">//è·å–XMLHttpRequestå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥å¸®åŠ©æˆ‘ä»¬å‘é€å¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">        xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        <span class="comment">//ä½¿ç”¨xhrå¯¹è±¡xhr.open(&quot;è¯·æ±‚æ–¹å¼&quot;,&quot;è¯·æ±‚çš„URL&quot;,æ˜¯å¦å¼€å§‹å¼‚æ­¥)</span></span><br><span class="line">        xhr.open(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;unameCheckServlet.do?uname=&quot;</span>+unameText,<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®å›è°ƒå‡½æ•°</span></span><br><span class="line">        xhr.onreadystatechange = showReturnInfo;</span><br><span class="line">        <span class="comment">//æ­£å¼å‘é€è¯·æ±‚</span></span><br><span class="line">        <span class="comment">//å› ä¸ºæ˜¯getæ–¹å¼è¯·æ±‚å‚æ•°åŠ åˆ°urlåé¢å¦‚æœæ˜¯postæ–¹å¼è¯·æ±‚è¦ç”¨xhr.sendæ–¹å¼å‘é€å‚æ•°</span></span><br><span class="line">        xhr.send(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      function <span class="title function_">showReturnInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState==<span class="number">4</span> &amp;&amp;xhr.status==<span class="number">200</span>)&#123;</span><br><span class="line">          <span class="type">var</span> <span class="variable">returnInfo</span> <span class="operator">=</span> xhr.responseText;</span><br><span class="line">          alert(returnInfo);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;form action=<span class="string">&quot;myServlet.do&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;unameInput&quot;</span> name=<span class="string">&quot;uname&quot;</span> onblur=<span class="string">&quot;checkUname()&quot;</span>&gt;&lt;span id=<span class="string">&quot;unameInfo&quot;</span> style=<span class="string">&quot;color: red&quot;</span>&gt;&lt;/span&gt;&lt;br&gt;</span><br><span class="line">    å¯†ç :&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;pwd&quot;</span>&gt;&lt;br/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="è®¤è¯†JSONæ ¼å¼"><a href="#è®¤è¯†JSONæ ¼å¼" class="headerlink" title="è®¤è¯†JSONæ ¼å¼"></a>è®¤è¯†JSONæ ¼å¼</h4><p>æ€»ç»“:</p>
<p>å¦‚æœå“åº”çš„æ•°æ®æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…å¯¹è±¡é›†åˆ,æ•°æ®å¤„ç†èµ·æ¥ä¼šéå¸¸éº»çƒ¦,å¯ä»¥ä½¿ç”¨JSONæ ¼å¼å¤„ç†.</p>
<p>JSON(JavaScriptObject Notation, JS å¯¹è±¡ç®€è°±) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼</p>
<p>1è½»é‡çº§,åœ¨è¿™é‡Œç”¨å®ƒä¸æ˜¯ä¸ºäº†å‰å®³çš„åŠŸèƒ½ä»£ç ,è€Œæ˜¯ä¸ºäº†å®ç°æ•°æ®è½¬æ¢</p>
<p>2 Json æ ¼å¼æ—¢èƒ½è€ƒè™‘åˆ°å‰ç«¯å¯¹è±¡çš„ç‰¹ç‚¹ åŒæ—¶ä¹Ÿèƒ½å…¼é¡¾åå°å¯¹è±¡ä¿¡æ¯çš„ç‰¹ç‚¹</p>
<p>3 Json æ ¼å¼å¯ä»¥è¢«å‰ç«¯ç›´æ¥è¯†åˆ«å¹¶è§£ææˆå¯¹è±¡</p>
<p>4 jQueryå½¢å¼å®ç°AJAXé»˜è®¤å‰åç«¯ä¼ é€’æ•°æ®çš„æ ¼å¼å°±æ˜¯JSON</p>
<p><strong>JSONæ ¼å¼åˆ›å»ºå¯¹è±¡</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#123;â€œå±æ€§åâ€:&quot;å±æ€§å€¼&quot;&#125;</span></span><br><span class="line"><span class="type">var</span> <span class="variable">person</span> <span class="operator">=</span> &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;zhangsan&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">10</span>&#125;</span><br><span class="line">alert(person.name)</span><br><span class="line"></span><br><span class="line"><span class="type">var</span> <span class="variable">persons</span> <span class="operator">=</span> [&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;zhangsan&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">10</span>&#125;,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;lili&quot;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">10</span>&#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">var</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ; i &lt; persons.length ; i++)&#123;</span><br><span class="line">	<span class="type">var</span> <span class="variable">person</span> <span class="operator">=</span> person[i];</span><br><span class="line">     cosole.log(person.name)                              </span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">var</span> personStr=<span class="string">&#x27;&#123;&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:10&#125;&#x27;</span><span class="comment">//æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment">//å¯ä»¥ç›´æ¥æŠŠä¸Šé¢è¿™ç§æ ¼å¼çš„å­—ç¬¦ä¸²ç›´æ¥è½¬æ¢æˆå¯¹è±¡</span></span><br><span class="line">    <span class="type">var</span> <span class="variable">p</span> <span class="operator">=</span> JSON.parse(personStr)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">                                  </span><br></pre></td></tr></table></figure>
<p>è¿™æ ·è¦æ˜¯åå°å“åº”ç»™å‰ç«¯ï¼Œå‰ç«¯å°±èƒ½ç›´æ¥è·å¾—äº†ï¼</p>
<p><strong>JSONæ ¼å¼ä¼ é€’æ•°æ®</strong></p>
<p>å…ˆå¯¼å…¥ä¸€ä¸ªjaråŒ…å«gsonç„¶ååˆ©ç”¨é‡Œé¢çš„apiå°±å¯ä»¥å°†åç«¯åˆ›å»ºçš„å¯¹è±¡ç›´æ¥å¼„æˆä¸€ä¸ªjsonæ ¼å¼çš„sträº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/testServlet.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;æ™“æ˜1&quot;</span>,<span class="number">10</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;æ™“æ˜2&quot;</span>,<span class="number">10</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="type">User</span> <span class="variable">user3</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;æ™“æ˜3&quot;</span>,<span class="number">10</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="type">User</span> <span class="variable">user4</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;æ™“æ˜4&quot;</span>,<span class="number">10</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="type">User</span> <span class="variable">user5</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;æ™“æ˜5&quot;</span>,<span class="number">10</span>,<span class="string">&quot;ç”·&quot;</span>,<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        ArrayList&lt;User&gt; list =<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(list,user1,user2,user3,user4,user5);</span><br><span class="line">        <span class="comment">// å“åº”æ™®é€šæ–‡æœ¬æ•°æ®</span></span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="type">GsonBuilder</span> <span class="variable">gsonBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GsonBuilder</span>().setDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> gsonBuilder.create();</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> gson.toJson(list);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        resp.getWriter().print(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title%sSourceCode%lt;/title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      <span class="keyword">var</span> xhr ;</span><br><span class="line">      function <span class="title function_">testData</span><span class="params">()</span>&#123;</span><br><span class="line">        xhr =<span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.open(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;testServlet.do&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">        xhr.onreadystatechange=showReturnInfo;</span><br><span class="line">        xhr.send(<span class="literal">null</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      function <span class="title function_">showReturnInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState==<span class="number">4</span> &amp;&amp; xhr.status==<span class="number">200</span>)&#123;</span><br><span class="line">          <span class="type">var</span> <span class="variable">info</span> <span class="operator">=</span>xhr.responseText;</span><br><span class="line">          <span class="keyword">var</span> users=JSON.parse(info)</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">var</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;users.length ; i++) &#123;</span><br><span class="line">            <span class="type">var</span> <span class="variable">user</span> <span class="operator">=</span>users[i];</span><br><span class="line">            console.log(user.uname)</span><br><span class="line">            console.log(user.age)</span><br><span class="line">            console.log(user.gender)</span><br><span class="line">            console.log(user.birthday)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;input type=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;æµ‹è¯•&quot;</span> onclick=<span class="string">&quot;testData()&quot;</span>&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h3><p>æ€»ä¹‹ï¼Œæ¡†æ¶æ˜¯ä¸€ä¸ªåŠæˆå“ï¼Œå·²ç»å¯¹åŸºç¡€çš„ä»£ç è¿›è¡Œäº†å°è£…å¹¶æä¾›ç›¸åº”çš„APIï¼Œå¼€å‘è€…åœ¨ä½¿ç”¨æ¡†æ¶æ˜¯ç›´æ¥è°ƒç”¨å°è£…å¥½çš„APIå¯ä»¥çœå»å¾ˆå¤šä»£ç ç¼–å†™ï¼Œä»è€Œæé«˜å·¥ä½œæ•ˆç‡å’Œå¼€å‘é€Ÿåº¦ã€‚</p>
<p>ORMï¼ŒObject-Relationl Mappingï¼Œå¯¹è±¡å…³ç³»æ˜ å°„ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨å…³ç³»å‹æ•°æ®åº“å’Œå¯¹è±¡ä¹‹é—´ä½œä¸€ä¸ªæ˜ å°„ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨å…·ä½“çš„æ“ä½œæ•°æ®åº“çš„æ—¶å€™ï¼Œåªè¦åƒå¹³æ—¶æ“ä½œå¯¹è±¡ä¸€æ ·æ“ä½œå®ƒå°±å¯ä»¥äº†ï¼ŒORMæ¡†æ¶ä¼šæ ¹æ®æ˜ å°„å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œï¼Œå°±ä¸éœ€è¦å†å»å’Œå¤æ‚çš„SQLè¯­å¥æ‰“äº¤é“äº†ã€‚</p>
<h3 id="Mybatisåˆæ¬¡ä½¿ç”¨"><a href="#Mybatisåˆæ¬¡ä½¿ç”¨" class="headerlink" title="Mybatisåˆæ¬¡ä½¿ç”¨"></a>Mybatisåˆæ¬¡ä½¿ç”¨</h3><h4 id="åˆæ¬¡ä½¿ç”¨MyBatis"><a href="#åˆæ¬¡ä½¿ç”¨MyBatis" class="headerlink" title="åˆæ¬¡ä½¿ç”¨MyBatis"></a>åˆæ¬¡ä½¿ç”¨MyBatis</h4><p>ä½†å‡¡ä½¿ç”¨æ¡†æ¶åˆ†ä¸‰æ­¥</p>
<p>1ã€å¯¼å…¥jaræ–‡ä»¶ maven</p>
<p>2ã€å¤„ç†é…ç½®æ–‡ä»¶</p>
<p>3ã€å¼€å‘ä¸šåŠ¡ä»£ç </p>
<p><strong>é…ç½®æ–‡ä»¶</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.bitzh<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatisTest01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mysqlConnecter--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis æ ¸å¿ƒjar åŒ…--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--junit--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ—¥å¿—å·¥å…·åŒ…--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åå†recourseä¸­å¯¼å…¥é…ç½®ç„¶åä¿®æ”¹ä¸€äº›ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/mytestdb?useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="symbol">&amp;amp;</span>serverTimezone=Asia/Shanghai&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;org/mybatis/example/BlogMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨recoursesä¸­åˆ›å»ºå¯¹åº”å®ç°çš„xmlæ–‡ä»¶æ¥æ˜ å°„ï¼Œä½†æ˜¯xmlæ–‡ä»¶è¦æ”¾åœ¨recoursesä¸­å› ä¸ºç¼–è¯‘çš„æ—¶å€™ideaä¸ä¼šç¼–è¯‘xmlæ–‡ä»¶è¦æ”¾åœ¨recoursesä¸­æ‰å¯ä»¥ç¼–è¯‘ï¼Œç„¶åæœ€å¥½æ˜¯åŒä¸€ç±»å‹çš„åŒ…ç»“æ„ä¸‹æ”¾xmlæ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ›å»ºå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/13 - 02 - 13 - 9:23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.pojo</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer deptno;</span><br><span class="line">    <span class="keyword">private</span> String dname;</span><br><span class="line">    <span class="keyword">private</span> String loc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ›å»ºæ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.mapper;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/13 - 02 - 13 - 9:21</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.mapper</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DeptMapper</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ç„¶åæµ‹è¯•å¼€å‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Dept;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/13 - 02 - 13 - 9:31</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindAll</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">ssfb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resourceAsStream = Resources.getResourceAsStream(<span class="string">&quot;sqlMapConfig.xml&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> ssfb.build(resourceAsStream);</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlsession</span> <span class="operator">=</span> factory.openSession();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è°ƒç”¨sqlè¯­å¥</span></span><br><span class="line">        List&lt;Dept&gt; list = sqlsession.selectList(<span class="string">&quot;findAll&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Dept dept : list) &#123;</span><br><span class="line">            System.out.println(dept);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sqlsession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="MyBatisé…ç½®è¯¦è§£"><a href="#MyBatisé…ç½®è¯¦è§£" class="headerlink" title="MyBatisé…ç½®è¯¦è§£"></a>MyBatisé…ç½®è¯¦è§£</h4><p>é¡¹ç›®ä¸­æ·»åŠ ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">log4j2</span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">log4j1 </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨mybatis.cfg.xmlä¸­é…ç½®MyBatisæ‰€ä½¿ç”¨çš„å…·ä½“æ—¥å¿—å®ç°ã€‚å¦‚æœä¸æŒ‡å®šå°†è‡ªåŠ¨æœç´¢ã€‚å¯èƒ½ä¼šæœåˆ°log4jï¼Œä½†æ˜¯å¦‚æœä¼˜å…ˆæœåˆ°äº†å…¶ä»–çš„æ—¥å¿—å®ç°å‘¢ï¼Œæ‰€ä»¥è¿˜æ˜¯è®¾ç½®ä¸ºå¥½ã€‚è¿™ä¸€æ¥log4jå°±è·‘ä¸äº†äº†ã€‚</p>
<p>log4j 1</p>
<p>å°†log4j.propertiesæ–‡ä»¶è´Ÿè´£åˆ°srcä¸‹ã€‚å¦å¤–åœ¨å…¶ä¸­å¯ä»¥å°†å…¨å±€çš„æ—¥å¿—çº§åˆ«è°ƒé«˜ï¼Œé¿å…å¤§é‡debugä¿¡æ¯çš„å¹²æ‰°ã€‚åŒæ—¶å°†å¯¹æ˜ å°„æ–‡ä»¶çš„æ“ä½œè°ƒä½ï¼Œå¯ä»¥ç”¨æ¥æ˜¾ç¤ºSQLè¯­å¥çš„è°ƒè¯•ä¿¡æ¯ã€‚å¼€å‘é˜¶æ®µï¼Œå»ºè®®å¯åŠ¨æ§åˆ¶çš„æ—¥å¿—ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#å®šä¹‰å…¨å±€æ—¥å¿—çº§åˆ«è°ƒè¯•é˜¶æ®µæ¨èdebug debug  error warn info debug</span><br><span class="line">log4j.rootLogger=debug,stdout </span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.Target=System.err</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.SimpleLayout</span><br><span class="line">log4j.appender.logfile=org.apache.log4j.FileAppender</span><br><span class="line">log4j.appender.logfile.File=d:/bitzh.log</span><br><span class="line">log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.logfile.layout.ConversionPattern=%d&#123;yyyy-MM-dd HH:mm:ss&#125; %l %F %p %m%n</span><br></pre></td></tr></table></figure>
<p>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¯ä»¥é€‰æ‹©çš„å…¶ä»–æ—¥å¿—å¤„ç†æ–¹å¼</p>
<p>log4j 2</p>
<p>å°†log4j2.xmlæ–‡ä»¶è´Ÿè´£åˆ°resourcesä¸‹ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Configuration</span> <span class="attr">status</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_ERR&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;YYYY-MM-dd HH:mm:ss&#125; [%t] %-5p %c&#123;1&#125;:%L - %msg%n&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingFile</span> <span class="attr">name</span>=<span class="string">&quot;RollingFile&quot;</span> <span class="attr">filename</span>=<span class="string">&quot;log/test.log&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">filepattern</span>=<span class="string">&quot;$&#123;logPath&#125;/%d&#123;YYYYMMddHHmmss&#125;-fargo.log&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;YYYY-MM-dd HH:mm:ss&#125; [%t] %-5p %c&#123;1&#125;:%L - %msg%n&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;10 MB&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;20&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingFile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Root</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¯ä»¥æŒ‡å®šæ—¥å¿—æ‰“å°æ–¹å¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240213095519171.png" alt="image-20240213095519171"></p>
<h4 id="å…³äºäº‹åŠ¡é…ç½®"><a href="#å…³äºäº‹åŠ¡é…ç½®" class="headerlink" title="å…³äºäº‹åŠ¡é…ç½®"></a>å…³äºäº‹åŠ¡é…ç½®</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240213201943009.png" alt="image-20240213201943009"></p>
<h4 id="æ˜ å°„æ–‡ä»¶åŠ è½½æ–¹å¼"><a href="#æ˜ å°„æ–‡ä»¶åŠ è½½æ–¹å¼" class="headerlink" title="æ˜ å°„æ–‡ä»¶åŠ è½½æ–¹å¼"></a>æ˜ å°„æ–‡ä»¶åŠ è½½æ–¹å¼</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240213202028563.png" alt="image-20240213202028563"></p>
<h4 id="ç±»åˆ«å"><a href="#ç±»åˆ«å" class="headerlink" title="ç±»åˆ«å"></a>ç±»åˆ«å</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240213202510591.png" alt="image-20240213202510591"></p>
<h4 id="å¤–éƒ¨å±æ€§é…ç½®æ–‡ä»¶å­˜å‚¨æ•°æ®åº“è¿æ¥ä¿¡æ¯"><a href="#å¤–éƒ¨å±æ€§é…ç½®æ–‡ä»¶å­˜å‚¨æ•°æ®åº“è¿æ¥ä¿¡æ¯" class="headerlink" title="å¤–éƒ¨å±æ€§é…ç½®æ–‡ä»¶å­˜å‚¨æ•°æ®åº“è¿æ¥ä¿¡æ¯"></a>å¤–éƒ¨å±æ€§é…ç½®æ–‡ä»¶å­˜å‚¨æ•°æ®åº“è¿æ¥ä¿¡æ¯</h4><p>åœ¨<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240213203848186.png" alt="image-20240213203848186"></p>
<p>é‡Œé¢æ–°å»ºç„¶åæ‰¾åˆ°</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- xmlæ–‡æ¡£çº¦æŸ çº¦æŸxmlæ–‡æ¡£ä¸­å¯ä»¥æœ‰å“ªäº›æ ‡ç­¾,å“ªäº›å±æ€§,ä»¥åŠæ ‡ç­¾çš„åŒ…å«å…³ç³»å’Œé¡ºåº....</span></span><br><span class="line"><span class="comment">dtd çº¦æŸ</span></span><br><span class="line"><span class="comment">schema çº¦æŸ</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è®¾ç½®æ—¥å¿—å¤„ç†æ–¹å¼--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;LOG4J&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è®¾ç½®å®ä½“ç±»åˆ«å--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        é€šè¿‡åŒ…æ‰«æç»™æ‰€æœ‰çš„å®ä½“ç±»èµ·åˆ«å</span></span><br><span class="line"><span class="comment">        ç»™æŒ‡å®šæŠ¥åä¸‹çš„æ‰€æœ‰ç±»èµ·åˆ«å</span></span><br><span class="line"><span class="comment">        é»˜è®¤æ¯ä¸ªå®ä½“ç±»çš„åˆ«åæ˜¯é¦–å­—æ¯å°å†™çš„ç±»å</span></span><br><span class="line"><span class="comment">        Dept   dept</span></span><br><span class="line"><span class="comment">        Emp    emp</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.bitzh.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®æ•°æ®åº“é“¾æ¥ä¿¡æ¯--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ•°æ®æº1--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--ä¸€ä¸ªæ•°æ®æº--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc_driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc_url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc_username&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc_password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åŠ è½½æ˜ å°„æ–‡ä»¶çš„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/bitzh/mapper/DeptMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="SqlSessionä¸‰ç§æŸ¥è¯¢æ–¹æ³•"><a href="#SqlSessionä¸‰ç§æŸ¥è¯¢æ–¹æ³•" class="headerlink" title="SqlSessionä¸‰ç§æŸ¥è¯¢æ–¹æ³•"></a>SqlSessionä¸‰ç§æŸ¥è¯¢æ–¹æ³•</h4><p>Mybatisæ™®é€šæ¨¡å¼åˆ†å¼€å‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240214100055334.png" alt="image-20240214100055334"></p>
<p>ä¼ ç»Ÿå¼€å‘æ¨¡å¼å¾ˆå°‘ç”¨äº†ä½†æ˜¯ä¸ºäº†åé¢æ›´åŠ ç†è§£å…ˆå­¦ä¸€ä¸‹ï¼ŒåæœŸä¹Ÿæ˜¯åŒæ ·çš„æ“ä½œï¼Œå°±æ˜¯åœ¨å®ç°ç±»é‡Œé¢è°ƒç”¨SqlSessionå¯¹è±¡é‡Œçš„APIæ¥å®ç°å¢åˆ æ”¹æŸ¥çš„æ“ä½œ</p>
<p>å‡†å¤‡Mapperæ˜ å°„æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;EmpMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    è¿”å›å•ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">    public Emp findOne();</span></span><br><span class="line"><span class="comment">    id ç›¸å½“äºæ–¹æ³•å</span></span><br><span class="line"><span class="comment">    resultType ç›¸å½“äºè¿”å›å€¼ç±»å‹</span></span><br><span class="line"><span class="comment">        !!!sqlè¯­å¥çš„æŸ¥è¯¢ç»“æœç”¨å“ªä¸ªç±»æ¥è¿›è¡Œå°è£… å¦‚æœè¿”å›å€¼ç±»å‹æ˜¯é›†åˆ,è¿™é‡Œå†™çš„ä¹Ÿæ˜¯é›†åˆä¸­çš„å…ƒç´ å¯¹åº”çš„ç±»,ä¸æ˜¯é›†åˆæœ¬èº«ä½œä¸ºç±»å‹</span></span><br><span class="line"><span class="comment">    paramaterType å‚æ•°ç±»å‹</span></span><br><span class="line"><span class="comment">    SQLè¯­å¥å°±æ˜¯å…·ä½“çš„æ–¹æ³•ä½“çš„å®ç°</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¿”å›å•ä¸ªå¯¹è±¡--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findOne&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        select * from emp where empno = 7499</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    è¿”å›å¤šä¸ªå¯¹è±¡Listé›†åˆ</span></span><br><span class="line"><span class="comment">    æŸ¥è¯¢å…¨éƒ¨çš„å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">    public List&lt;Emp&gt; findAll()</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        select * from emp</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¿”å›å¤šä¸ªå¯¹è±¡çš„Mapé›†åˆ</span></span><br><span class="line"><span class="comment">    æŠŠæŸ¥è¯¢å‡ºæ¥çš„æ•°æ®ä¸­çš„æŸä¸€åˆ—ä½œä¸ºé”®,æ•´æ¡æ•°æ®å°è£…çš„å¯¹è±¡ä½œä¸ºå€¼</span></span><br><span class="line"><span class="comment">    public Map&lt;key,Emp&gt; findEmpMap()</span></span><br><span class="line"><span class="comment">    &lt;empno,Emp&gt;</span></span><br><span class="line"><span class="comment">    &lt;key,Emp&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">        select * from emp</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>sqlMapConfigä¸­å¯¼å…¥EmpMapperæ˜ å°„æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åŠ è½½mapperæ˜ å°„æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/msb/mapper/DeptMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/msb/mapper/EmpMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œç°åœ¨æµ‹è¯•æ¨¡å—ä¸­å†™ï¼Œåˆ°æ—¶å€™åœ¨implä¸­å†™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Emp;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/14 - 02 - 14 - 10:23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">ssfb</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resourceAsStream = Resources.getResourceAsStream(<span class="string">&quot;sqlMapConfig.xml&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory factory=ssfb.build(resourceAsStream) ;</span><br><span class="line">        sqlSession=factory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectOne</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å•ä¸ªå¯¹è±¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;sqlSessionæŸ¥è¯¢å•ä¸ªå¯¹è±¡&quot;</span>);</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> sqlSession.selectOne(<span class="string">&quot;findOne&quot;</span>);</span><br><span class="line">        System.out.println(emp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å¤šä¸ªå¯¹è±¡çš„Listé›†åˆ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;sqlSessionæŸ¥è¯¢å¯¹è±¡Listé›†åˆ&quot;</span>);</span><br><span class="line">        List&lt;Emp&gt; emps = sqlSession.selectList(<span class="string">&quot;EmpMapper.findAll&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectMap</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å¤šä¸ªå¯¹è±¡çš„Mapé›†åˆ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;sqlSessionæŸ¥è¯¢å¯¹è±¡Mapé›†åˆ&quot;</span>);</span><br><span class="line">        Map&lt;Integer, Emp&gt; empMap = sqlSession.selectMap(<span class="string">&quot;findEmpMap&quot;</span>, <span class="string">&quot;EMPNO&quot;</span>);</span><br><span class="line">        Set&lt;Integer&gt; empnos = empMap.keySet();</span><br><span class="line">        <span class="keyword">for</span> (Integer empno : empnos) &#123;</span><br><span class="line">            System.out.println(empno+<span class="string">&quot; :&quot;</span> +empMap.get(empno));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// å…³é—­SQLSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="sqlSessionä¸­ä¼ é€’å‚æ•°çš„ä¸‰ç§æ–¹å¼"><a href="#sqlSessionä¸­ä¼ é€’å‚æ•°çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="sqlSessionä¸­ä¼ é€’å‚æ•°çš„ä¸‰ç§æ–¹å¼"></a>sqlSessionä¸­ä¼ é€’å‚æ•°çš„ä¸‰ç§æ–¹å¼</h4><p>1 å•ä¸ªåŸºç¡€æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°</p>
<p>2 å¤šä¸ªåŸºç¡€æ•°æ®ç±»å‹çš„map é›†åˆä½œä¸ºå‚æ•°</p>
<p>3 å¼•ç”¨ç±»å‹ä½œä¸ºå‚æ•° </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;EmpMapper2&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    å‚æ•°ä¸ºä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">    æ ¹æ®å‘˜å·¥å·¥å·æŸ¥è¯¢å‘˜å·¥çš„å…¨éƒ¨ä¿¡æ¯,è¿”å›å•ä¸ªå‘˜å·¥å¯¹è±¡</span></span><br><span class="line"><span class="comment">    public Emp findByEmpno(int empno);</span></span><br><span class="line"><span class="comment">    parameterType åœ¨æœ‰å‚æ•°æƒ…å†µä¸‹ä¹Ÿæ˜¯å¯ä»¥çœç•¥ä¸å†™  mybatis å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè‡ªåŠ¨åˆ¤æ–­</span></span><br><span class="line"><span class="comment">    å¦‚æœè¦å†™parameterType é‚£ä¹ˆå°±è¦å†™å¯¹</span></span><br><span class="line"><span class="comment">    åœ¨SQLè¯­å¥ä¸Šå¯ä»¥ä½¿ç”¨$&#123;&#125;  #&#123;&#125; ä»£è¡¨å‚æ•°çš„å ä½</span></span><br><span class="line"><span class="comment">    å¦‚æœå‚æ•°æ˜¯å•ä¸ªåŸºæœ¬æ•°æ®ç±»å‹,&#123;&#125;ä¸­åå­—å¯ä»¥éšä¾¿å†™,è§åçŸ¥æ„</span></span><br><span class="line"><span class="comment">    $&#123;&#125; ä»£è¡¨mybatisåº•å±‚ä½¿ç”¨Statmentè¯­å¥å¯¹è±¡,å‚æ•°æ˜¯ä»¥å­—ç¬¦ä¸²æ‹¼æ¥çš„å½¢å¼è®¾ç½®</span></span><br><span class="line"><span class="comment">    #&#123;&#125; ä»£è¡¨mybatisåº•å±‚ä½¿ç”¨çš„preparedStatmentè¯­å¥å¯¹è±¡,å‚æ•°ä½¿ç”¨?ä½œä¸ºå ä½ç¬¦å¤„ç†</span></span><br><span class="line"><span class="comment">    #&#123;&#125; ä»¥åå¸¸ç”¨</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByEmpno&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        select  * from emp where empno = #&#123;empno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    å‚æ•°ä¸ºmapé›†åˆ</span></span><br><span class="line"><span class="comment">    æŸ¥è¯¢æŒ‡å®šéƒ¨é—¨å·å’ŒæŒ‡å®šæœ€ä½è–ªèµ„çš„å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">    20 å·éƒ¨é—¨ ä¸”å·¥èµ„åœ¨1500ä»¥ä¸Šçš„å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">    public List&lt;Emp&gt; findEmpByDeptnoAndSal(int deptno,double sal);</span></span><br><span class="line"><span class="comment">    &lt;  &gt;  æœ€å¥½è¦è¿›è¡Œè½¬è¯‘å¤„ç†,å‚ç…§HTMLè½¬è¯‘  w3schoolåœ¨çº¿æ–‡æ¡£ä¸­æœ‰è½¬è¯‘ç¬¦å·å¯¹åº”è§„åˆ™</span></span><br><span class="line"><span class="comment">     Map&lt;String,Object&gt; args=new HashMap&lt;&gt;();</span></span><br><span class="line"><span class="comment">        args.put(&quot;deptno&quot;, 20);</span></span><br><span class="line"><span class="comment">        args.put(&quot;sal&quot;, 1500.0);</span></span><br><span class="line"><span class="comment">    #&#123;&#125;ä¸­å†™çš„æ˜¯mapé›†åˆä¸­,å‚æ•°çš„é”®</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpByDeptnoAndSal&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">        select * from emp where deptno = #&#123;deptno&#125; and sal <span class="symbol">&amp;gt;</span>= #&#123;sal&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   å‚æ•°ä¸ºå¯¹è±¡</span></span><br><span class="line"><span class="comment">   emp &gt;&gt;&gt;  deptno   sal</span></span><br><span class="line"><span class="comment">   å‚æ•°æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»å‹,é‚£ä¹ˆ #&#123;&#125;ä¸­å†™çš„æ˜¯å‚æ•°çš„å±æ€§å</span></span><br><span class="line"><span class="comment">   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpByDeptnoAndSal2&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        select * from emp where deptno = #&#123;deptno&#125; and sal <span class="symbol">&amp;gt;</span>= #&#123;sal&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">ssfb</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resourceAsStream = Resources.getResourceAsStream(<span class="string">&quot;sqlMapConfig.xml&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory factory=ssfb.build(resourceAsStream) ;</span><br><span class="line">        sqlSession=factory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSingleArg</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æµ‹è¯•å•ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°</span></span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> sqlSession.selectOne(<span class="string">&quot;findByEmpno&quot;</span>, <span class="number">7499</span>);</span><br><span class="line">        System.out.println(emp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMapArg</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æµ‹è¯•Mapé›†åˆä½œä¸ºå‚æ•°</span></span><br><span class="line">        Map&lt;String,Object&gt; args=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        args.put(<span class="string">&quot;deptno&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        args.put(<span class="string">&quot;sal&quot;</span>, <span class="number">3000.0</span>);</span><br><span class="line">        List&lt;Emp&gt; emps = sqlSession.selectList(<span class="string">&quot;findEmpByDeptnoAndSal&quot;</span>, args);</span><br><span class="line">        emps.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEmpArg</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æµ‹è¯•Mapé›†åˆä½œä¸ºå‚æ•°</span></span><br><span class="line">        <span class="type">Emp</span> <span class="variable">arg</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        arg.setDeptno(<span class="number">10</span>);</span><br><span class="line">        arg.setSal(<span class="number">2000.0</span>);</span><br><span class="line">        List&lt;Emp&gt; emps = sqlSession.selectList(<span class="string">&quot;findEmpByDeptnoAndSal2&quot;</span>, arg);</span><br><span class="line">        emps.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// å…³é—­SQLSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="SqlSessionå®ç°CRUDå®Œæˆå¢åˆ æ”¹"><a href="#SqlSessionå®ç°CRUDå®Œæˆå¢åˆ æ”¹" class="headerlink" title="SqlSessionå®ç°CRUDå®Œæˆå¢åˆ æ”¹"></a>SqlSessionå®ç°CRUDå®Œæˆå¢åˆ æ”¹</h4><p><strong>æäº¤</strong></p>
<p>Mapper.xmlæ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;EmpMapper3&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¢åˆ æ”¹çš„è¿”å›å€¼éƒ½æ˜¯int</span></span><br><span class="line"><span class="comment">    public int addEmp(Emp emp)&#123;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    resultTypeæ— éœ€æŒ‡å®šï¼Œæ²¡æœ‰resultType</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addEmp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        insert into emp values(#&#123;empno&#125;,#&#123;ename&#125;,#&#123;job&#125;,#&#123;mgr&#125;,#&#123;hiredate&#125;,#&#123;sal&#125;,#&#123;comm&#125;,#&#123;deptno&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>sqlMapConfigå¢åŠ ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/bitzh/mapper/DeptMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/bitzh/mapper/EmpMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/bitzh/mapper/EmpMapper2.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/bitzh/mapper/EmpMapper3.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>testæ–‡ä»¶ä¸­å¢åŠ å®ç°æˆ–è€…ç”¨æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Emp;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/14 - 02 - 14 - 10:23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">ssfb</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resourceAsStream = Resources.getResourceAsStream(<span class="string">&quot;sqlMapConfig.xml&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory factory=ssfb.build(resourceAsStream) ;</span><br><span class="line">        sqlSession=factory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInsert</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>,<span class="string">&quot;oyy&quot;</span>,<span class="string">&quot;SALESMAN&quot;</span>,<span class="number">7839</span>,<span class="keyword">new</span> <span class="title class_">Date</span>(),<span class="number">3100.0</span>,<span class="number">200.0</span>,<span class="number">10</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> sqlSession.insert(<span class="string">&quot;addEmp&quot;</span>, emp);</span><br><span class="line">        System.out.println(rows);</span><br><span class="line">        <span class="comment">//æ‰‹åŠ¨æäº¤</span></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// å…³é—­SQLSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…åœ¨sqlSessionfactory.openSession(true)å¢åŠ å±æ€§trueæ¥è‡ªåŠ¨commit</p>
<p><strong>ä¿®æ”¹**</strong>å’Œåˆ é™¤**</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Emp;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/14 - 02 - 14 - 10:23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">ssfb</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resourceAsStream = Resources.getResourceAsStream(<span class="string">&quot;sqlMapConfig.xml&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory factory=ssfb.build(resourceAsStream) ;</span><br><span class="line">        sqlSession=factory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInsert</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>,<span class="string">&quot;oyy&quot;</span>,<span class="string">&quot;SALESMAN&quot;</span>,<span class="number">7839</span>,<span class="keyword">new</span> <span class="title class_">Date</span>(),<span class="number">3100.0</span>,<span class="number">200.0</span>,<span class="number">10</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> sqlSession.insert(<span class="string">&quot;addEmp&quot;</span>, emp);</span><br><span class="line">        System.out.println(rows);</span><br><span class="line">        <span class="comment">//æ‰‹åŠ¨æäº¤</span></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        emp.setEname(<span class="string">&quot;xm&quot;</span>);</span><br><span class="line">        emp.setEmpno(<span class="number">7934</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> sqlSession.update(<span class="string">&quot;updateEmp&quot;</span>, emp);</span><br><span class="line">        System.out.println(rows);</span><br><span class="line">        <span class="comment">//æ‰‹åŠ¨æäº¤</span></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDelete</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        emp.setEname(<span class="string">&quot;xm&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> sqlSession.delete(<span class="string">&quot;deleteEmp&quot;</span>, emp);</span><br><span class="line">        System.out.println(rows);</span><br><span class="line">        <span class="comment">//æ‰‹åŠ¨æäº¤</span></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// å…³é—­SQLSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;EmpMapper3&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¢åˆ æ”¹çš„è¿”å›å€¼éƒ½æ˜¯int</span></span><br><span class="line"><span class="comment">    public int addEmp(Emp emp)&#123;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    resultTypeæ— éœ€æŒ‡å®šï¼Œæ²¡æœ‰resultType</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addEmp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        insert into emp values(#&#123;empno&#125;,#&#123;ename&#125;,#&#123;job&#125;,#&#123;mgr&#125;,#&#123;hiredate&#125;,#&#123;sal&#125;,#&#123;comm&#125;,#&#123;deptno&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    public int updateEmp(Emp emp)&#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        update emp set ename = #&#123;ename&#125; where empno = #&#123;empno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--public int deleteEmp(int empno)--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteEmp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;String&quot;</span>&gt;</span></span><br><span class="line">        delete from emp where ename = #&#123;ename&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Mybatisä»£ç†æ¨¡å¼å¼€å‘"><a href="#Mybatisä»£ç†æ¨¡å¼å¼€å‘" class="headerlink" title="Mybatisä»£ç†æ¨¡å¼å¼€å‘"></a>Mybatisä»£ç†æ¨¡å¼å¼€å‘</h4><p>å‰é¢å·²ç»ä½¿ç”¨MyBatiså®Œæˆäº†å¯¹Empè¡¨çš„CRUDæ“ä½œï¼Œéƒ½æ˜¯ç”±SqlSessionè°ƒç”¨è‡ªèº«æ–¹æ³•å‘é€SQLå‘½ä»¤å¹¶å¾—åˆ°ç»“æœçš„ï¼Œå®ç°äº†MyBatisçš„å…¥é—¨ã€‚</p>
<p>ä½†æ˜¯å´å­˜åœ¨å¦‚ä¸‹ç¼ºç‚¹ï¼š</p>
<ol>
<li><p>ä¸ç®¡æ˜¯selectList()ã€selectOne()ã€selectMap()ï¼Œéƒ½æ˜¯é€šè¿‡SQLSessionå¯¹è±¡çš„APIå®Œæˆå¢åˆ æ”¹æŸ¥,éƒ½åªèƒ½æä¾›ä¸€ä¸ªæŸ¥è¯¢å‚æ•°ã€‚å¦‚æœè¦å¤šä¸ªå‚æ•°ï¼Œéœ€è¦å°è£…åˆ°JavaBeanæˆ–è€…Mapä¸­ï¼Œå¹¶ä¸ä¸€å®šæ°¸è¿œæ˜¯ä¸€ä¸ªå¥½åŠæ³•ã€‚</p>
</li>
<li><p>è¿”å›å€¼ç±»å‹è¾ƒå›ºå®šã€‚</p>
</li>
<li><p>åªæä¾›äº†æ˜ å°„æ–‡ä»¶ï¼Œæ²¡æœ‰æä¾›æ•°æ®åº“æ“ä½œçš„æ¥å£ï¼Œä¸åˆ©äºåæœŸçš„ç»´æŠ¤æ‰©å±•ã€‚</p>
</li>
</ol>
<p>åœ¨MyBatisä¸­æä¾›äº†å¦å¤–ä¸€ç§æˆä¸ºMapperä»£ç†ï¼ˆæˆ–ç§°ä¸ºæ¥å£ç»‘å®šï¼‰çš„æ“ä½œæ–¹å¼ã€‚åœ¨å®é™…å¼€å‘ä¸­ä¹Ÿä½¿ç”¨è¯¥æ–¹å¼ã€‚ä¸‹é¢æˆ‘ä»¬å°±æ˜¯è¦Mapperä»£ç†çš„æ–¹å¼æ¥å®ç°å¯¹Empè¡¨çš„CRUDæ“ä½œå§ï¼Œè¿˜æœ‰å®Œæˆå¤šä¸ªå‚æ•°ä¼ é€’ã€æ¨¡ç³ŠæŸ¥è¯¢ã€è‡ªå¢ä¸»é”®å›å¡«ç­‰æ›´å¤šçš„æŠ€èƒ½å®ç°ã€‚æ­å»ºå¥½çš„é¡¹ç›®æ¡†æ¶å¦‚å›¾æ‰€ç¤ºï¼Œç›¸æ¯”è€Œè¨€ï¼Œå¢åŠ äº†æ¥å£EmployeeMapperã€‚ä½†æ˜¯å´ä¼šå¼•èµ·æ˜ å°„æ–‡ä»¶å’Œæµ‹è¯•ç±»çš„å˜åŒ–ã€‚</p>
<p>ä¼˜ç‚¹:</p>
<p>1æœ‰æ¥å£ æ¨¡å—ä¹‹é—´æœ‰è§„èŒƒäº†</p>
<p>2å‚æ•°çš„å¤„ç†å¤šæ ·äº†,æ¥å£ä¸­çš„æ–¹æ³•å‚æ•°åˆ—è¡¨ç”±æˆ‘ä»¬è‡ªå·±å†³å®š</p>
<p>3é€šè¿‡ä»£ç†æ¨¡å¼ç”±mybatisæä¾›æ¥å£çš„å®ç°ç±»å¯¹è±¡ æˆ‘ä»¬ä¸ç”¨å†™å®ç°ç±»äº†</p>
<p><strong>ä»£ç†æ¨¡å¼æµ…æ</strong></p>
<p>mybatisæ˜¯å¦‚ä½•é€šè¿‡ä»£ç†æ¨¡å¼å®ç°æŸ¥è¯¢çš„</p>
<p>è¿™æ¡è¯­å¥çš„åº•å±‚ä½¿ç”¨äº†åŠ¨æ€ä»£ç†æ¨¡å¼ï¼ŒåŠ¨æ€åˆ›å»ºä¸€ä¸ªEmployeeMapperçš„ä¸€ä¸ªä»£ç†å¯¹è±¡å¹¶èµ‹ç»™æ¥å£å¼•ç”¨ã€‚æ‰€ä»¥åœ¨MyBatisä¸­ä¸éœ€è¦æ˜¾å¼æä¾›Mapperæ¥å£çš„å®ç°ç±»ï¼Œè¿™ä¹Ÿæ˜¯ç®€å•çš„åœ°æ–¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240214192222668.png" alt="image-20240214192222668"></p>
<p>mapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/14 - 02 - 14 - 18:54</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.mapper</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpMapper</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥æ–¹æ³•ç”¨äºæŸ¥è¯¢å…¨éƒ¨çš„å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å…¨éƒ¨å‘˜å·¥ä¿¡æ¯å°è£…çš„Empå¯¹è±¡çš„listé›†åˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æ˜ å°„</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bitzh.mapper.EmpMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1ã€æ¥å£çš„åå­—å’Œæ˜ å°„çš„åå­—å¿…é¡»ä¿æŒä¸€è‡´ï¼Œä¸åŒ…å«æ‹“å±•å</span></span><br><span class="line"><span class="comment">    2ã€Mapperæ˜ å°„æ–‡ä»¶çš„namespaceå¿…é¡»æ˜¯æ¥å£çš„å…¨è·¯å¾„å</span></span><br><span class="line"><span class="comment">    3ã€sqlè¯­å¥çš„idå¿…é¡»æ˜¯å¯¹åº”æ–¹æ³•çš„å</span></span><br><span class="line"><span class="comment">    4ã€DeptMapperæ˜ å°„æ–‡ä»¶åº”è¯¥å’Œæ¥å£ç¼–è¯‘ä¹‹åæ”¾åœ¨åŒä¸€ç›®å½•ä¸‹</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--public List&lt;Emp&gt; findAll()--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">            select * from emp</span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>åŠ è½½æ˜ å°„ä»£ç </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åŠ è½½æ˜ å°„æ–‡ä»¶çš„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é€šè¿‡ç±»çš„å…¨è·¯å¾„æ¥æ‰¾Mapperæ˜ å°„æ–‡ä»¶--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.bitzh.mapper.EmpMapper&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.bitzh.mapper.EmpMapper;</span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Emp;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Auther</span>: oyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2024/2/14 - 02 - 14 - 10:23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: com.bitzh.test</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>: 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">ssfb</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resourceAsStream = Resources.getResourceAsStream(<span class="string">&quot;sqlMapConfig.xml&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory factory=ssfb.build(resourceAsStream) ;</span><br><span class="line">        sqlSession=factory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindAll</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">empMapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">        List&lt;Emp&gt; emps = empMapper.findAll();</span><br><span class="line">        emps.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// å…³é—­SQLSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä»£ç†æ¨¡å¼ç®€æ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240215092750503.png" alt="image-20240215092750503"></p>
<p>è‡ªåŠ¨ç”Ÿæˆçš„Proxy</p>
<h4 id="ä»£ç†æ¥å£ä¸‹çš„å‚æ•°é—®é¢˜"><a href="#ä»£ç†æ¥å£ä¸‹çš„å‚æ•°é—®é¢˜" class="headerlink" title="ä»£ç†æ¥å£ä¸‹çš„å‚æ•°é—®é¢˜"></a>ä»£ç†æ¥å£ä¸‹çš„å‚æ•°é—®é¢˜</h4><p>1å•ä¸ªåŸºæœ¬æ•°æ®ç±»å‹</p>
<p>2å¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹</p>
<p>3å•ä¸ªå¼•ç”¨æ•°æ®ç±»å‹</p>
<p>4mapé›†åˆæ•°æ®ç±»å‹</p>
<p>5å¤šä¸ªå¼•ç”¨æ•°æ®ç±»å‹</p>
<p><strong>æ¥å£</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpMapper</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥æ–¹æ³•ç”¨äºæŸ¥è¯¢å…¨éƒ¨çš„å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å…¨éƒ¨å‘˜å·¥ä¿¡æ¯å°è£…çš„Empå¯¹è±¡çš„Listé›†åˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å‘˜å·¥ç¼–å·æŸ¥è¯¢å•ä¸ªå‘˜å·¥ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> empno å‘˜å·¥ç¼–å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¦‚æœæ‰¾åˆ°äº†è¿”å›Empå¯¹è±¡,æ‰¾ä¸åˆ°è¿”å›null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Emp <span class="title function_">findByEmpno</span><span class="params">(<span class="type">int</span> empno)</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å‘˜å·¥ç¼–å·å’Œè–ªèµ„ä¸‹é™å»æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> empno å‘˜å·¥ç¼–å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sal è–ªèµ„ä¸‹é™</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¤šä¸ªEmpå¯¹è±¡çš„Listé›†åˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findByDeptnoAndSal</span><span class="params">(<span class="meta">@Param(&quot;deptno&quot;)</span> <span class="type">int</span> deptno,<span class="meta">@Param(&quot;sal&quot;)</span> <span class="type">double</span> sal)</span>;</span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findByDeptnoAndSal2</span><span class="params">(Map&lt;String,Object&gt; map)</span>;</span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findByDeptnoAndSal3</span><span class="params">(Emp emp)</span>;</span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findByDeptnoAndSal4</span><span class="params">(<span class="meta">@Param(&quot;empa&quot;)</span> Emp empa,<span class="meta">@Param(&quot;empb&quot;)</span> Emp empb)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>mapperæ˜ å°„æ–‡ä»¶</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bitzh.mapper.EmpMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    1 æ¥å£çš„åå­—å’ŒMapperæ˜ å°„ä¸ºæ–‡ä»¶åå­—å¿…é¡»ä¿æŒä¸€è‡´(ä¸åŒ…å«æ‹“å±•å)</span></span><br><span class="line"><span class="comment">    2 Mapperæ˜ å°„æ–‡ä»¶çš„namespaceå¿…é¡»æ˜¯æ¥å£çš„å…¨è·¯å¾„å</span></span><br><span class="line"><span class="comment">    3 sqlè¯­å¥çš„idå¿…é¡»æ˜¯å¯¹åº”æ–¹æ³•çš„å</span></span><br><span class="line"><span class="comment">    4 DeptMapperæ˜ å°„æ–‡ä»¶åº”è¯¥å’Œæ¥å£ç¼–è¯‘ä¹‹åæ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--List&lt;Emp&gt; findAll();--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> &gt;</span></span><br><span class="line">        select * from emp</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    å•ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ä½œä¸ºæ–¹æ³•å‚æ•°</span></span><br><span class="line"><span class="comment">    #&#123;&#125;ä¸­å¯ä»¥éšä¾¿å†™,éµå¾ªè§åçŸ¥æ„</span></span><br><span class="line"><span class="comment">    Emp findByEmpno(int empno);</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByEmpno&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> &gt;</span></span><br><span class="line">        select * from emp where empno =#&#123;empno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     å¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹ä½œä¸ºæ–¹æ³•å‚æ•°</span></span><br><span class="line"><span class="comment">     List&lt;Emp&gt; findByDeptnoAndSal(@Param(&quot;detpno&quot;) int deptno,@Param(&quot;sal&quot;) double sal);</span></span><br><span class="line"><span class="comment">     æ–¹å¼1 arg*     arg0 arg1 arg2 æ•°å­—æ˜¯ç´¢å¼•,ä»0å¼€å§‹</span></span><br><span class="line"><span class="comment">     æ–¹å¼2 param*   param1 param2 param3 æ•°å­—æ˜¯ç¼–å·,ä»1å¼€å§‹</span></span><br><span class="line"><span class="comment">     ä½¿ç”¨åˆ«å</span></span><br><span class="line"><span class="comment">     List&lt;Emp&gt; findByDeptnoAndSal(@Param(&quot;detpno&quot;) int deptno,@Param(&quot;sal&quot;) double sal);</span></span><br><span class="line"><span class="comment">     é€šè¿‡@Paramæ³¨è§£ä½¿ç”¨åˆ«åä¹‹å,å°±ä¸èƒ½å†ä½¿ç”¨arg* ä½†æ˜¯å¯ä»¥ç»§ç»­ä½¿ç”¨param*</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByDeptnoAndSal&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--select * from emp where deptno =#&#123;arg0&#125; and sal &gt;= #&#123;arg1&#125;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- select * from emp where deptno =#&#123;param1&#125; and sal &gt;= #&#123;param2&#125;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- select * from emp where deptno =#&#123;deptno&#125; and sal &gt;= #&#123;sal&#125;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    å‚æ•°æ˜¯map,&#123;&#125;å†™é”®çš„åå­—</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByDeptnoAndSal2&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> &gt;</span></span><br><span class="line">        <span class="comment">&lt;!--select * from emp where deptno =#&#123;arg0&#125; and sal &gt;= #&#123;arg1&#125;--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- select * from emp where deptno =#&#123;param1&#125; and sal &gt;= #&#123;param2&#125;--&gt;</span></span><br><span class="line">         select * from emp where deptno =#&#123;deptno&#125; and sal &gt;= #&#123;sal&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å•ä¸ªå¼•ç”¨ç±»å‹,&#123;&#125;ä¸­å†™çš„ä½¿ç”¨å¯¹è±¡çš„å±æ€§å--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByDeptnoAndSal3&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;emp&quot;</span> &gt;</span></span><br><span class="line">        select * from emp where deptno =#&#123;deptno&#125; and sal &gt;= #&#123;sal&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    å¤šä¸ªå¼•ç”¨ç±»å‹ä½œä¸ºæ–¹æ³•å‚æ•°</span></span><br><span class="line"><span class="comment">     List&lt;Emp&gt; findByDeptnoAndSal4(@Param(&quot;empa&quot;) Emp empa,@Param(&quot;empb&quot;) Emp empb);</span></span><br><span class="line"><span class="comment">     å¦‚æœç”¨@Paramå®šä¹‰äº†åˆ«å,é‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨arg*.å±æ€§å,ä½†æ˜¯å¯ä»¥ä½¿ç”¨param*.å±æ€§åå’Œåˆ«å.å±æ€§å</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByDeptnoAndSal4&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>  &gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- select * from emp where deptno =#&#123;arg0.deptno&#125; and sal &gt;= #&#123;arg1.sal&#125; --&gt;</span></span><br><span class="line">         select * from emp where deptno =#&#123;param1.deptno&#125; and sal &gt;= #&#123;param2.sal&#125;</span><br><span class="line">         <span class="comment">&lt;!-- select * from emp where deptno =#&#123;empa.deptno&#125; and sal &gt;= #&#123;empb.sal&#125;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•ä»£ç </strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtil.getSqlSession(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªæ¥å£ä¸‹çš„å®ç°ç±»å¯¹è±¡çš„</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">        List&lt;Emp&gt; emps = mapper.getAllEmp();</span><br><span class="line">        <span class="keyword">for</span>(Emp emp:emps) &#123;</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 1å•ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ä½œä¸ºæ–¹æ³•å‚æ•°</span></span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> mapper.getByEmpno(<span class="number">7902</span>);</span><br><span class="line">        System.out.println(emp);</span><br><span class="line">        <span class="comment">// 2å¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹ä½œä¸ºæ–¹æ³•å‚æ•°</span></span><br><span class="line">        List&lt;Emp&gt; emps2 = mapper.getByDeptnoAndSal(<span class="number">10</span>, <span class="number">1500</span>);</span><br><span class="line">        <span class="keyword">for</span>(Emp em:emps2) &#123;</span><br><span class="line">            System.out.println(em);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3å•ä¸ªå¼•ç”¨ç±»å‹ä½œä¸ºæ–¹æ³•å‚æ•°</span></span><br><span class="line">        Emp condition=<span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        condition.setDeptno(<span class="number">10</span>);</span><br><span class="line">        condition.setSal(<span class="number">1500.0</span>);</span><br><span class="line">        List&lt;Emp&gt; emps3 = mapper.getByDeptnoAndSal2(condition);</span><br><span class="line">        <span class="keyword">for</span>(Emp em:emps3) &#123;</span><br><span class="line">            System.out.println(em);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4å¤šä¸ªå¼•ç”¨ç±»å‹ä½œä¸ºæ–¹æ³•å‚æ•°</span></span><br><span class="line">        Emp condition1=<span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        condition1.setDeptno(<span class="number">10</span>);</span><br><span class="line">        Emp condition2=<span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        condition2.setSal(<span class="number">1500.0</span>);</span><br><span class="line">        List&lt;Emp&gt; emps4 = mapper.getByDeptnoAndSal3(condition1,condition2);</span><br><span class="line">        <span class="keyword">for</span>(Emp em:emps4) &#123;</span><br><span class="line">            System.out.println(em);</span><br><span class="line">        &#125;</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Mybatisæ¨¡ç³ŠæŸ¥è¯¢"><a href="#Mybatisæ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="Mybatisæ¨¡ç³ŠæŸ¥è¯¢"></a>Mybatisæ¨¡ç³ŠæŸ¥è¯¢</h4><p>åœ¨è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢æ—¶ï¼Œåœ¨æ˜ å°„æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨concat()å‡½æ•°æ¥è¿æ¥å‚æ•°å’Œé€šé…ç¬¦ã€‚å¦å¤–æ³¨æ„å¯¹äºç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚&lt;ï¼Œä¸èƒ½ç›´æ¥ä¹¦å†™ï¼Œåº”è¯¥ä½¿ç”¨å­—ç¬¦å®ä½“æ›¿æ¢ã€‚</p>
<p>æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®åå­—åšæ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> name æ¨¡ç³ŠæŸ¥è¯¢çš„æ–‡å­—</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  Empå¯¹è±¡Listé›†åˆ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">List&lt;Emp&gt; <span class="title function_">findByEname</span><span class="params">( String name)</span>;</span><br></pre></td></tr></table></figure>
<p>mapperæ˜ å°„æ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; getByName(String name);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByEname&quot;</span>  <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> &gt;</span></span><br><span class="line">    select * from emp where ename like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Mybatisä¸»é”®è‡ªå¢å›å¡«"><a href="#Mybatisä¸»é”®è‡ªå¢å›å¡«" class="headerlink" title="Mybatisä¸»é”®è‡ªå¢å›å¡«"></a>Mybatisä¸»é”®è‡ªå¢å›å¡«</h4><p>å°±æ˜¯åœ¨mysqlä¸­çš„ä¸»é”®è®¾å®šä¸ºè‡ªå¢ï¼Œä½†æ˜¯è‡ªå¢ä¹‹åæˆ‘ä»¬ä¸çŸ¥é“ä»–çš„idæ˜¯å¤šå°‘ï¼Œè¿™æ—¶å€™æˆ‘ä»¬åˆéœ€è¦ç”¨åˆ°å®ƒè‡ªå¢åçš„é‚£ä¸ªå€¼ï¼Œæ‰€ä»¥å°±éœ€è¦å­¦ä¸€ä¸‹ä¸»é”®è‡ªå¢å›å¡«ã€‚</p>
<p>è·Ÿä¹‹å‰çš„æ“ä½œç±»ä¼¼ç„¶åå†xmlä¸­åŠ ä¸Šè¿™ä¸ªå°±èƒ½è·å¾—è‡ªå¢çš„å€¼</p>
<p>æ–¹å¼ä¸€ï¼Œä¼šå°†å…¶è¿”å›ç»™deptno</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bitzh.mapper.DeptMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addDept&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span></span><br><span class="line">        insert into dept values(default,#&#123;dname&#125;,#&#123;loc&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ–¹å¼äºŒï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addDept2&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">selectKey</span> <span class="attr">order</span>=<span class="string">&quot;AFTER&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;deptno&quot;</span>  <span class="attr">resultType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">            select @@identity</span><br><span class="line">        <span class="tag">&lt;/<span class="name">selectKey</span>&gt;</span></span><br><span class="line">        insert into dept values(null,#&#123;dname&#125;,#&#123;loc&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="å®ç°CRUDæŸ¥è¯¢æ€»ç»“"><a href="#å®ç°CRUDæŸ¥è¯¢æ€»ç»“" class="headerlink" title="å®ç°CRUDæŸ¥è¯¢æ€»ç»“"></a>å®ç°CRUDæŸ¥è¯¢æ€»ç»“</h4><p><strong>EmpMapperæ¥å£</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * å¢åŠ å‘˜å·¥ä¿¡æ¯</span><br><span class="line"> * @param emp å­˜å‚¨æ–°å¢å‘˜å·¥ä¿¡æ¯çš„Empå¯¹è±¡</span><br><span class="line"> * @return å¯¹æ•°æ®åº“æ•°æ®äº§ç”Ÿå½±å“çš„è¡Œæ•°</span><br><span class="line"> */</span><br><span class="line">int addEmp(Emp emp);</span><br><span class="line">/**</span><br><span class="line"> * æ ¹æ®å‘˜å·¥ç¼–å·ä¿®æ”¹å‘˜å·¥å§“åçš„æ–¹æ³•</span><br><span class="line"> * @param empno è¦ä¿®æ”¹çš„å‘˜å·¥ç¼–å·</span><br><span class="line"> * @param ename ä¿®æ”¹ä¹‹åçš„æ–°çš„å‘˜å·¥åå­—</span><br><span class="line"> * @return å¯¹æ•°æ®åº“æ•°æ®äº§ç”Ÿå½±å“çš„è¡Œæ•°</span><br><span class="line"> */</span><br><span class="line">int updateEnameByEmpno(@Param(&quot;empno&quot;) int empno,@Param(&quot;ename&quot;) String ename);</span><br><span class="line">/**</span><br><span class="line"> * æ ¹æ®å‘˜å·¥ç¼–å·åˆ é™¤å‘˜å·¥ä¿¡æ¯</span><br><span class="line"> * @param empno è¦åˆ é™¤çš„å‘˜å·¥ç¼–å·</span><br><span class="line"> * @return å¯¹æ•°æ®åº“æ•°æ®äº§ç”Ÿå½±å“çš„è¡Œæ•°</span><br><span class="line"> */</span><br><span class="line">int deleteByEmpno(int empno);</span><br></pre></td></tr></table></figure>
<p><strong>EmpMapperæ˜ å°„ æ–‡ä»¶</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int addEmp(Emp emp);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addEmp&quot;</span> &gt;</span></span><br><span class="line">    insert into emp values(DEFAULT ,#&#123;ename&#125;,#&#123;job&#125;,#&#123;mgr&#125;,#&#123;hiredate&#125;,#&#123;sal&#125;,#&#123;comm&#125;,#&#123;deptno&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--int updateEnameByEmpno(@Param(&quot;empno&quot;) int empno,@Param(&quot;ename&quot;) String ename);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEnameByEmpno&quot;</span> &gt;</span></span><br><span class="line">    update emp set ename =#&#123;ename&#125; where empno =#&#123;empno&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--int deleteByEmpno(int empno);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;deleteByEmpno&quot;</span> &gt;</span></span><br><span class="line">    delete from emp where empno =#&#123;empno&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•ä»£ç </strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">ssfb</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resourceAsStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            resourceAsStream = Resources.getResourceAsStream(<span class="string">&quot;sqlMapConfig.xml&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory factory=ssfb.build(resourceAsStream) ;</span><br><span class="line">        sqlSession=factory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAddEmp</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">        mapper.addEmp(<span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="literal">null</span>, <span class="string">&quot;TOM&quot;</span>, <span class="string">&quot;SALESMAN&quot;</span>, <span class="number">7521</span>, <span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="number">2314.0</span>, <span class="number">100.0</span>, <span class="number">10</span>));</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdateEnameByEmpno</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">        mapper.updateEnameByEmpno(<span class="number">7938</span>, <span class="string">&quot;TOM&quot;</span>);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeletByEmpno</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper.class);</span><br><span class="line">        mapper.deleteByEmpno(<span class="number">7938</span>);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">release</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// å…³é—­SQLSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="åŠ¨æ€SQL"><a href="#åŠ¨æ€SQL" class="headerlink" title="åŠ¨æ€SQL"></a>åŠ¨æ€SQL</h4><h5 id="ifæ ‡ç­¾"><a href="#ifæ ‡ç­¾" class="headerlink" title="ifæ ‡ç­¾"></a>ifæ ‡ç­¾</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bitzh.mapper.EmpMapper2&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--List&lt;Emp&gt; findByCondition(Emp emp);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        select * from emp where 1=1</span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empno != null&quot;</span>&gt;</span></span><br><span class="line">            and empno = #&#123;empno&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;ename != null and ename != &#x27;&#x27; &quot;</span>&gt;</span></span><br><span class="line">            and ename = #&#123;ename&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="ç”¨äºå¤„ç†whereå…³é”®å­—å’Œand"><a href="#ç”¨äºå¤„ç†whereå…³é”®å­—å’Œand" class="headerlink" title="ç”¨äºå¤„ç†whereå…³é”®å­—å’Œand"></a>ç”¨äºå¤„ç†whereå…³é”®å­—å’Œand</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">    select * from emp</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empno != null&quot;</span>&gt;</span></span><br><span class="line">            and empno= #&#123;empno&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;ename != null and ename != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            and ename= #&#123;ename&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;job != null and job != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            and job= #&#123;job&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;mgr != null &quot;</span>&gt;</span></span><br><span class="line">            and mgr= #&#123;mgr&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;hiredate != null &quot;</span>&gt;</span></span><br><span class="line">            and hiredate= #&#123;hiredate&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sal != null&quot;</span>&gt;</span></span><br><span class="line">            and sal= #&#123;sal&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;comm != null &quot;</span>&gt;</span></span><br><span class="line">             and comm =#&#123;comm&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;deptno != null &quot;</span>&gt;</span></span><br><span class="line">            and deptno= #&#123;deptno&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="chooseæ ‡ç­¾"><a href="#chooseæ ‡ç­¾" class="headerlink" title="chooseæ ‡ç­¾"></a>chooseæ ‡ç­¾</h5><p>å‰é¢çš„whenæ¡ä»¶æˆç«‹ åé¢çš„ whenå°±ä¸å†åˆ¤æ–­äº†</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpByCondition2&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">    select * from emp</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empno != null&quot;</span>&gt;</span></span><br><span class="line">                and empno= #&#123;empno&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;ename != null and ename != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and ename= #&#123;ename&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;job != null and job != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and job= #&#123;job&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;mgr != null &quot;</span>&gt;</span></span><br><span class="line">                and mgr= #&#123;mgr&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;hiredate != null &quot;</span>&gt;</span></span><br><span class="line">                and hiredate= #&#123;hiredate&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;sal != null&quot;</span>&gt;</span></span><br><span class="line">                and sal= #&#123;sal&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;comm != null &quot;</span>&gt;</span></span><br><span class="line">                and comm =#&#123;comm&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;deptno != null &quot;</span>&gt;</span></span><br><span class="line">                and deptno= #&#123;deptno&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="setæ ‡ç­¾"><a href="#setæ ‡ç­¾" class="headerlink" title="setæ ‡ç­¾"></a>setæ ‡ç­¾</h5><p><strong>æ¥å£</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">updateEmpByCondition</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></table></figure>
<p><strong>æ˜ å°„æ–‡ä»¶</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--int updateEmpByCondition(Emp emp);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmpByCondition&quot;</span>&gt;</span></span><br><span class="line">        update emp</span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;ename != null and ename != &#x27;&#x27; &quot;</span>&gt;</span></span><br><span class="line">                , ename = #&#123;ename&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        where empno = #&#123;empno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•ä»£ç </strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testupdateEmpByCondition</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">EmpMapper2</span> <span class="variable">empMapper2</span> <span class="operator">=</span> sqlSession.getMapper(EmpMapper2.class);</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>();</span><br><span class="line">        emp.setEmpno(<span class="number">7935</span>);</span><br><span class="line">        emp.setEname(<span class="string">&quot;oyy1&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> empMapper2.updateEmpByCondition(emp);</span><br><span class="line">        System.out.println(rows);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h5 id="trimæ ‡ç­¾"><a href="#trimæ ‡ç­¾" class="headerlink" title="trimæ ‡ç­¾"></a>trimæ ‡ç­¾</h5><p>trimæ ‡ç­¾å¤„ç†set</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateEmpByCondition2&quot;</span> &gt;</span></span><br><span class="line">    update emp</span><br><span class="line">    <span class="comment">&lt;!--prefix è¦å¢åŠ ä»€ä¹ˆå‰ç¼€</span></span><br><span class="line"><span class="comment">    prefixOverrides è¦å»é™¤ä»€ä¹ˆå‰ç¼€</span></span><br><span class="line"><span class="comment">    suffix è¦å¢åŠ ä»€ä¹ˆåç¼€</span></span><br><span class="line"><span class="comment">    suffixOverrides è¦å»é™¤ä»€ä¹ˆåç¼€</span></span><br><span class="line"><span class="comment">    set æ˜¯trimçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µ</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;set&quot;</span>  <span class="attr">suffixOverrides</span>=<span class="string">&quot;,&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;ename != null and ename != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            ename= #&#123;ename&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;job != null and job != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            job= #&#123;job&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;mgr != null &quot;</span>&gt;</span></span><br><span class="line">            mgr= #&#123;mgr&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;hiredate != null &quot;</span>&gt;</span></span><br><span class="line">            hiredate= #&#123;hiredate&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sal != null&quot;</span>&gt;</span></span><br><span class="line">            sal= #&#123;sal&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;comm != null &quot;</span>&gt;</span></span><br><span class="line">            comm =#&#123;comm&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;deptno != null &quot;</span>&gt;</span></span><br><span class="line">            deptno= #&#123;deptno&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line">    where  empno = #&#123;empno&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>trimæ ‡ç­¾å¤„ç†where</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">    select * from emp</span><br><span class="line">        <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;where&quot;</span> <span class="attr">prefixOverrides</span>=<span class="string">&quot;and&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empno != null&quot;</span>&gt;</span></span><br><span class="line">                and empno= #&#123;empno&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;ename != null and ename != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and ename= #&#123;ename&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;job != null and job != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">                and job= #&#123;job&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;mgr != null &quot;</span>&gt;</span></span><br><span class="line">                and mgr= #&#123;mgr&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;hiredate != null &quot;</span>&gt;</span></span><br><span class="line">                and hiredate= #&#123;hiredate&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sal != null&quot;</span>&gt;</span></span><br><span class="line">                and sal= #&#123;sal&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;comm != null &quot;</span>&gt;</span></span><br><span class="line">                and comm =#&#123;comm&#125;</span><br><span class="line">             <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;deptno != null &quot;</span>&gt;</span></span><br><span class="line">                and deptno= #&#123;deptno&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="bindæ ‡ç­¾"><a href="#bindæ ‡ç­¾" class="headerlink" title="bindæ ‡ç­¾"></a>bindæ ‡ç­¾</h5><p>ä¸€èˆ¬ç”¨äºå¤„ç†æ¨¡ç³ŠæŸ¥è¯¢çš„æ¨¡æ¿</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240215222822901.png" alt="image-20240215222822901"></p>
<h5 id="sqlæ ‡ç­¾"><a href="#sqlæ ‡ç­¾" class="headerlink" title="sqlæ ‡ç­¾"></a>sqlæ ‡ç­¾</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;empColumn&quot;</span>&gt;</span>empno,ename,job,mgr,hiredate,sal,comm,deptno<span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;baseSelect&quot;</span>&gt;</span>select <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;empColumn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span> from emp<span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; findByCondition(Emp emp);--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;baseSelect&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;where&quot;</span> <span class="attr">prefixOverrides</span>=<span class="string">&quot;and&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empno != null&quot;</span>&gt;</span></span><br><span class="line">            and empno =#&#123;empno&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;ename != null and ename != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bind</span> <span class="attr">name</span>=<span class="string">&quot;likePattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#x27;%&#x27;+ename+&#x27;%&#x27;&quot;</span>/&gt;</span></span><br><span class="line">            and ename like #&#123;likePattern&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;job != null and job != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            and job =#&#123;job&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;mgr != null&quot;</span>&gt;</span></span><br><span class="line">            and mgr =#&#123;mgr&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;hiredate != null&quot;</span>&gt;</span></span><br><span class="line">            and hiredate =#&#123;hiredate&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;sal != null&quot;</span>&gt;</span></span><br><span class="line">            and sal =#&#123;sal&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;comm != null&quot;</span>&gt;</span></span><br><span class="line">            and comm =#&#123;comm&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;deptno != null&quot;</span>&gt;</span></span><br><span class="line">            and deptno =#&#123;deptno&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="foreachæ ‡ç­¾"><a href="#foreachæ ‡ç­¾" class="headerlink" title="foreachæ ‡ç­¾"></a>foreachæ ‡ç­¾</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240216102334129.png" alt="image-20240216102334129"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--List&lt;Emp&gt; findByEmpnos1(int[] empnos);</span></span><br><span class="line"><span class="comment"> collection=&quot;&quot;  éå†çš„é›†åˆæˆ–è€…æ˜¯æ•°ç»„</span></span><br><span class="line"><span class="comment">                 å‚æ•°æ˜¯æ•°ç»„,collectionä¸­åå­—æŒ‡å®šä¸ºarray</span></span><br><span class="line"><span class="comment">                 å‚æ•°æ˜¯Listé›†åˆ,collectionä¸­åå­—æŒ‡å®šä¸ºlist</span></span><br><span class="line"><span class="comment"> separator=&quot;&quot;   å¤šä¸ªå…ƒç´ å–å‡ºçš„æ—¶å€™ ç”¨ä»€ä¹ˆæ–‡å­—åˆ†éš”</span></span><br><span class="line"><span class="comment"> open=&quot;&quot;        ä»¥ä»€ä¹ˆå¼€å¤´</span></span><br><span class="line"><span class="comment"> close=&quot;&quot;       ä»¥ä»€ä¹ˆç»“å°¾</span></span><br><span class="line"><span class="comment"> item=&quot;&quot;        ä¸­é—´å˜é‡å</span></span><br><span class="line"><span class="comment"> for(Person per:PersonList)</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByEmpnos1&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">     select * from emp  where empno in</span><br><span class="line">     <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;array&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span> <span class="attr">item</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span></span><br><span class="line">         #&#123;deptno&#125;</span><br><span class="line">     <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- List&lt;Emp&gt; findByEmpnos2(List&lt;Integer&gt; empnos);--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByEmpnos2&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">     select * from emp  where empno in</span><br><span class="line">     <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;list&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span> <span class="attr">item</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span></span><br><span class="line">         #&#123;deptno&#125;</span><br><span class="line">     <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Mybatiså®ç°å¤šè¡¨æŸ¥è¯¢"><a href="#Mybatiså®ç°å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="Mybatiså®ç°å¤šè¡¨æŸ¥è¯¢"></a>Mybatiså®ç°å¤šè¡¨æŸ¥è¯¢</h3><p>å‰é¢å·²ç»ä½¿ç”¨MyBatiså®Œæˆäº†å¯¹Empè¡¨çš„CRUDæ“ä½œï¼Œä¸ç®¡æ˜¯ä½¿ç”¨SqlSessionç›´æ¥æ“ä½œï¼Œè¿˜æ˜¯ä½¿ç”¨Mapperä»£ç†æ–¹å¼ï¼Œéƒ½åªæ˜¯å®Œæˆäº†å¯¹å•ä¸ªæ•°æ®åº“è¡¨çš„æ“ä½œã€‚è¿™è‚¯å®šæ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šå°†æ¥è‡ªå¤šå¼ è¡¨çš„æ•°æ®åœ¨ä¸€ä¸ªä½ç½®æ˜¾ç¤ºã€‚æ¯”å¦‚æŸ¥è¯¢å¹¶æ˜¾ç¤ºçš„å‘˜å·¥ä¿¡æ¯ä¸­ä¼šæœ‰æ¥è‡ªéƒ¨é—¨è¡¨ã€å²—ä½è¡¨çš„æ•°æ®ï¼Œè€Œåå°ä¸€èˆ¬æ˜¯å®šä¹‰ä¸€ä¸ªæ–¹æ³•</p>
<h4 id="å…³è”æŸ¥è¯¢"><a href="#å…³è”æŸ¥è¯¢" class="headerlink" title="å…³è”æŸ¥è¯¢"></a>å…³è”æŸ¥è¯¢</h4><h5 id="æ‰‹åŠ¨å¤„ç†æ˜ å°„å…³ç³»"><a href="#æ‰‹åŠ¨å¤„ç†æ˜ å°„å…³ç³»" class="headerlink" title="æ‰‹åŠ¨å¤„ç†æ˜ å°„å…³ç³»"></a>æ‰‹åŠ¨å¤„ç†æ˜ å°„å…³ç³»</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.msb.mapper.EmpMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ‰‹åŠ¨å¤„ç†æ•°æ®åº“æŸ¥è¯¢å­—æ®µå’Œå°è£…å®ä½“ç±»å±æ€§ä¹‹é—´çš„æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">    1 ä¸»é”®ä¸€èˆ¬ä½¿ç”¨idå±æ€§ä¸æ˜¯ä¸»é”®ç”¨result</span></span><br><span class="line"><span class="comment">    2 å½“å±æ€§åå’ŒæŸ¥è¯¢å‡ºçš„æ•°æ®è¡¨å­—æ®µåç›¸åŒ å¯ä»¥ä¸å†™æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;id property=&quot;empno&quot; column=&quot;empno&quot;&gt;&lt;/id&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;ename&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;result property=&quot;job&quot; column=&quot;job&quot;&gt;&lt;/result&gt;</span></span><br><span class="line"><span class="comment">        &lt;result property=&quot;sal&quot; column=&quot;sal&quot;&gt;&lt;/result&gt;</span></span><br><span class="line"><span class="comment">        &lt;result property=&quot;hiredate&quot; column=&quot;hiredate&quot;&gt;&lt;/result&gt;</span></span><br><span class="line"><span class="comment">        &lt;result property=&quot;mgr&quot; column=&quot;mgr&quot;&gt;&lt;/result&gt;</span></span><br><span class="line"><span class="comment">        &lt;result property=&quot;comm&quot; column=&quot;comm&quot;&gt;&lt;/result&gt;</span></span><br><span class="line"><span class="comment">        &lt;result property=&quot;deptno&quot; column=&quot;deptno&quot;&gt;&lt;/result&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByEmpno&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;empMap&quot;</span> &gt;</span></span><br><span class="line">        select * from emp where empno =#&#123;empno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240216110426508.png" alt="image-20240216110426508"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE TABLE</span> `projects`  (</span><br><span class="line">  `pid` <span class="type">int</span>(<span class="number">2</span>) <span class="keyword">NOT NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `pname` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">CHARACTER SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_0900_ai_ci <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `money` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`pid`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="keyword">CHARACTER SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_0900_ai_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projects` <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27; ***å¤§å­¦OA&#x27;</span>, <span class="number">500000</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projects` <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;å­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿ&#x27;</span>, <span class="number">100000</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projects` <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;è®²å¸ˆæµ‹è¯„ç³»ç»Ÿ&#x27;</span>, <span class="number">20000</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projects` <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">&#x27;çº¿ä¸Šé—®ç­”ç³»ç»Ÿ &#x27;</span>, <span class="number">20000</span>);</span><br><span class="line"><span class="keyword">CREATE TABLE</span> `projectrecord`  (</span><br><span class="line">  `empno` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  `pid` <span class="type">int</span>(<span class="number">2</span>) <span class="keyword">NOT NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY KEY</span> (`empno`, `pid`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  INDEX `fk_project_pro`(`pid`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `fk_emp_pro` <span class="keyword">FOREIGN KEY</span> (`empno`) <span class="keyword">REFERENCES</span> `emp` (`EMPNO`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `fk_project_pro` <span class="keyword">FOREIGN KEY</span> (`pid`) <span class="keyword">REFERENCES</span> `projects` (`pid`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE</span><br><span class="line">) ENGINE <span class="operator">=</span> InnoDB <span class="keyword">CHARACTER SET</span> <span class="operator">=</span> utf8mb4 <span class="keyword">COLLATE</span> <span class="operator">=</span> utf8mb4_0900_ai_ci ROW_FORMAT <span class="operator">=</span> <span class="keyword">Dynamic</span>;</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7369</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7521</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7369</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7499</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7521</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7369</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7499</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7521</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7369</span>, <span class="number">4</span>);</span><br><span class="line"><span class="keyword">INSERT INTO</span> `projectrecord` <span class="keyword">VALUES</span> (<span class="number">7499</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<h6 id="ä¸€å¯¹ä¸€å…³è”æŸ¥è¯¢"><a href="#ä¸€å¯¹ä¸€å…³è”æŸ¥è¯¢" class="headerlink" title="ä¸€å¯¹ä¸€å…³è”æŸ¥è¯¢"></a>ä¸€å¯¹ä¸€å…³è”æŸ¥è¯¢</h6><p>éœ€æ±‚:æ ¹æ®ç¼–å·æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯åŠæ‰€åœ¨çš„éƒ¨é—¨ä¿¡æ¯</p>
<p>å®ä½“ç±»æ·»åŠ ä¸€ä¸ªéƒ¨é—¨ä½œä¸ºå±æ€§</p>
<p><strong>å®ä½“ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer empno;</span><br><span class="line">    <span class="keyword">private</span> String ename;</span><br><span class="line">    <span class="keyword">private</span> String job;</span><br><span class="line">    <span class="keyword">private</span> Integer mgr;</span><br><span class="line">    <span class="keyword">private</span> Date hiredate;</span><br><span class="line">    <span class="keyword">private</span> Double sal;</span><br><span class="line">    <span class="keyword">private</span> Double comm;</span><br><span class="line">    <span class="keyword">private</span> Integer deptno;</span><br><span class="line">    <span class="comment">// ç»„åˆä¸€ä¸ªDeptå¯¹è±¡ä½œä¸ºè‡ªå·±çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">private</span> Dept dept;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ¥å£</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpMapper</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å‘˜å·¥ç¼–å·æŸ¥è¯¢å‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯å¹¶æºå¸¦æ‰€åœ¨çš„éƒ¨é—¨ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> empno è¦æŸ¥è¯¢çš„å‘˜å·¥ç¼–å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Empå¯¹è±¡,ç»„åˆäº†Deptå¯¹è±¡ä½œä¸ºå±æ€§,å¯¹éƒ¨é—¨ä¿¡æ¯è¿›è¡Œå­˜å‚¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Emp <span class="title function_">findEmpJoinDeptByEmpno</span><span class="params">(<span class="type">int</span> empno)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ˜ å°„æ–‡ä»¶</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bitzh.mapper.EmpMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Emp findEmpJoinDeptByEmpno(int empno);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;empJoinDept&quot;</span> <span class="attr">type</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è®¾ç½®empæœ¬èº«çš„å…«ä¸ªå±æ€§çš„æ˜ å°„å…³ç³»--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;empno&quot;</span> <span class="attr">column</span>=<span class="string">&quot;empno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">column</span>=<span class="string">&quot;ename&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;job&quot;</span> <span class="attr">column</span>=<span class="string">&quot;job&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sal&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sal&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;hiredate&quot;</span> <span class="attr">column</span>=<span class="string">&quot;hiredate&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;mgr&quot;</span> <span class="attr">column</span>=<span class="string">&quot;mgr&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;comm&quot;</span> <span class="attr">column</span>=<span class="string">&quot;comm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptno&quot;</span> <span class="attr">column</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        association å¤„ç†ä¸€å¯¹ä¸€</span></span><br><span class="line"><span class="comment">        å°è£…ä¸€å¯¹ä¸€ä¿¡æ¯å…³ç³»çš„æ ‡ç­¾</span></span><br><span class="line"><span class="comment">        property  empç±»çš„å±æ€§å</span></span><br><span class="line"><span class="comment">        javaType  ç”¨å“ªä¸ªç±»çš„å¯¹è±¡ç»™å±æ€§èµ‹å€¼</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;deptno&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">property</span>=<span class="string">&quot;dname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;loc&quot;</span> <span class="attr">property</span>=<span class="string">&quot;loc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpJoinDeptByEmpno&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;empJoinDept&quot;</span> &gt;</span></span><br><span class="line">        select * from</span><br><span class="line">        emp e</span><br><span class="line">        left join dept  d</span><br><span class="line">        on e.deptno =d.deptno</span><br><span class="line">        where empno = #&#123;empno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="ä¸€å¯¹å¤šå…³è”æŸ¥è¯¢"><a href="#ä¸€å¯¹å¤šå…³è”æŸ¥è¯¢" class="headerlink" title="ä¸€å¯¹å¤šå…³è”æŸ¥è¯¢"></a>ä¸€å¯¹å¤šå…³è”æŸ¥è¯¢</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.msb.mapper.DeptMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Dept findDeptJoinEmpsByDeptno(int deptno);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;deptJoinEmps&quot;</span> <span class="attr">type</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;deptno&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">property</span>=<span class="string">&quot;dname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;loc&quot;</span> <span class="attr">property</span>=<span class="string">&quot;loc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å¤„ç†ä¸€å¯¹å¤šå…³ç³»çš„æ ‡ç­¾--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;empList&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;emp&quot;</span> &gt;</span></span><br><span class="line">            <span class="comment">&lt;!--è®¾ç½®empæœ¬èº«çš„å…«ä¸ªå±æ€§çš„æ˜ å°„å…³ç³»--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;empno&quot;</span> <span class="attr">column</span>=<span class="string">&quot;empno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">column</span>=<span class="string">&quot;ename&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;job&quot;</span> <span class="attr">column</span>=<span class="string">&quot;job&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sal&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sal&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;hiredate&quot;</span> <span class="attr">column</span>=<span class="string">&quot;hiredate&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;mgr&quot;</span> <span class="attr">column</span>=<span class="string">&quot;mgr&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;comm&quot;</span> <span class="attr">column</span>=<span class="string">&quot;comm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptno&quot;</span> <span class="attr">column</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findDeptJoinEmpsByDeptno&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;deptJoinEmps&quot;</span>&gt;</span></span><br><span class="line">        select * from dept d left join emp e on d.deptno =e.deptno where d.deptno =#&#123;deptno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>å¤šå¯¹å¤šå…³è”æŸ¥è¯¢</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.msb.mapper.ProjectMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Project findProjectJoinEmpsByPid(int pid);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;projectJoinEmps&quot;</span> <span class="attr">type</span>=<span class="string">&quot;project&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;pid&quot;</span> <span class="attr">property</span>=<span class="string">&quot;pid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;pname&quot;</span> <span class="attr">property</span>=<span class="string">&quot;pname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;money&quot;</span> <span class="attr">property</span>=<span class="string">&quot;money&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ä¸€å¯¹å¤š é›†åˆå±æ€§ collection--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;projectRecords&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;projectRecord&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;empno&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;pid&quot;</span> <span class="attr">property</span>=<span class="string">&quot;pid&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--ä¸€å¯¹ä¸€ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;empno&quot;</span> <span class="attr">column</span>=<span class="string">&quot;empno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">column</span>=<span class="string">&quot;ename&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;job&quot;</span> <span class="attr">column</span>=<span class="string">&quot;job&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sal&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sal&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;hiredate&quot;</span> <span class="attr">column</span>=<span class="string">&quot;hiredate&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;mgr&quot;</span> <span class="attr">column</span>=<span class="string">&quot;mgr&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;comm&quot;</span> <span class="attr">column</span>=<span class="string">&quot;comm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptno&quot;</span> <span class="attr">column</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findProjectJoinEmpsByPid&quot;</span>  <span class="attr">resultMap</span>=<span class="string">&quot;projectJoinEmps&quot;</span>&gt;</span></span><br><span class="line">        select * from</span><br><span class="line">        project p</span><br><span class="line">        left join projectrecord pr</span><br><span class="line">        on p.pid = pr.pid</span><br><span class="line">        left join emp e</span><br><span class="line">        on e.empno = pr.empno</span><br><span class="line">        where p.pid= #&#123;pid&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="ç§¯æåŠ è½½"><a href="#ç§¯æåŠ è½½" class="headerlink" title="ç§¯æåŠ è½½"></a>ç§¯æåŠ è½½</h4><p>ä¸ç®¡éœ€ä¸éœ€è¦éƒ½ç«‹åˆ»åŠ è½½å‡ºæ¥</p>
<p>åŠŸèƒ½1ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„ä¿¡æ¯ï¼ˆå¤šå¯¹ä¸€å…³è”ï¼‰</p>
<p>ç»è¿‡å¯¹æ¯”ï¼Œå‘ç°ç»è¿‡åœ¨æ˜ å°„æ–‡ä»¶ä¸­é…ç½®ï¼Œæµ‹è¯•ç±»çš„ä»£ç å¤§å¤§ç®€åŒ–äº†ï¼Œæ— åºæ‰‹åŠ¨è¿›è¡Œå…³è”æŸ¥è¯¢å’Œç»„è£…æ•°æ®äº†ã€‚</p>
<p>åŠŸèƒ½2ï¼šæŸ¥è¯¢10å·éƒ¨é—¨åŠå…¶è¯¥éƒ¨é—¨å‘˜å·¥ä¿¡æ¯ã€‚</p>
<p>Deptå’ŒEmpå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer deptno;</span><br><span class="line">    <span class="keyword">private</span> String dname;</span><br><span class="line">    <span class="keyword">private</span> String loc;</span><br><span class="line">    <span class="comment">// å½“å‰éƒ¨é—¨ä¸‹çš„æ‰€æœ‰å‘˜å·¥å¯¹è±¡çš„Listé›†åˆ</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Emp&gt; empList;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer empno;</span><br><span class="line">    <span class="keyword">private</span> String ename;</span><br><span class="line">    <span class="keyword">private</span> String job;</span><br><span class="line">    <span class="keyword">private</span> Integer mgr;</span><br><span class="line">    <span class="keyword">private</span> Date hiredate;</span><br><span class="line">    <span class="keyword">private</span> Double sal;</span><br><span class="line">    <span class="keyword">private</span> Double comm;</span><br><span class="line">    <span class="keyword">private</span> Integer deptno;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bitzh.mapper;</span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Dept;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DeptMapper</span> &#123;</span><br><span class="line">    Dept <span class="title function_">findDeptByDeptno</span><span class="params">(<span class="type">int</span> deptno)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.bitzh.mapper;</span><br><span class="line"><span class="keyword">import</span> com.bitzh.pojo.Emp;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmpMapper</span> &#123;</span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findEmpsByDeptno</span><span class="params">(<span class="type">int</span> deptno)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bitzh.mapper.DeptMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Dept findDeptByDeptno(int deptno);</span></span><br><span class="line"><span class="comment">    select=&quot;com.bitzh.mapper.EmpMapper.findEmpsByDeptno&quot; è°ƒç”¨çš„å¦ä¸€ä¸ªSQLè¯­å¥</span></span><br><span class="line"><span class="comment">    javaType=&quot;list&quot;  å®ä½“ç±»çš„å±æ€§æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">    column=&quot;deptno&quot;  ç»™å¦ä¸€ä¸ªSQLè¯­å¥ä¼ å…¥çš„å‚æ•°åˆ—</span></span><br><span class="line"><span class="comment">    jdbcType=&quot;INTEGER&quot; å‚æ•°å¯¹åº”JDBCçš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">    fetchType=&quot;eager&quot;  åŠ è½½æ–¹å¼ eager ç§¯æåŠ è½½  lazyå»¶è¿ŸåŠ è½½--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;deptJoinEmps&quot;</span> <span class="attr">type</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;deptno&quot;</span> <span class="attr">column</span>=<span class="string">&quot;deptno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;loc&quot;</span> <span class="attr">column</span>=<span class="string">&quot;loc&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;empList&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">select</span>=<span class="string">&quot;com.bitzh.mapper.EmpMapper.findEmpsByDeptno&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">javaType</span>=<span class="string">&quot;list&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">column</span>=<span class="string">&quot;deptno&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">jdbcType</span>=<span class="string">&quot;INTEGER&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">fetchType</span>=<span class="string">&quot;eager&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findDeptByDeptno&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;deptJoinEmps&quot;</span>&gt;</span></span><br><span class="line">        select * from dept where deptno =#&#123;deptno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bitzh.mapper.EmpMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--List&lt;Emp&gt; findEmpsByDeptno(int deptno);--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findEmpsByDeptno&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span>&gt;</span></span><br><span class="line">        select * from emp where deptno =#&#123;deptno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h4><p>ä»€ä¹ˆæ˜¯æ‡’åŠ è½½</p>
<p>æ‡’åŠ è½½ï¼Œå³å»¶è¿ŸåŠ è½½(Lazyload)ã€‚ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªé•¿é¡µé¢ä¸­éœ€è¦å±•ç¤ºå¾ˆå¤šå›¾åƒçš„æ—¶å€™ï¼Œå¦‚æœåœ¨è¿›å…¥é¡µé¢çš„æ—¶å€™ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰å›¾ç‰‡åŠ è½½å®Œï¼Œéœ€è¦å¾ˆé•¿çš„æ—¶é—´ã€‚ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬ä½¿ç”¨æ‡’åŠ è½½ï¼Œå½“å›¾ç‰‡å‡ºç°åœ¨æµè§ˆå™¨å¯è§†åŒºåŸŸæ—¶ï¼Œæ‰åŠ è½½å›¾ç‰‡ã€‚ä¾‹å¦‚å„ç§ç”µå•†é¡µé¢ã€‚</p>
<p>å»¶è¿ŸåŠ è½½ï¼Œåˆç§°æŒ‰éœ€åŠ è½½ã€‚å»¶è¿ŸåŠ è½½çš„å†…å®¹ç­‰åˆ°çœŸæ­£ä½¿ç”¨æ—¶æ‰å»è¿›è¡ŒåŠ è½½ï¼ˆæŸ¥è¯¢ï¼‰ã€‚å¤šç”¨åœ¨å…³è”å¯¹è±¡æˆ–é›†åˆä¸­ã€‚</p>
<p>å»¶è¿ŸåŠ è½½çš„å¥½å¤„ï¼šå…ˆä»å•è¡¨æŸ¥è¯¢ã€éœ€è¦æ—¶å†ä»å…³è”è¡¨å»å…³è”æŸ¥è¯¢ï¼Œå¤§å¤§é™ä½æ•°æ®åº“åœ¨å•ä½æ—¶é—´å†…çš„æŸ¥è¯¢å·¥ä½œé‡,å°†å·¥ä½œåœ¨æ—¶é—´ä¸Šçš„åˆ†é…æ›´åŠ å‡åŒ€ï¼Œè€Œä¸”å•è¡¨è¦æ¯”å…³è”æŸ¥è¯¢å¤šå¼ è¡¨é€Ÿåº¦è¦å¿«ã€‚</p>
<p>å»¶è¿ŸåŠ è½½çš„è®¾ç½®</p>
<p>ç¬¬ä¸€æ­¥ï¼šå…¨å±€å¼€å…³ï¼šåœ¨sqlMapConfig.xmlä¸­æ‰“å¼€å»¶è¿ŸåŠ è½½çš„å¼€å…³ã€‚é…ç½®å®Œæˆåæ‰€æœ‰çš„associationå’Œcollectionå…ƒç´ éƒ½ç”Ÿæ•ˆ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;aggressiveLazyLoading&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>lazyLoadingEnabled:æ˜¯å¦å¼€å¯å»¶è¿ŸåŠ è½½ã€‚æ˜¯Mybatisæ˜¯å¦å¯ç”¨æ‡’åŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½ã€‚ç‰¹å®šå…³è”å…³ç³»ä¸­å¯é€šè¿‡è®¾ç½®fetchTypeå±æ€§æ¥è¦†ç›–è¯¥é¡¹çš„å¼€å…³çŠ¶æ€</p>
<p>aggressiveLazyLoadingï¼šå½“å¼€å¯æ—¶ï¼Œä»»ä½•æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šæ‡’åŠ è½½å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚å¦åˆ™ï¼Œæ¯ä¸ªå±æ€§ä¼šæŒ‰éœ€åŠ è½½,</p>
<p>ç¬¬äºŒæ­¥ï¼šåˆ†å¼€å…³ï¼šæŒ‡å®šçš„associationå’Œcollectionå…ƒç´ ä¸­é…ç½®fetchTypeå±æ€§ã€‚eagerï¼šè¡¨ç¤ºç«‹åˆ»åŠ è½½ï¼›lazyï¼šè¡¨ç¤ºå»¶è¿ŸåŠ è½½ã€‚å°†è¦†ç›–å…¨å±€å»¶è¿Ÿè®¾ç½®ã€‚</p>
<h4 id="ä½¿ç”¨æ³¨è§£å®ç°CRUD"><a href="#ä½¿ç”¨æ³¨è§£å®ç°CRUD" class="headerlink" title="ä½¿ç”¨æ³¨è§£å®ç°CRUD"></a>ä½¿ç”¨æ³¨è§£å®ç°CRUD</h4><p>ä¸€äº›ç®€å•çš„æŸ¥è¯¢å¯ä»¥ç›´æ¥ä½¿ç”¨æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DeptMapper</span> &#123;</span><br><span class="line">    Dept <span class="title function_">findDeptByDeptno</span><span class="params">(<span class="type">int</span> deptno)</span>;</span><br><span class="line">    <span class="meta">@Select(&quot;select * from dept where deptno =#&#123;deptno&#125;&quot;)</span></span><br><span class="line">    Dept <span class="title function_">findByDeptno</span><span class="params">(<span class="type">int</span> deptno)</span>;</span><br><span class="line">    <span class="meta">@Update(&quot;update dept set dname =#&#123;dname&#125;, loc =#&#123;loc&#125; where deptno =#&#123;deptno&#125;&quot;)</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">updateDept</span><span class="params">(Dept dept)</span>;</span><br><span class="line">    <span class="meta">@Insert(&quot;insert into dept values(DEFAULT,#&#123;dname&#125;,#&#123;loc&#125;)&quot;)</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">addDept</span><span class="params">(Dept dept)</span>;</span><br><span class="line">    <span class="meta">@Delete(&quot;delete from dept where deptno =#&#123;deptno&#125;&quot;)</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">removeDept</span><span class="params">(<span class="type">int</span> deptno)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>1.ä½¿ç”¨æ³¨è§£æ²¡æœ‰å®ç°Javaä»£ç å’ŒSQLè¯­å¥çš„è§£è€¦</p>
<p>2.æ— æ³•å®ç°SQLè¯­å¥çš„åŠ¨æ€æ‹¼æ¥</p>
<p>3.è¿›è¡Œå¤šè¡¨çš„æŸ¥è¯¢æ—¶å®šåˆ¶ResultMapæ¯”è¾ƒéº»çƒ¦</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240216195317480.png" alt="image-20240216195317480"></p>
<p>æ˜¯ä¸€ç§ä¸´æ—¶å­˜å‚¨å°‘é‡æ•°æ®è‡³å†…å­˜æˆ–è€…æ˜¯ç£ç›˜çš„ä¸€ç§æŠ€æœ¯.å‡å°‘æ•°æ®çš„åŠ è½½æ¬¡æ•°,å¯ä»¥é™ä½å·¥ä½œé‡,æé«˜ç¨‹åºå“åº”é€Ÿåº¦</p>
<p>ç¼“å­˜çš„é‡è¦æ€§æ˜¯ä¸è¨€è€Œå–»çš„ã€‚mybatisçš„ç¼“å­˜å°†ç›¸åŒæŸ¥è¯¢æ¡ä»¶çš„SQLè¯­å¥æ‰§è¡Œä¸€éåæ‰€å¾—åˆ°çš„ç»“æœå­˜åœ¨å†…å­˜æˆ–è€…æŸç§ç¼“å­˜ä»‹è´¨å½“ä¸­ï¼Œå½“ä¸‹æ¬¡é‡åˆ°ä¸€æ¨¡ä¸€æ ·çš„æŸ¥è¯¢SQLæ—¶å€™ä¸åœ¨æ‰§è¡ŒSQLä¸æ•°æ®åº“äº¤äº’ï¼Œè€Œæ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ç»“æœï¼Œå‡å°‘æœåŠ¡å™¨çš„å‹åŠ›ï¼›å°¤å…¶æ˜¯åœ¨æŸ¥è¯¢è¶Šå¤šã€ç¼“å­˜å‘½ä¸­ç‡è¶Šé«˜çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç¼“å­˜å¯¹æ€§èƒ½çš„æé«˜æ›´æ˜æ˜¾ã€‚</p>
<p>MyBatiså…è®¸ä½¿ç”¨ç¼“å­˜ï¼Œç¼“å­˜ä¸€èˆ¬æ”¾ç½®åœ¨é«˜é€Ÿè¯»/å†™çš„å­˜å‚¨å™¨ä¸Šï¼Œæ¯”å¦‚æœåŠ¡å™¨çš„å†…å­˜ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„æä¾›ç³»ç»Ÿæ€§èƒ½ã€‚MyBatisåˆ†ä¸ºä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ï¼ŒåŒæ—¶ä¹Ÿå¯é…ç½®å…³äºç¼“å­˜è®¾ç½®ã€‚</p>
<p>ä¸€çº§å­˜å‚¨æ˜¯SqlSessionä¸Šçš„ç¼“å­˜ï¼ŒäºŒçº§ç¼“å­˜æ˜¯åœ¨SqlSessionFactory(namespace)ä¸Šçš„ç¼“å­˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒMyBatiså¼€å¯ä¸€çº§ç¼“å­˜ï¼Œæ²¡æœ‰å¼€å¯äºŒçº§ç¼“å­˜ã€‚å½“æ•°æ®é‡å¤§çš„æ—¶å€™å¯ä»¥å€ŸåŠ©ä¸€äº›ç¬¬ä¸‰æ–¹ç¼“å­˜æ¡†æ¶æˆ–Redisç¼“å­˜æ¥ååŠ©ä¿å­˜Mybatisçš„äºŒçº§ç¼“å­˜æ•°æ®ã€‚</p>
<h4 id="ä¸€çº§ç¼“å­˜"><a href="#ä¸€çº§ç¼“å­˜" class="headerlink" title="ä¸€çº§ç¼“å­˜"></a>ä¸€çº§ç¼“å­˜</h4><p>ä¸€çº§å­˜å‚¨æ˜¯SqlSessionä¸Šçš„ç¼“å­˜ï¼Œé»˜è®¤å¼€å¯ï¼Œæ˜¯ä¸€ç§å†…å­˜å‹ç¼“å­˜,ä¸è¦æ±‚å®ä½“ç±»å¯¹è±¡å®ç°Serializableæ¥å£ã€‚</p>
<p>ç¼“å­˜ä¸­çš„æ•°æ®ä½¿ç”¨é”®å€¼å¯¹å½¢å¼å­˜å‚¨æ•°æ®</p>
<p>namespace+sqlid+args+offset&gt;&gt;&gt; hashå€¼ä½œä¸ºé”®,æŸ¥è¯¢å‡ºçš„ç»“æœä½œä¸ºå€¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20240216202718466.png" alt="image-20240216202718466"></p>
<h4 id="äºŒçº§ç¼“å­˜"><a href="#äºŒçº§ç¼“å­˜" class="headerlink" title="äºŒçº§ç¼“å­˜"></a>äºŒçº§ç¼“å­˜</h4><p>1) å…¨å±€å¼€å…³ï¼šåœ¨sqlMapConfig.xmlæ–‡ä»¶ä¸­çš„<settings>æ ‡ç­¾é…ç½®å¼€å¯äºŒçº§ç¼“å­˜</p>
<p>2) ```xml</p>
<pre><code>&lt;settings&gt;

    &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;

&lt;/settings&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cacheEnabledçš„é»˜è®¤å€¼å°±æ˜¯trueï¼Œæ‰€ä»¥è¿™æ­¥çš„è®¾ç½®å¯ä»¥çœç•¥ã€‚</span><br><span class="line"></span><br><span class="line">2)    åˆ†å¼€å…³ï¼šåœ¨è¦å¼€å¯äºŒçº§ç¼“å­˜çš„mapperæ–‡ä»¶ä¸­å¼€å¯ç¼“å­˜ï¼š</span><br><span class="line"></span><br><span class="line">```xml</span><br><span class="line">&lt;mapper namespace=&quot;com.bitzh.mapper.EmployeeMapper&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;cache/&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>
</code></pre><p>åœ¨å†™æµ‹è¯•ç±»çš„æ—¶å€™ï¼Œå¢åˆ æ”¹ä¹‹åéœ€è¦æäº¤æ‰ä¼šå‡ºç°äºŒçº§ç¼“å­˜</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByEmpno&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">useCache</span>=<span class="string">&quot;true&quot;</span> <span class="attr">flushCache</span>=<span class="string">&quot;true&quot;</span>&gt;</span>//è¿™é‡Œå¼€å¯äºŒçº§ç¼“å­˜å¼€å…³</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨äºŒçº§ç¼“å­˜çš„æ—¶å€™è¦å°†å®ä½“ç±»å®ç°åºåˆ—åŒ–æ¥å£</p>
<h4 id="ä¸‰æ–¹ç¼“å­˜"><a href="#ä¸‰æ–¹ç¼“å­˜" class="headerlink" title="ä¸‰æ–¹ç¼“å­˜"></a>ä¸‰æ–¹ç¼“å­˜</h4><p>åˆ†å¸ƒå¼ç¼“å­˜æ¡†æ¶ï¼šæˆ‘ä»¬ç³»ç»Ÿä¸ºäº†æé«˜ç³»ç»Ÿå¹¶å‘å’Œæ€§èƒ½ï¼Œä¸€èˆ¬å¯¹ç³»ç»Ÿè¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²ï¼ˆé›†ç¾¤éƒ¨ç½²æ–¹å¼ï¼‰ä¸é€‚ç”¨åˆ†å¸ƒç¼“å­˜ï¼Œ ç¼“å­˜çš„æ•°æ®åœ¨å„ä¸ªæœåŠ¡å•ç‹¬å­˜å‚¨ï¼Œä¸æ–¹ä¾¿ç³»ç»Ÿå¼€å‘ã€‚æ‰€ä»¥è¦ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜å¯¹ç¼“å­˜æ•°æ®è¿›è¡Œé›†ä¸­ç®¡ç†.ehcache,redis ,memcacheç¼“å­˜æ¡†æ¶ã€‚</p>
<p>Ehcacheï¼šæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å¼€æºjavaåˆ†å¸ƒå¼ç¼“å­˜ã€‚ä¸»è¦é¢å‘é€šç”¨ç¼“å­˜ï¼ŒjavaEE å’Œ è½»é‡çº§å®¹å™¨ã€‚å®ƒå…·æœ‰å†…å­˜å’Œç£ç›˜å­˜å‚¨åŠŸèƒ½ã€‚è¢«ç”¨äºå¤§å‹å¤æ‚åˆ†å¸ƒå¼web applicationçš„</p>
<p>è¿™é‡Œçš„ä¸‰æ–¹ç¼“å­˜æ˜¯ä½œä¸ºäºŒçº§ç¼“å­˜ä½¿ç”¨çš„</p>
<p>å¯¼å…¥ä¾èµ–çš„jaræ–‡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.caches<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sf.ehcache<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-nop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å»å„è‡ªçš„sqlæ˜ å°„æ–‡ä»¶é‡Œ,å¼€å¯äºŒçº§ç¼“å­˜,å¹¶æŠŠç¼“å­˜ç±»å‹æŒ‡å®šä¸ºEhcacheCache</p>
 <cache type="org.mybatis.caches.ehcache.EhcacheCache"/>

<p>åœ¨èµ„æºç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªç¼“å­˜é…ç½®æ–‡ä»¶,æ–‡ä»¶åä¸º: ehcache.xml å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ehcache</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">&quot;ehcache.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">updateCheck</span>=<span class="string">&quot;true&quot;</span> <span class="attr">monitoring</span>=<span class="string">&quot;autodetect&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">dynamicConfig</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">diskStore</span> <span class="attr">path</span>=<span class="string">&quot;D:\msb\ehcache&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defaultCache</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsInMemory</span>=<span class="string">&quot;1000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsOnDisk</span>=<span class="string">&quot;10000000&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">eternal</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">overflowToDisk</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToIdleSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToLiveSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">diskExpiryThreadIntervalSeconds</span>=<span class="string">&quot;120&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">memoryStoreEvictionPolicy</span>=<span class="string">&quot;LRU&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">defaultCache</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ehcache</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  Cacheé…ç½®</span></span><br><span class="line"><span class="comment">        Â·           nameï¼šCacheçš„å”¯ä¸€æ ‡è¯†</span></span><br><span class="line"><span class="comment">        Â·           maxElementsInMemoryï¼šå†…å­˜ä¸­æœ€å¤§ç¼“å­˜å¯¹è±¡æ•°ã€‚</span></span><br><span class="line"><span class="comment">        Â·           maxElementsOnDiskï¼šç£ç›˜ä¸­æœ€å¤§ç¼“å­˜å¯¹è±¡æ•°ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§ã€‚</span></span><br><span class="line"><span class="comment">        Â·           eternalï¼šElementæ˜¯å¦æ°¸ä¹…æœ‰æ•ˆï¼Œä¸€ä½†è®¾ç½®äº†ï¼Œtimeoutå°†ä¸èµ·ä½œç”¨ã€‚</span></span><br><span class="line"><span class="comment">        Â·           overflowToDiskï¼šé…ç½®æ­¤å±æ€§ï¼Œå½“å†…å­˜ä¸­Elementæ•°é‡è¾¾åˆ°maxElementsInMemoryæ—¶ï¼ŒEhcacheå°†ä¼šElementå†™åˆ°ç£ç›˜ä¸­ã€‚</span></span><br><span class="line"><span class="comment">        Â·           timeToIdleSecondsï¼šè®¾ç½®Elementåœ¨å¤±æ•ˆå‰çš„å…è®¸é—²ç½®æ—¶é—´ã€‚ä»…å½“elementä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œå¯é€‰å±æ€§ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§ã€‚</span></span><br><span class="line"><span class="comment">        Â·           timeToLiveSecondsï¼šè®¾ç½®Elementåœ¨å¤±æ•ˆå‰å…è®¸å­˜æ´»æ—¶é—´ã€‚æœ€å¤§æ—¶é—´ä»‹äºåˆ›å»ºæ—¶é—´å’Œå¤±æ•ˆæ—¶é—´ä¹‹é—´ã€‚ä»…å½“elementä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œé»˜è®¤æ˜¯0.ï¼Œä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§ã€‚</span></span><br><span class="line"><span class="comment">        Â·           diskExpiryThreadIntervalSecondsï¼šç£ç›˜å¤±æ•ˆçº¿ç¨‹è¿è¡Œæ—¶é—´é—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚</span></span><br><span class="line"><span class="comment">        Â·           diskSpoolBufferSizeMBï¼šè¿™ä¸ªå‚æ•°è®¾ç½®DiskStoreï¼ˆç£ç›˜ç¼“å­˜ï¼‰çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒºã€‚</span></span><br><span class="line"><span class="comment">        Â·           memoryStoreEvictionPolicyï¼šå½“è¾¾åˆ°maxElementsInMemoryé™åˆ¶æ—¶ï¼ŒEhcacheå°†ä¼šæ ¹æ®æŒ‡å®šçš„ç­–ç•¥å»æ¸…ç†å†…å­˜ã€‚é»˜è®¤ç­–ç•¥æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ã€‚ä½ å¯ä»¥è®¾ç½®ä¸ºFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰æˆ–æ˜¯LFUï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰ã€‚     --&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="é€†å‘å·¥ç¨‹ï¼ˆäº†è§£ï¼‰"><a href="#é€†å‘å·¥ç¨‹ï¼ˆäº†è§£ï¼‰" class="headerlink" title="é€†å‘å·¥ç¨‹ï¼ˆäº†è§£ï¼‰"></a>é€†å‘å·¥ç¨‹ï¼ˆäº†è§£ï¼‰</h4><p>MyBatisçš„ä¸€ä¸ªä¸»è¦çš„ç‰¹ç‚¹å°±æ˜¯éœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™SQLï¼Œé‚£ä¹ˆå¦‚æœè¡¨å¤ªå¤šçš„è¯ï¼Œéš¾å…ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥MyBatiså®˜æ–¹æä¾›äº†ä¸€ä¸ªé€†å‘å·¥ç¨‹ï¼Œå¯ä»¥é’ˆå¯¹å•è¡¨è‡ªåŠ¨ç”ŸæˆMyBatisæ‰§è¡Œæ‰€éœ€è¦çš„ä»£ç ï¼ˆåŒ…æ‹¬mapper.xmlï¼Œmapper.javaï¼Œpojoï¼‰ã€‚ä¸€èˆ¬åœ¨å¼€å‘ä¸­ï¼Œå¸¸ç”¨çš„é€†å‘å·¥ç¨‹æ–¹å¼æ˜¯é€šè¿‡æ•°æ®åº“çš„è¡¨ç”Ÿæˆä»£ç ã€‚</p>
<p>åœ¨pom.xmlä¸­å¯¼å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">&lt;!-- mysqlé©±åŠ¨åŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ—¥å¿—åŒ…ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ‰§è¡Œä¿¡æ¯--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä»£ç ç”Ÿæˆå·¥å…·jar --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é…ç½®é€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶ åœ¨resourcesç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªåä¸ºgeneratorConfig.xmlçš„é…ç½®æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">  <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">  <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;testTables&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š trueï¼šæ˜¯ ï¼š false:å¦ --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line"><span class="comment">         connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot; userId=&quot;root&quot;</span></span><br><span class="line"><span class="comment">         password=&quot;123&quot;&gt;</span></span><br><span class="line"><span class="comment">      &lt;/jdbcConnection&gt; --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/mydb?useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="symbol">&amp;amp;</span>serverTimezone=Asia/Shanghai<span class="symbol">&amp;amp;</span>allowPublicKeyRetrieval=true&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">password</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span> </span><br><span class="line">      <span class="comment">&lt;!-- é»˜è®¤falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integerï¼Œä¸º trueæ—¶æŠŠJDBC DECIMAL å’Œ </span></span><br><span class="line"><span class="comment">         NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;forceBigDecimals&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- targetProject:ç”ŸæˆPOç±»çš„ä½ç½® --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.msb.pojo&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">targetProject</span>=<span class="string">&quot;.\src&quot;</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- ä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;trimStrings&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject:mapperæ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.msb.mapper&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">targetProject</span>=<span class="string">&quot;.\src&quot;</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- targetPackageï¼šmapperæ¥å£ç”Ÿæˆçš„ä½ç½® --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">targetPackage</span>=<span class="string">&quot;com.msb.mapper&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">targetProject</span>=<span class="string">&quot;.\src&quot;</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enableSubPackages&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- æŒ‡å®šæ•°æ®åº“è¡¨ --&gt;</span></span><br><span class="line">      </span><br><span class="line">      <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Dept&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">enableCountByExample</span>=<span class="string">&quot;false&quot;</span> <span class="attr">enableUpdateByExample</span>=<span class="string">&quot;false&quot;</span> <span class="attr">enableDeleteByExample</span>=<span class="string">&quot;false&quot;</span>    </span></span><br><span class="line"><span class="tag">               <span class="attr">enableSelectByExample</span>=<span class="string">&quot;false&quot;</span> <span class="attr">selectByExampleQueryId</span>=<span class="string">&quot;false&quot;</span> &gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">columnOverride</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;Integer&quot;</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">   <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨resourcesç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªåä¸ºlog4j.propertiesçš„é…ç½®æ–‡ä»¶,æ–‡ä»¶å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">log4j.rootLogger=debug,stdout</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.Target=System.err</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.SimpleLayout</span><br><span class="line">log4j.appender.logfile=org.apache.log4j.FileAppender</span><br><span class="line">log4j.appender.logfile.File=d:/msb.log</span><br><span class="line">log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.logfile.layout.ConversionPattern=%d&#123;yyyy-MM-dd HH:mm:ss&#125; %l %F %p %m%n</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿è¡Œé€†å‘å·¥ç¨‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeneratorSqlmap</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">generator</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        List&lt;String&gt; warnings = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">overwrite</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">configFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\ideaProjects\\reverse\\target\\classes\\generatorConfig.xml&quot;</span>);</span><br><span class="line">        <span class="type">ConfigurationParser</span> <span class="variable">cp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConfigurationParser</span>(warnings);</span><br><span class="line">        <span class="type">Configuration</span> <span class="variable">config</span> <span class="operator">=</span> cp.parseConfiguration(configFile);</span><br><span class="line">        <span class="type">DefaultShellCallback</span> <span class="variable">callback</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultShellCallback</span>(overwrite);</span><br><span class="line">        <span class="type">MyBatisGenerator</span> <span class="variable">myBatisGenerator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyBatisGenerator</span>(config,</span><br><span class="line">                callback, warnings);</span><br><span class="line">        myBatisGenerator.generate(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">GeneratorSqlmap</span> <span class="variable">generatorSqlmap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GeneratorSqlmap</span>();</span><br><span class="line">            generatorSqlmap.generator();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="mybatisé…ç½®ç›®å½•é—®é¢˜"><a href="#mybatisé…ç½®ç›®å½•é—®é¢˜" class="headerlink" title="mybatisé…ç½®ç›®å½•é—®é¢˜"></a>mybatisé…ç½®ç›®å½•é—®é¢˜</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å‘Šè¯‰mavenå°†é¡¹ç›®æºç ä¸­çš„xmlæ–‡ä»¶ä¹Ÿè¿›è¡Œç¼–è¯‘ï¼Œå¹¶æ”¾åˆ°ç¼–è¯‘ç›®å½•ä¸­--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¯ä»¥å°†é…ç½®æ–‡ä»¶ç›´æ¥æ”¾åœ¨javaæ–‡ä»¶ç›®å½•é‡Œé¢äº†</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://oyy0v0.top">oyy0v0</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://oyy0v0.top/2024/07/13/2024-7-13%20javaWeb/">https://oyy0v0.top/2024/07/13/2024-7-13%20javaWeb/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://oyy0v0.top" target="_blank">oyy0v0ğŸ˜¼</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/javaWeb/">-javaWeb</a></div><div class="post_share"><div class="social-share" data-image="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/13/2024-7-2%20Vue/" title="Vue"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Vue</div></div></a></div><div class="next-post pull-right"><a href="/2024/05/14/2024-4-29%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" title="è®¡ç®—æœºç½‘ç»œ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">è®¡ç®—æœºç½‘ç»œ</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/7.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">oyy0v0</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">48</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/oyy0v0"><i class="fab fa-github"></i><span>ğŸ’•å‰å¾€å°å®¶</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/assets/QRCode.jpg" target="_blank" title="icon-weixin"><i class="å¾®ä¿¡" style="color: faa-tada;"></i></a><a class="social-icon" href="https://github.com/oyy0v0" target="_blank" title="icon-github"><i class="Github" style="color: faa-tade;"></i></a><a class="social-icon" href="mailto:2925886492@qq.com" target="_blank" title="icon-youxiang"><i class="QQé‚®ç®±" style="color: faa-tada;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">æ¬¢è¿æ¥æ¥åˆ°æˆ‘çš„åšå®¢</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#javaWeb%E7%AC%AC%E4%B8%80%E7%89%88"><span class="toc-text">javaWebç¬¬ä¸€ç‰ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85tomcat"><span class="toc-text">å®‰è£…tomcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%93%8D%E4%BD%9CTomcat"><span class="toc-text">åˆ©ç”¨é›†æˆå¼€å‘ç¯å¢ƒæ“ä½œTomcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet"><span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">Servletç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ServletConfig"><span class="toc-text">ServletConfig</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet%E7%9A%84%E5%B1%82%E6%AC%A1%E6%8E%A5%E5%8F%A3"><span class="toc-text">Servletçš„å±‚æ¬¡æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GenericServlet"><span class="toc-text">GenericServlet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP"><span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A19%E4%B8%AA"><span class="toc-text">JSPå†…ç½®å¯¹è±¡9ä¸ª</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Http%E8%AF%B7%E6%B1%82%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-text">Httpè¯·æ±‚çŠ¶æ€ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#response%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">responseå¸¸ç”¨æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Session"><span class="toc-text">Session</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookie"><span class="toc-text">Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie-%E5%92%8CSession%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">Cookie å’ŒSessionçš„åŒºåˆ«</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">JSPå†…ç½®å¯¹è±¡çš„ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">ELè¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSTL"><span class="toc-text">JSTL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">è¿‡æ»¤å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#filter%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">filterçš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD"><span class="toc-text">æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-text">æ–‡ä»¶ä¸‹è½½</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ajax"><span class="toc-text">Ajax</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E7%9A%84WEB%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92-VS-AJAX%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92"><span class="toc-text">ä¼ ç»Ÿçš„WEBæ•°æ®äº¤äº’ VS AJAXæ•°æ®äº¤äº’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8EjQuery%E7%9A%84AJAX%E8%AF%AD%E6%B3%95"><span class="toc-text">åŸºäºjQueryçš„AJAXè¯­æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON"><span class="toc-text">JSON</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JDBC"><span class="toc-text">JDBC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#jdbc%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">jdbcä½“ç³»ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">JDBCçš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-text">æ•°æ®åº“è¿æ¥æ± </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%AE%9E%E7%8E%B0"><span class="toc-text">æ•°æ®åº“è¿æ¥æ± å®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DBUtiles"><span class="toc-text">DBUtiles</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#javaWeb%E7%AC%AC%E4%BA%8C%E7%89%88%EF%BC%88%E5%92%8C%E7%AC%AC%E4%B8%80%E7%89%88%E6%9C%89%E9%87%8D%E5%A4%8D%EF%BC%89"><span class="toc-text">javaWebç¬¬äºŒç‰ˆï¼ˆå’Œç¬¬ä¸€ç‰ˆæœ‰é‡å¤ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaWeb"><span class="toc-text">JavaWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaEE"><span class="toc-text">JavaEE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat%E5%AE%89%E8%A3%85%E5%92%8C%E5%BA%94%E7%94%A8"><span class="toc-text">Tomcatå®‰è£…å’Œåº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat%E7%9A%84%E7%BB%93%E6%9E%84%E8%AE%A4%E8%AF%86"><span class="toc-text">Tomcatçš„ç»“æ„è®¤è¯†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat%E9%83%A8%E7%BD%B2%E9%A1%B9%E7%9B%AE"><span class="toc-text">Tomcatéƒ¨ç½²é¡¹ç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat%E9%83%A8%E7%BD%B2%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-text">Tomcatéƒ¨ç½²æ–‡ä»¶é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tomcat%E4%B8%BB%E8%A6%81%E7%BB%84%E4%BB%B6"><span class="toc-text">Tomcatä¸»è¦ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Http%E5%8D%8F%E8%AE%AE"><span class="toc-text">Httpåè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Http%E5%8D%8F%E8%AE%AE-1"><span class="toc-text">Httpåè®®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82"><span class="toc-text">HTTPè¯·æ±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%A1%8C"><span class="toc-text">è¯·æ±‚è¡Œ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-text">è¯·æ±‚å¤´</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E4%BD%93"><span class="toc-text">è¯·æ±‚ä½“</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E5%93%8D%E5%BA%94"><span class="toc-text">HTTPå“åº”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JAVAWEB%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2"><span class="toc-text">JAVAWEBé¡¹ç›®éƒ¨ç½²</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8idea%E5%BC%80%E5%8F%91JAVAWEB%E9%A1%B9%E7%9B%AE"><span class="toc-text">ä½¿ç”¨ideaå¼€å‘JAVAWEBé¡¹ç›®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D-Idea%E9%83%A8%E7%BD%B2JAVAWEB%E9%A1%B9%E7%9B%AE%E5%B9%B6%E8%BF%90%E8%A1%8C%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%88%E6%8E%8C%E6%8F%A1%EF%BC%89"><span class="toc-text">ç¬¬ä¸€ç§ Ideaéƒ¨ç½²JAVAWEBé¡¹ç›®å¹¶è¿è¡Œçš„æ–¹å¼ï¼ˆæŒæ¡ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet-1"><span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="toc-text">Servletå¼€å‘æµç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3HttpServletRequest%E5%AF%B9%E5%BA%94%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">äº†è§£HttpServletRequestå¯¹åº”çš„æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E8%A1%8C%E4%BF%A1%E6%81%AF"><span class="toc-text">è·å–è¯·æ±‚è¡Œä¿¡æ¯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%BF%A1%E6%81%AF"><span class="toc-text">è·å–è¯·æ±‚å¤´ä¿¡æ¯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="toc-text">è·å–è¯·æ±‚æ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HttpServletResponse%E5%AF%B9%E8%B1%A1"><span class="toc-text">HttpServletResponseå¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-text">å…³äºä¹±ç é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet%E7%BB%A7%E6%89%BF%E7%BB%93%E6%9E%84"><span class="toc-text">Servletç»§æ‰¿ç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-1"><span class="toc-text">Servletç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ServletContext%E5%AF%B9%E8%B1%A1%E5%92%8C%E4%BD%9C%E7%94%A8"><span class="toc-text">ServletContextå¯¹è±¡å’Œä½œç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ServletContext%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">ServletContextå¯¹è±¡çš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ServletConfig%E5%AF%B9%E8%B1%A1"><span class="toc-text">ServletConfigå¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#url%E8%B7%AF%E5%BE%84%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99"><span class="toc-text">urlè·¯å¾„åŒ¹é…è§„åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E6%A8%A1%E5%BC%8F%E5%BC%80%E5%8F%91Servlet"><span class="toc-text">æ³¨è§£æ¨¡å¼å¼€å‘Servlet</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-text">è¯·æ±‚è½¬å‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">å“åº”é‡å®šå‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">è·¯å¾„é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">å‰ç«¯è·¯å¾„é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">è¯·æ±‚è½¬å‘è·¯å¾„é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E9%87%8D%E5%AE%9A%E5%90%91%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="toc-text">å“åº”é‡å®šå‘çš„è·¯å¾„é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86%E6%A6%82%E5%BF%B5%E5%BC%95%E5%85%A5"><span class="toc-text">ä¼šè¯ç®¡ç†æ¦‚å¿µå¼•å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Cookie%E5%92%8CSession%E7%9A%84%E5%BC%95%E5%85%A5"><span class="toc-text">Cookieå’ŒSessionçš„å¼•å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Cookie%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">Cookieçš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Session%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">Sessionçš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E9%80%9A%E8%BF%87HttpSession%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E7%99%BB%E5%BD%95"><span class="toc-text">æ¡ˆä¾‹ï¼šé€šè¿‡HttpSessionåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%AF%B9%E8%B1%A1"><span class="toc-text">åŸŸå¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Request%E5%9F%9F"><span class="toc-text">RequeståŸŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Session%E5%9F%9F%E4%BC%A0%E9%80%92%E5%AF%B9%E8%B1%A1"><span class="toc-text">SessionåŸŸä¼ é€’å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Application%E5%9F%9F%EF%BC%88%E5%BA%94%E7%94%A8%E5%9F%9F%EF%BC%89"><span class="toc-text">ApplicationåŸŸï¼ˆåº”ç”¨åŸŸï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP-1"><span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E4%BD%9C%E4%B8%BA%E8%B5%84%E6%BA%90%E5%BC%95%E5%85%A5"><span class="toc-text">JSPä½œä¸ºèµ„æºå¼•å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E5%8E%9F%E7%90%86"><span class="toc-text">JSPåŸç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB"><span class="toc-text">å‰åç«¯åˆ†ç¦»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E7%9A%84%E5%8F%98%E9%87%8F%E5%92%8C%E6%B3%A8%E9%87%8A%E9%97%AE%E9%A2%98"><span class="toc-text">JSPçš„å˜é‡å’Œæ³¨é‡Šé—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="toc-text">JSPä½¿ç”¨å»ºè®®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E6%8C%87%E4%BB%A4%E6%A0%87%E7%AD%BE"><span class="toc-text">JSPæŒ‡ä»¤æ ‡ç­¾</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#page%E6%8C%87%E4%BB%A4%E6%A0%87%E7%AD%BE"><span class="toc-text">pageæŒ‡ä»¤æ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#include%E6%8C%87%E4%BB%A4%E6%A0%87%E7%AD%BE"><span class="toc-text">includeæŒ‡ä»¤æ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#taglib%E6%A0%87%E7%AD%BE"><span class="toc-text">taglibæ ‡ç­¾</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-text">JSPå†…ç½®å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-text">ä¹å¤§å†…ç½®å¯¹è±¡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">ä¹å¤§å†…ç½®å¯¹è±¡çš„ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F-1"><span class="toc-text">ELè¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSTL%E6%A0%B8%E5%BF%83%E6%A0%87%E7%AD%BE"><span class="toc-text">JSTLæ ¸å¿ƒæ ‡ç­¾</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MVC%E6%A8%A1%E5%BC%8F%E5%BC%95%E5%85%A5"><span class="toc-text">MVCæ¨¡å¼å¼•å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E5%92%8C%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">è¿‡æ»¤å™¨å’Œç›‘å¬å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8-1"><span class="toc-text">è¿‡æ»¤å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%AD%A5%E4%BD%BF%E7%94%A8filter"><span class="toc-text">ä¸‰æ­¥ä½¿ç”¨filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E9%93%BE%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">è¿‡æ»¤å™¨é“¾çš„ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE"><span class="toc-text">è¿‡æ»¤å™¨åˆå§‹åŒ–å‚æ•°é…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%9D%A5%E5%86%99%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">ç”¨æ³¨è§£æ¥å†™è¿‡æ»¤å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E5%BC%80%E5%8F%91%E4%B9%8BPOST%E4%B9%B1%E7%A0%81%E5%A4%84%E7%90%86"><span class="toc-text">æ¡ˆä¾‹å¼€å‘ä¹‹POSTä¹±ç å¤„ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E5%BC%80%E5%8F%91%E4%B9%8B%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81"><span class="toc-text">æ¡ˆä¾‹å¼€å‘ä¹‹ç™»å½•éªŒè¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">ç›‘å¬å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Request%E5%9F%9F%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">RequeståŸŸç›‘å¬å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Session%E7%9B%91%E5%90%AC%E5%9F%9F"><span class="toc-text">Sessionç›‘å¬åŸŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Application%E5%9F%9F%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">ApplicationåŸŸç›‘å¬å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E5%BC%80%E5%8F%91%EF%BC%9A%E8%AE%B0%E5%BD%95%E8%AF%B7%E6%B1%82%E6%97%A5%E5%BF%97"><span class="toc-text">æ¡ˆä¾‹å¼€å‘ï¼šè®°å½•è¯·æ±‚æ—¥å¿—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E7%BB%9F%E8%AE%A1%E5%AE%9E%E6%97%B6%E5%9C%A8%E7%BA%BF%E4%BA%BA%E6%95%B0"><span class="toc-text">æ¡ˆä¾‹ç»Ÿè®¡å®æ—¶åœ¨çº¿äººæ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%87%8D%E5%90%AF%E5%85%8D%E7%99%BB%E5%BD%95"><span class="toc-text">é¡¹ç›®é‡å¯å…ç™»å½•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E9%A1%B5"><span class="toc-text">åˆ†é¡µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="toc-text">åˆ†é¡µå®ç°çš„æ€è·¯</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AJAX"><span class="toc-text">AJAX</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5"><span class="toc-text">åŒæ­¥å’Œå¼‚æ­¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AJAX%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF"><span class="toc-text">AJAXå…³é”®æŠ€æœ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AJAX%E4%B9%8B%E9%AA%8C%E8%AF%81%E7%94%A8%E6%88%B7%E5%90%8D%E6%98%AF%E5%90%A6%E8%A2%AB%E5%8D%A0%E7%94%A8"><span class="toc-text">AJAXä¹‹éªŒè¯ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86JSON%E6%A0%BC%E5%BC%8F"><span class="toc-text">è®¤è¯†JSONæ ¼å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MyBatis"><span class="toc-text">MyBatis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mybatis%E5%88%9D%E6%AC%A1%E4%BD%BF%E7%94%A8"><span class="toc-text">Mybatisåˆæ¬¡ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E6%AC%A1%E4%BD%BF%E7%94%A8MyBatis"><span class="toc-text">åˆæ¬¡ä½¿ç”¨MyBatis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MyBatis%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3"><span class="toc-text">MyBatisé…ç½®è¯¦è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE"><span class="toc-text">å…³äºäº‹åŠ¡é…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E6%96%B9%E5%BC%8F"><span class="toc-text">æ˜ å°„æ–‡ä»¶åŠ è½½æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%88%AB%E5%90%8D"><span class="toc-text">ç±»åˆ«å</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E4%BF%A1%E6%81%AF"><span class="toc-text">å¤–éƒ¨å±æ€§é…ç½®æ–‡ä»¶å­˜å‚¨æ•°æ®åº“è¿æ¥ä¿¡æ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SqlSession%E4%B8%89%E7%A7%8D%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95"><span class="toc-text">SqlSessionä¸‰ç§æŸ¥è¯¢æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sqlSession%E4%B8%AD%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">sqlSessionä¸­ä¼ é€’å‚æ•°çš„ä¸‰ç§æ–¹å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SqlSession%E5%AE%9E%E7%8E%B0CRUD%E5%AE%8C%E6%88%90%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="toc-text">SqlSessionå®ç°CRUDå®Œæˆå¢åˆ æ”¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mybatis%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%BC%80%E5%8F%91"><span class="toc-text">Mybatisä»£ç†æ¨¡å¼å¼€å‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E6%8E%A5%E5%8F%A3%E4%B8%8B%E7%9A%84%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98"><span class="toc-text">ä»£ç†æ¥å£ä¸‹çš„å‚æ•°é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mybatis%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-text">Mybatisæ¨¡ç³ŠæŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mybatis%E4%B8%BB%E9%94%AE%E8%87%AA%E5%A2%9E%E5%9B%9E%E5%A1%AB"><span class="toc-text">Mybatisä¸»é”®è‡ªå¢å›å¡«</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0CRUD%E6%9F%A5%E8%AF%A2%E6%80%BB%E7%BB%93"><span class="toc-text">å®ç°CRUDæŸ¥è¯¢æ€»ç»“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81SQL"><span class="toc-text">åŠ¨æ€SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#if%E6%A0%87%E7%AD%BE"><span class="toc-text">ifæ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%A8%E4%BA%8E%E5%A4%84%E7%90%86where%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8Cand"><span class="toc-text">ç”¨äºå¤„ç†whereå…³é”®å­—å’Œand</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#choose%E6%A0%87%E7%AD%BE"><span class="toc-text">chooseæ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#set%E6%A0%87%E7%AD%BE"><span class="toc-text">setæ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#trim%E6%A0%87%E7%AD%BE"><span class="toc-text">trimæ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#bind%E6%A0%87%E7%AD%BE"><span class="toc-text">bindæ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sql%E6%A0%87%E7%AD%BE"><span class="toc-text">sqlæ ‡ç­¾</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#foreach%E6%A0%87%E7%AD%BE"><span class="toc-text">foreachæ ‡ç­¾</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mybatis%E5%AE%9E%E7%8E%B0%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">Mybatiså®ç°å¤šè¡¨æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2"><span class="toc-text">å…³è”æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%A4%84%E7%90%86%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB"><span class="toc-text">æ‰‹åŠ¨å¤„ç†æ˜ å°„å…³ç³»</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">å¤šè¡¨æŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E4%B8%80%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2"><span class="toc-text">ä¸€å¯¹ä¸€å…³è”æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2"><span class="toc-text">ä¸€å¯¹å¤šå…³è”æŸ¥è¯¢</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%AF%E6%9E%81%E5%8A%A0%E8%BD%BD"><span class="toc-text">ç§¯æåŠ è½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-text">æ‡’åŠ è½½</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%AE%9E%E7%8E%B0CRUD"><span class="toc-text">ä½¿ç”¨æ³¨è§£å®ç°CRUD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98"><span class="toc-text">ä¸€çº§ç¼“å­˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98"><span class="toc-text">äºŒçº§ç¼“å­˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%96%B9%E7%BC%93%E5%AD%98"><span class="toc-text">ä¸‰æ–¹ç¼“å­˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-text">é€†å‘å·¥ç¨‹ï¼ˆäº†è§£ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mybatis%E9%85%8D%E7%BD%AE%E7%9B%AE%E5%BD%95%E9%97%AE%E9%A2%98"><span class="toc-text">mybatisé…ç½®ç›®å½•é—®é¢˜</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By oyy0v0</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.oyy0v0.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.oyy0v0.top/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/cursor.js"></script><script async src="//at.alicdn.com/t/c/font_4658720_723un29n3vn.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer data-pjax src="/js/readPercent.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = '8b4e8faa226f49ff851d67d0354499b7';
  var gaud_map_key = '85e43a6ba1ebb38fd12b0d8a886ecb9b';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '113.34532,23.15624';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg);"> <a class="categoryBar-list-link" href="categories/ç®—æ³•/">ç®—æ³•</a><span class="categoryBar-list-count">12</span><span class="categoryBar-list-descr">javaå…¥é—¨</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg);"> <a class="categoryBar-list-link" href="categories/javaå…¥é—¨/">javaå…¥é—¨</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr">ç®—æ³•</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg);"> <a class="categoryBar-list-link" href="categories/é¡¹ç›®/">é¡¹ç›®</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">é¡¹ç›®</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/14.jpg);"> <a class="categoryBar-list-link" href="categories/åšå®¢/">åšå®¢</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">åšå®¢</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg);"> <a class="categoryBar-list-link" href="categories/å‰ç«¯/">å‰ç«¯</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">å‰ç«¯</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg);"> <a class="categoryBar-list-link" href="categories/GitHub/">GitHub</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">GitHub</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg);"> <a class="categoryBar-list-link" href="categories/AI/">AI</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">AI</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg);"> <a class="categoryBar-list-link" href="categories/é¢è¯•é›†åˆ/">é¢è¯•é›†åˆ</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">Javaä¸­çº§</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg);"> <a class="categoryBar-list-link" href="categories/javaä¸­çº§/">javaä¸­çº§</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr">æ“ä½œç³»ç»Ÿ</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg);"> <a class="categoryBar-list-link" href="categories/javaé«˜çº§/">javaé«˜çº§</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr">Goè¯­è¨€</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg);"> <a class="categoryBar-list-link" href="categories/è®¡ç®—æœºç½‘ç»œ/">è®¡ç®—æœºç½‘ç»œ</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">è®¡ç®—æœºç½‘ç»œ</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg);"> <a class="categoryBar-list-link" href="categories/Goè¯­è¨€/">Goè¯­è¨€</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">é¢è¯•</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg);"> <a class="categoryBar-list-link" href="categories/é¢è¯•/">é¢è¯•</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">javaé«˜çº§</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg);"> <a class="categoryBar-list-link" href="categories/æ“ä½œç³»ç»Ÿ/">æ“ä½œç³»ç»Ÿ</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">javaè¸©å‘</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg);"> <a class="categoryBar-list-link" href="categories/javaå°è®°/">javaå°è®°</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">javaå°è®°</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg);"> <a class="categoryBar-list-link" href="categories/javaè¸©å‘/">javaè¸©å‘</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">javaæ€è·¯</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg);"> <a class="categoryBar-list-link" href="categories/javaæ€è·¯/">javaæ€è·¯</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">è®¾è®¡æ¨¡å¼</span></li></ul></div></div>';
      console.log('å·²æŒ‚è½½butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/23/2024-8-17 Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-23</span><a class="blog-slider__title" href="2025/02/23/2024-8-17 Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ/" alt="">Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/02/23/2024-8-17 Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/09/01/2024-9-1 DockeråŸºç¡€/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-09-01</span><a class="blog-slider__title" href="2024/09/01/2024-9-1 DockeråŸºç¡€/" alt="">Docker</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/09/01/2024-9-1 DockeråŸºç¡€/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/29/2024-8-29 Solr/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-29</span><a class="blog-slider__title" href="2024/08/29/2024-8-29 Solr/" alt="">Solr</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/29/2024-8-29 Solr/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/24/2024-8-24 è™šæ‹ŸæœºVMware/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-24</span><a class="blog-slider__title" href="2024/08/24/2024-8-24 è™šæ‹ŸæœºVMware/" alt="">è™šæ‹Ÿæœº</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/24/2024-8-24 è™šæ‹ŸæœºVMware/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/26/2024-11-26è®¾è®¡æ¨¡å¼/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-26</span><a class="blog-slider__title" href="2024/11/26/2024-11-26è®¾è®¡æ¨¡å¼/" alt="">è®¾è®¡æ¨¡å¼</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/11/26/2024-11-26è®¾è®¡æ¨¡å¼/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/26/2024-11-22 é¢è¯•/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-26</span><a class="blog-slider__title" href="2024/11/26/2024-11-22 é¢è¯•/" alt="">é¢è¯•é›†åˆ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/11/26/2024-11-22 é¢è¯•/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/21/2024-8-5 Spring/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-21</span><a class="blog-slider__title" href="2024/07/21/2024-8-5 Spring/" alt="">Spring</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/21/2024-8-5 Spring/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-7 Springboot/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-7 Springboot/" alt="">Springboot</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/07/2024-8-7 Springboot/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-9 å›ºå®šæ€è·¯è¯¦è§£/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-9 å›ºå®šæ€è·¯è¯¦è§£/" alt="">å›ºå®šæ€è·¯è¯¦è§£</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/07/2024-8-9 å›ºå®šæ€è·¯è¯¦è§£/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-7 SSMæ¡†æ¶æ•´åˆ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-7 SSMæ¡†æ¶æ•´åˆ/" alt="">SSMæ¡†æ¶æ•´åˆ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/07/2024-8-7 SSMæ¡†æ¶æ•´åˆ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-7 è¸©å‘è®°å½•/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-7 è¸©å‘è®°å½•/" alt="">è¸©å‘è®°å½•</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/07/2024-8-7 è¸©å‘è®°å½•/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/22/2024-8-5 Spring MVC2/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-22</span><a class="blog-slider__title" href="2024/07/22/2024-8-5 Spring MVC2/" alt="">SpringMVC2</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/22/2024-8-5 Spring MVC2/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/23/2024-8-23 redis/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-23</span><a class="blog-slider__title" href="2024/08/23/2024-8-23 redis/" alt="">redis</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/23/2024-8-23 redis/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/23/2024-8-23 Nginxå’Œluaå’ŒOpenrestyé«˜æ€§èƒ½å®è·µ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-23</span><a class="blog-slider__title" href="2024/08/23/2024-8-23 Nginxå’Œluaå’ŒOpenrestyé«˜æ€§èƒ½å®è·µ/" alt="">Nginx+lua+OpenRestyé«˜æ€§èƒ½å®è·µ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/23/2024-8-23 Nginxå’Œluaå’ŒOpenrestyé«˜æ€§èƒ½å®è·µ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/14/2024-8-14 RPCè¿œç¨‹æœåŠ¡è°ƒç”¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-14</span><a class="blog-slider__title" href="2024/08/14/2024-8-14 RPCè¿œç¨‹æœåŠ¡è°ƒç”¨/" alt="">RPCè¿œç¨‹æœåŠ¡è°ƒç”¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/14/2024-8-14 RPCè¿œç¨‹æœåŠ¡è°ƒç”¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/16/2024-8-16 å‰ç«¯é€Ÿé€š/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-16</span><a class="blog-slider__title" href="2024/08/16/2024-8-16 å‰ç«¯é€Ÿé€š/" alt="">å‰ç«¯é€Ÿé€š</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/16/2024-8-16 å‰ç«¯é€Ÿé€š/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/13/2024-7-13 javaWeb/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-13</span><a class="blog-slider__title" href="2024/07/13/2024-7-13 javaWeb/" alt="">javaWeb</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/13/2024-7-13 javaWeb/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/14/2024-8-14 Dubbo/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-14</span><a class="blog-slider__title" href="2024/08/14/2024-8-14 Dubbo/" alt="">Dubbo</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/08/14/2024-8-14 Dubbo/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/20/2024-7-20 Maven/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-20</span><a class="blog-slider__title" href="2024/07/20/2024-7-20 Maven/" alt="">Maven</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/20/2024-7-20 Maven/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/20/2024-7-20 Mybatis/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-20</span><a class="blog-slider__title" href="2024/07/20/2024-7-20 Mybatis/" alt="">Mybatis</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/20/2024-7-20 Mybatis/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/23/2025-2-23 æ•°ç»„/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/14.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-23</span><a class="blog-slider__title" href="2025/02/23/2025-2-23 æ•°ç»„/" alt="">æ•°ç»„ï¼ˆç®—æ³•ï¼‰</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2025/02/23/2025-2-23 æ•°ç»„/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/22/2024-8-5 Spring MVC/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-22</span><a class="blog-slider__title" href="2024/07/22/2024-8-5 Spring MVC/" alt="">SpringMVC</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/22/2024-8-5 Spring MVC/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/13/2024-7-2 Vue/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-13</span><a class="blog-slider__title" href="2024/07/13/2024-7-2 Vue/" alt="">Vue</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/07/13/2024-7-2 Vue/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/18/2024-4-20 æ“ä½œç³»ç»Ÿ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-18</span><a class="blog-slider__title" href="2024/04/18/2024-4-20 æ“ä½œç³»ç»Ÿ/" alt="">æ“ä½œç³»ç»Ÿ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/18/2024-4-20 æ“ä½œç³»ç»Ÿ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/15/2024-4-6 é¢è¯•é¢˜åˆ·é¢˜/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-15</span><a class="blog-slider__title" href="2024/04/15/2024-4-6 é¢è¯•é¢˜åˆ·é¢˜/" alt="">é¢è¯•åˆ·é¢˜</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/15/2024-4-6 é¢è¯•é¢˜åˆ·é¢˜/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/28/2024-4-28 goè¯­è¨€/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-28</span><a class="blog-slider__title" href="2024/04/28/2024-4-28 goè¯­è¨€/" alt="">Goè¯­è¨€</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/28/2024-4-28 goè¯­è¨€/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/15/2024-4-15 æ•°æ®åº“/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-15</span><a class="blog-slider__title" href="2024/04/15/2024-4-15 æ•°æ®åº“/" alt="">æ•°æ®åº“</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/15/2024-4-15 æ•°æ®åº“/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/05/14/2024-4-29 è®¡ç®—æœºç½‘ç»œ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-05-14</span><a class="blog-slider__title" href="2024/05/14/2024-4-29 è®¡ç®—æœºç½‘ç»œ/" alt="">è®¡ç®—æœºç½‘ç»œ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/05/14/2024-4-29 è®¡ç®—æœºç½‘ç»œ/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/18/2024-4-18 JDBC/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20231208202901.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-18</span><a class="blog-slider__title" href="2024/04/18/2024-4-18 JDBC/" alt="">JDBC</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/18/2024-4-18 JDBC/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/15/2024-4-15 Mybatis/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-15</span><a class="blog-slider__title" href="2024/04/15/2024-4-15 Mybatis/" alt="">Mybatisè¯¦ç»†</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2024/04/15/2024-4-15 Mybatis/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/07/06/2023-7-1Javaå°è®°/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-06</span><a class="blog-slider__title" href="2023/07/06/2023-7-1Javaå°è®°/" alt="">Javaå°è®°</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/07/06/2023-7-1Javaå°è®°/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/08/15/2023-8-15 AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-15</span><a class="blog-slider__title" href="2023/08/15/2023-8-15 AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›/" alt="">AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/08/15/2023-8-15 AIå¤ä»¤è¥å¤©æ°”é¢„æŠ¥å¤§èµ›/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/06/23/2023-6-24Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-23</span><a class="blog-slider__title" href="2023/06/23/2023-6-24Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹/" alt="">Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/06/23/2023-6-24Gitå’ŒGithubä½¿ç”¨æ•™ç¨‹/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/12/18/2023-12-18 å‰ç«¯å°è®°/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-18</span><a class="blog-slider__title" href="2023/12/18/2023-12-18 å‰ç«¯å°è®°/" alt="">å‰ç«¯å°è®°</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/12/18/2023-12-18 å‰ç«¯å°è®°/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/05/08/2023-5-8å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-05-08</span><a class="blog-slider__title" href="2023/05/08/2023-5-8å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨/" alt="">å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/05/08/2023-5-8å“ˆå¸Œè¡¨å’Œæœ‰åºè¡¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/05/17/2023-6-23å•é“¾è¡¨å’ŒåŒé“¾è¡¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-05-17</span><a class="blog-slider__title" href="2023/05/17/2023-6-23å•é“¾è¡¨å’ŒåŒé“¾è¡¨/" alt="">å•é“¾è¡¨å’ŒåŒé“¾è¡¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/05/17/2023-6-23å•é“¾è¡¨å’ŒåŒé“¾è¡¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/03/2023-5-7åŠ¨æ€æ•°ç»„/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-03</span><a class="blog-slider__title" href="2023/01/03/2023-5-7åŠ¨æ€æ•°ç»„/" alt="">åŠ¨æ€æ•°ç»„</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/03/2023-5-7åŠ¨æ€æ•°ç»„/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/12/12/2023-12-11 å»ºç«‹åšå®¢ä¿å§†æ•™ç¨‹ï¼ˆ1ï¼‰/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-12</span><a class="blog-slider__title" href="2023/12/12/2023-12-11 å»ºç«‹åšå®¢ä¿å§†æ•™ç¨‹ï¼ˆ1ï¼‰/" alt="">å»ºç«‹åšå®¢</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/12/12/2023-12-11 å»ºç«‹åšå®¢ä¿å§†æ•™ç¨‹ï¼ˆ1ï¼‰/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/08/15/2023-10-3èƒŒåŒ…é—®é¢˜/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-15</span><a class="blog-slider__title" href="2023/08/15/2023-10-3èƒŒåŒ…é—®é¢˜/" alt="">èƒŒåŒ…é—®é¢˜</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/08/15/2023-10-3èƒŒåŒ…é—®é¢˜/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/11/12/2023-11-12 ä»€ä¹ˆæ˜¯ä¸šåŠ¡åå°ç³»ç»Ÿï¼ˆåˆå®¶äº‘ç¤¾åŒºç‰©ä¸šç®¡ç†å¹³å°ï¼‰/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-11-12</span><a class="blog-slider__title" href="2023/11/12/2023-11-12 ä»€ä¹ˆæ˜¯ä¸šåŠ¡åå°ç³»ç»Ÿï¼ˆåˆå®¶äº‘ç¤¾åŒºç‰©ä¸šç®¡ç†å¹³å°ï¼‰/" alt="">é¡¹ç›®</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/11/12/2023-11-12 ä»€ä¹ˆæ˜¯ä¸šåŠ¡åå°ç³»ç»Ÿï¼ˆåˆå®¶äº‘ç¤¾åŒºç‰©ä¸šç®¡ç†å¹³å°ï¼‰/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/03/2023-1-3é€‰æ‹©æ’åº/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-03</span><a class="blog-slider__title" href="2023/01/03/2023-1-3é€‰æ‹©æ’åº/" alt="">é€‰æ‹©æ’åº</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/03/2023-1-3é€‰æ‹©æ’åº/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/03/2023-1-6è®¤è¯†äºŒåˆ†æ³•/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-03</span><a class="blog-slider__title" href="2023/01/03/2023-1-6è®¤è¯†äºŒåˆ†æ³•/" alt="">äºŒåˆ†æ³•</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/03/2023-1-6è®¤è¯†äºŒåˆ†æ³•/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/03/2023-1-6å¯¹æ•°å™¨/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-03</span><a class="blog-slider__title" href="2023/01/03/2023-1-6å¯¹æ•°å™¨/" alt="">å¯¹æ•°å™¨</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/03/2023-1-6å¯¹æ•°å™¨/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/03/2023-1-3æ—¶é—´å¤æ‚åº¦/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-03</span><a class="blog-slider__title" href="2023/01/03/2023-1-3æ—¶é—´å¤æ‚åº¦/" alt="">æ—¶é—´å¤æ‚åº¦</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/03/2023-1-3æ—¶é—´å¤æ‚åº¦/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/11/27/2022-11-27 æšä¸¾ç±»/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/14.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-27</span><a class="blog-slider__title" href="2022/11/27/2022-11-27 æšä¸¾ç±»/" alt="">javaseå…¥é—¨ï¼ˆæšä¸¾1ï¼‰</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2022/11/27/2022-11-27 æšä¸¾ç±»/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/04/2023-1-3æ’å…¥æ’åº/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-04</span><a class="blog-slider__title" href="2023/01/04/2023-1-3æ’å…¥æ’åº/" alt="">æ’å…¥æ’åº</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/04/2023-1-3æ’å…¥æ’åº/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/03/2023-1-3å†’æ³¡æ’åº/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-03</span><a class="blog-slider__title" href="2023/01/03/2023-1-3å†’æ³¡æ’åº/" alt="">å†’æ³¡æ’åº</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/03/2023-1-3å†’æ³¡æ’åº/" alt="">è¯¦æƒ…   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/01/03/2023-1-3å¸¸æ•°æ“ä½œ/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-03</span><a class="blog-slider__title" href="2023/01/03/2023-1-3å¸¸æ•°æ“ä½œ/" alt="">å¸¸æ•°æ“ä½œ</a><div class="blog-slider__text">çŸ¥è¯†åˆ†äº«</div><a class="blog-slider__button" href="2023/01/03/2023-1-3å¸¸æ•°æ“ä½œ/" alt="">è¯¦æƒ…   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.2.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œå¤‡ç”¨çº¿è·¯æ‰˜ç®¡äº4EVERLAND" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('å·²æŒ‚è½½butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('å·²æŒ‚è½½gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/about/'|| '/about/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://github-api.oyy0v0.top//api?oyy0v0",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'oyy0v0')
    }
  </script><!-- hexo injector body_end end --></body></html>