<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>AI夏令营天气预报大赛 | oyy0v0😼</title><meta name="author" content="oyy0v0"><meta name="copyright" content="oyy0v0"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="知识分享">
<meta property="og:type" content="article">
<meta property="og:title" content="AI夏令营天气预报大赛">
<meta property="og:url" content="https://oyy0v0.top/2023/08/15/2023-8-15%20AI%E5%A4%8F%E4%BB%A4%E8%90%A5%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5%E5%A4%A7%E8%B5%9B/index.html">
<meta property="og:site_name" content="oyy0v0😼">
<meta property="og:description" content="知识分享">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg">
<meta property="article:published_time" content="2023-08-15T00:31:00.000Z">
<meta property="article:modified_time" content="2024-08-23T20:06:45.227Z">
<meta property="article:author" content="oyy0v0">
<meta property="article:tag" content="-AI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg"><link rel="shortcut icon" href="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/%E7%8C%AB.svg"><link rel="canonical" href="https://oyy0v0.top/2023/08/15/2023-8-15%20AI%E5%A4%8F%E4%BB%A4%E8%90%A5%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5%E5%A4%A7%E8%B5%9B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'AI夏令营天气预报大赛',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-24 04:06:45'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4658720_723un29n3vn.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/cat.css"><link rel="stylesheet" href="/css/readPercent.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><link rel="stylesheet" href="https://www.fomal.cc/static/css/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/7.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">33</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw icon-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw icon-biaoqian"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw icon-fenlei"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw icon-guanyu"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="oyy0v0😼"><span class="site-name">oyy0v0😼</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw icon-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw icon-shijianzhou"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw icon-biaoqian"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw icon-fenlei"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw icon-guanyu"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">AI夏令营天气预报大赛</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-15T00:31:00.000Z" title="发表于 2023-08-15 08:31:00">2023-08-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-23T20:06:45.227Z" title="更新于 2024-08-24 04:06:45">2024-08-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AI/">AI</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>35分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="AI夏令营天气预报大赛"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="AI夏令营第三期"><a href="#AI夏令营第三期" class="headerlink" title="AI夏令营第三期"></a>AI夏令营第三期</h1><h2 id="比赛任务"><a href="#比赛任务" class="headerlink" title="比赛任务"></a>比赛任务</h2><p>提供10年的再分析数据，通过输入历史70个大气变量数据，预测华东区域未来1-5天的5个地面变量。</p>
<h2 id="赛题数据集"><a href="#赛题数据集" class="headerlink" title="赛题数据集"></a>赛题数据集</h2><p>==输入历史2个时刻的多个大气变量，输出未来1-5天每6小时的5个地面变量==</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230815141440332.png" alt="image-20230815141440332"></p>
<p>推理文件的输入Input: (2 x 70 x H x W)<code>，输出</code>Output: (20 X 5 X H X W)</p>
<p>==疑问：这个输入输出什么意思？矩阵的意思吗？==</p>
<p>其数据类型是float16（半精度的一个数据类型），存储为pt格式。<strong>==可以不使用70个变量作为输入，但是输出必须包含5个地面变量==</strong>，<strong>且顺序必须按照【T2M（2米温度），U10（10米纬向风），V10（10米径向风）， MSL（平均海平面气压），TP（6小时累计降水）】，必须包含20个step对应未来时刻：[6,12,18,24,30,36,42,48,54,60,66,72,78,84,90,96,102,108,114,120]（小时）</strong></p>
<h2 id="深度学习的宏观框架-训练和推理"><a href="#深度学习的宏观框架-训练和推理" class="headerlink" title="深度学习的宏观框架 训练和推理"></a>深度学习的宏观框架 训练和推理</h2><h3 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h3><p>打个比方，想要训练一个能区分橙子和苹果的模型，你需要搜索一下苹果和橙子的图片，这些图片放在一起称为训练数据集（training dataset），训练数据集是有标签的，苹果的图片标签就是苹果，橙子依然。一个初始的神经网络通过不断地优化自身参数，来让自己变得准确，可能开始10个苹果图片，只有5张被认为是苹果，另外5张认错了，这个时候通过<strong>优化参数</strong>让另外5张也被认为是对的。这个过程称之为训练。</p>
<p>疑问：什么是神经网络？如何优化参数？（这些对于比赛没影响有影响的话我再补充）</p>
<h3 id="推理"><a href="#推理" class="headerlink" title="推理"></a>推理</h3><p>你训练好了一个模型，在训练数据集中表现良好，我们期望她可以对没看过的图片进行识别，你重新拍一张图片扔进网络让网络做判断，这种图片叫做现场数据，如果现场数据的区分准确率非常高，那么证明网络训练是非常好的，我们把训练好的模型拿出来遛一遛的过程称为推理</p>
<h2 id="评价指标"><a href="#评价指标" class="headerlink" title="评价指标"></a>评价指标</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230815154014187.png" alt="image-20230815154014187"></p>
<p>指标还没搞懂，后面继续更新</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>这个问题属于典型的<a href="#回归问题与梯度下降">回归问题</a></p>
<p>针对这类时间序列预测问题方法比较灵活，传统的时序模型、机器学习、深度学习方法均可以使用。</p>
<p><strong>1、统计策略：</strong>使用最近时刻的结果进行均值、中位数、时间衰减等方式直接统计得到未来结果，这种方式比较简单，可以快速得到结果；</p>
<p><strong>2、时序模型：</strong>比较常用的方法有指数平滑法、灰色预测模型、ARIMA预测、季节Sarima模型、VAR模型等，仅能刻画序列信息，无法加入其他信息进行训练，比如离散类特征；</p>
<p><strong>3、机器学习模型：</strong>常见的为lightgbm、xgboost、catboost，需要构建大量时序相关特征；</p>
<p><strong>4、深度学习模型：</strong>常见为rnn、lstm、cnn、transformer这类模型，可以直接输入序列信息，不需要构建大量的人工特征；</p>
<p>因为整体数据处理起来还是比较复杂的，为了快速的得到一个结果，所以我们选择使用统计策略作为baseline方案，后续进阶实践部分则使用机器学习模型。不过我们会在baseline实践部分花些时间进行数据解读，为进阶部分做铺垫。</p>
<h2 id="Stept1-搞懂统计方法的BasLine"><a href="#Stept1-搞懂统计方法的BasLine" class="headerlink" title="Stept1 搞懂统计方法的BasLine"></a>Stept1 搞懂统计方法的BasLine</h2><h3 id="1、导入模块（导入工具包）"><a href="#1、导入模块（导入工具包）" class="headerlink" title="1、导入模块（导入工具包）"></a>1、导入模块（导入工具包）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os  <span class="comment">#os库是Python的标准库</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment">#是一个数学基础库，可以计算矩阵，导入numpy库将其命名为np</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment">#导入的是一个时间序列数据相关的库命名为pd</span></span><br><span class="line"><span class="keyword">import</span> xarray <span class="keyword">as</span> xr <span class="comment">#Python 模块，支持带有维度、坐标和属性标注的多维数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch <span class="comment"># 导入的是pytorch深度学习框架</span></span><br><span class="line">torch.random.seed() <span class="comment">#随机数</span></span><br><span class="line">np.random.seed(<span class="number">0</span>) <span class="comment">#随机数</span></span><br></pre></td></tr></table></figure>
<h3 id="2、数据探索（将数据分块打印出来看看长啥样）"><a href="#2、数据探索（将数据分块打印出来看看长啥样）" class="headerlink" title="2、数据探索（将数据分块打印出来看看长啥样）"></a>2、数据探索（将数据分块打印出来看看长啥样）</h3><p><strong>数据探索性分析，了解数据集，了解变量间的项目关系以及变量与预测值之间的关系</strong>，对已有数据在少量的先验假设下，通过作图、制表、方程拟合、计算特征量等手段，探索数据的结构合规律的一种数据分析方法、从而保住我们后期更好的进行特征工程和建立模型。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230815170045284.png" alt="image-20230815170045284"></p>
<p>加载数据及基本的预处理，需要特别注意：</p>
<ol>
<li><p>数据分为两部分，训练数据和测试数据，并且读取方式是不一样的；</p>
</li>
<li><p>训练数据非常大，不能直接展开，可以选择一部分数据进行展开，了解数据基本情况；</p>
</li>
<li><p>与常规读取数据的方式不同，这里使用xarray进行数据加载；</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">data_dir = <span class="string">&#x27;weather&#x27;</span></span><br><span class="line"><span class="comment"># 按时间进行数据块划分</span></span><br><span class="line"><span class="comment"># 定义了一个`chunk_time` 函数（区分时间函数）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">chunk_time</span>(<span class="params">ds</span>):</span><br><span class="line">    <span class="comment"># 接受一个xarray的数据集（`ds`）作为参数。</span></span><br><span class="line">    <span class="comment">#它使用`ds.dims`获取数据集的维度信息，并将其存储在`dims`字典中。</span></span><br><span class="line">    dims = &#123;k:v <span class="keyword">for</span> k, v <span class="keyword">in</span> ds.dims.items()&#125;</span><br><span class="line">    <span class="comment">#将dims中的维度的长度修改为1，为什么要修改呢？</span></span><br><span class="line">    dims[<span class="string">&#x27;time&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    <span class="comment"># 使用了xarray库中的chunk方法来对数据集ds进行分块操作。chunk方法需要传入一个参数dims，它表示要对哪些维度进行分块。</span></span><br><span class="line">    ds = ds.chunk(dims)</span><br><span class="line">    <span class="comment"># ds.chunk会根据维度进行分块操作，之前把time设成了1所以每个时间维度上有一个元素。</span></span><br><span class="line">    <span class="keyword">return</span> ds</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载训练数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_dataset</span>():</span><br><span class="line">    <span class="comment"># 将ds定义为空数组</span></span><br><span class="line">    ds = []</span><br><span class="line">    <span class="comment"># 从2007到2012年进行遍历，并赋值给y </span></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2007</span>, <span class="number">2012</span>):</span><br><span class="line"></span><br><span class="line"><span class="comment"># os.path.join()函数来创建一个路径字符串，里面传入数据目录路径变量，一开始定的weather，以及f&#x27;weather_round1_train_&#123;y&#125;&#x27;是一个表示文件名的格式化字符串，其中&#123;y&#125;是一个时间变量也就是从2007到2012。</span></span><br><span class="line"><span class="comment"># data_name 是数据路径的字符串</span></span><br><span class="line"></span><br><span class="line">        data_name = os.path.join(data_dir, <span class="string">f&#x27;weather_round1_train_<span class="subst">&#123;y&#125;</span>&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># xarray库中的open_zarr函数打开Zarr数据集的代码。open_zarr函数用于读取Zarr格式的数据，并将其存储为xarray.Dataset对象。</span></span><br><span class="line"><span class="comment"># 在这里，data_name是指Zarr数据集的文件路径或URL。consolidated=True参数表示如果数据集被分块存储，打开时将会加载所有块的元数据进行合并。</span></span><br><span class="line"><span class="comment"># 通过执行这行代码，可以使用x变量来访问和操作Zarr数据集中的数据。</span></span><br><span class="line"></span><br><span class="line">        x = xr.open_zarr(data_name, consolidated=<span class="literal">True</span>)</span><br><span class="line">    </span><br><span class="line">   <span class="comment"># 这会将data_name打印为数据集的名称，并通过x.time.values[0]和x.time.values[-1]打印出时间范围的起始和结束时间。</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;data_name&#125;</span>, <span class="subst">&#123;x.time.values[<span class="number">0</span>]&#125;</span> ~ <span class="subst">&#123;x.time.values[-<span class="number">1</span>]&#125;</span>&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 通过执行ds.append(x)，可以将x数据集中的所有变量添加到ds数据集中，从而创建一个包含原始数据和新数据的完整数据集。</span></span><br><span class="line">    </span><br><span class="line">        ds.append(x)</span><br><span class="line">        </span><br><span class="line">       <span class="comment"># xr.concat()函数是用于在指定维度上连接（拼接）多个xarray.Dataset对象的函数。</span></span><br><span class="line"><span class="comment">#在代码中，xr.concat(ds, &#x27;time&#x27;)用于将 ds 数据集列表沿着 &#x27;time&#x27; 维度进行连接。</span></span><br><span class="line"><span class="comment">#这个函数会将ds中的多个数据集按照时间维度进行拼接，生成一个新的xarray.Dataset对象。</span></span><br><span class="line"><span class="comment">#注意，ds应该是一个包含多个xarray.Dataset对象的列表，而不是一个单个数据集。</span></span><br><span class="line"><span class="comment">#通过执行ds = xr.concat(ds, &#x27;time&#x27;)，你可以将列表中的所有数据集按照时间维度进行连接，从而生成一个包含所有数据的新数据集，并将其赋值给变量ds</span></span><br><span class="line"></span><br><span class="line">    ds = xr.concat(ds, <span class="string">&#x27;time&#x27;</span>)</span><br><span class="line">    <span class="comment"># 将数据集按照时间分块</span></span><br><span class="line">    ds = chunk_time(ds)</span><br><span class="line">    <span class="keyword">return</span> ds</span><br><span class="line"><span class="comment"># 调用load_dataset()函数，加载训练数据   </span></span><br><span class="line"><span class="comment"># .x表示从加载的数据集中提取一个名为x的变量</span></span><br><span class="line">ds = load_dataset().x</span><br><span class="line"></span><br><span class="line">num_step = <span class="number">20</span> <span class="comment"># 5天的数据，每6小时一个时刻，5*6/24=20，所以输出的时间维度一共有20个。5个地面变量，H和W都是161表示空间范围</span></span><br><span class="line">shape = ds.shape <span class="comment"># 四维数据，time x channel x lat x lon</span></span><br><span class="line"></span><br><span class="line">times = ds.time.values <span class="comment"># 提取对应的所有time值</span></span><br><span class="line"><span class="comment"># times是一个可迭代对象（如列表或数组），而slice(1, -20)则是一个切片对象，用于选择times中的一部分元素。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在这里，slice(1, -20)表示从索引1（第二个元素）开始，直到倒数第20个元素之前结束（不包括倒数第20个元素）。（为什么要这样切片呢？）这将创建一个切片对象，包含了times中的一部分元素。</span></span><br><span class="line"><span class="comment"># 然后，init_times将通过这个切片对象来选择times中的相应元素，作为初始化时间（initial times）。</span></span><br><span class="line"></span><br><span class="line">init_times = times[<span class="built_in">slice</span>(<span class="number">1</span>, -num_step)] </span><br><span class="line"></span><br><span class="line">num_data = <span class="built_in">len</span>(init_times) <span class="comment"># 计算init_times中元素的数量，并将结果保存在num_data变量中。</span></span><br><span class="line"></span><br><span class="line">names = <span class="built_in">list</span>(ds.channel.values) <span class="comment"># 提取所有变量名</span></span><br><span class="line">test_names = names[-<span class="number">5</span>:] <span class="comment"># 最后5个变量为目标变量，即我们需要预测的目标</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;\n shape: <span class="subst">&#123;shape&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n times: &#123;&#125; ~ &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(times[<span class="number">0</span>], times[-<span class="number">1</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\n init_times: &#123;&#125; ~ &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(init_times[<span class="number">0</span>], init_times[-<span class="number">1</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;\n names: <span class="subst">&#123;names&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;\n test_names: <span class="subst">&#123;test_names&#125;</span>\n&#x27;</span>)   </span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>data_dir</code> 是存储数据的目录，可以根据实际情况进行修改。</p>
</li>
<li><p>定义一个<code>chunk_time</code> 函数（区分时间函数），接受一个xarray的数据集（<code>ds</code>）作为参数。</p>
</li>
<li><p>它使用<code>ds.dims</code>获取数据集的维度信息，并将其存储在<code>dims</code>字典中。</p>
</li>
<li><p>ds.dims.items()返回的是一个迭代器，它遍历数据集的维度字典的每一个键值对，每次迭代返回一个键值对的元组。</p>
</li>
<li><p>然后，使用<code>ds.chunk</code>方法根据<code>dims</code>字典对数据集进行划分，将时间维度划分为一个chunk。最后，返回划分后的数据集。</p>
</li>
<li><p><strong>分块操作是将数据集的维度划分为多个块，以提高计算性能和内存利用率。</strong></p>
</li>
</ul>
</li>
</ol>
<p>将数据打印出来看看</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(ds.time.values)</span><br><span class="line"><span class="built_in">print</span>(ds.channel.values)</span><br><span class="line"><span class="built_in">print</span>(ds.lat.values)</span><br><span class="line"><span class="built_in">print</span>(ds.lon.values)</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230816085952573.png" alt="image-20230816085952573"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ds[<span class="number">0</span>,<span class="number">0</span>,:,:].values</span><br><span class="line"><span class="comment"># 对应维度</span></span><br><span class="line"><span class="comment"># ds[0,0,:,:].shape</span></span><br><span class="line"><span class="comment"># (161, 161)</span></span><br></pre></td></tr></table></figure>
<p>如果想要看具体的变量值，则可以通过如下代码查看，因为数据比较大，所以仅看第一个time值（2007-01-01T00:00:00.000000000），对应的z50，lat和lon下的所有z50值</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230816090023191.png" alt="image-20230816090023191"></p>
<p>可以看到一个时刻对应某个变量的值应该是161*161个，即不同经纬度下的值。所以需要预测的结果是20个时刻对应5个目标变量下不同经纬度下的值，即20 x 5 x 161 x 161。</p>
<p>以上都是训练数据。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230816091311657.png" alt="image-20230816091311657"></p>
<p>接下来看看测试数据，同样先加载下来看看：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">file_lists = os.listdir(<span class="string">f&#x27;<span class="subst">&#123;path&#125;</span>/weather_round1_test/input&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> file_lists:</span><br><span class="line">    input_data = torch.load(<span class="string">f&#x27;<span class="subst">&#123;path&#125;</span>/weather_round1_test/input/<span class="subst">&#123;file&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="built_in">print</span>(file_lists) <span class="comment"># 打印所有输入数据，每个pt文件为一个测试集输入数据，pt文件直接没有任何相关性</span></span><br><span class="line"><span class="comment"># file_lists是一个包含特定路径下所有文件名的列表。使用os.listdir()函数，从&#123;path&#125;/weather_round1_test/input路径中获取所有文件的名称。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在接下来的循环中，对file_lists中的每个文件进行迭代。对于每个文件，将使用torch.load()函数加载文件，加载的路径为&#123;path&#125;/weather_round1_test/input/&#123;file&#125;。这样可以得到一个input_data对象，它包含了文件的内容。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环中的break语句用于在第一个文件迭代后退出循环，因此只会加载第一个文件的数据。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后，使用print(file_lists)打印出所有的文件列表，每个.pt文件都是一个测试数据集的输入文件，这些.pt文件之间没有任何相关性。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">input_data.shape, input_data</span><br><span class="line"><span class="comment"># shape为（2,70,161,161)，即输入数据为两个时刻的数据</span></span><br></pre></td></tr></table></figure>
<p>一般时间序列预测问题都有较长的历史数据，而本次赛题却只有历史两个时刻单位的数据，这就导致常见的时间序列特征提取方式在这个赛题中无法使用，或者极具困难。</p>
<h3 id="3、数据清洗"><a href="#3、数据清洗" class="headerlink" title="3、数据清洗"></a>3、数据清洗</h3><p>数据和特征决定了机器学习的上限，而模型和算法只是逼近这个上限而已。俗话说：garbage in, garbage out。分析完数据后，特征工程前，必不可少的步骤是对数据清洗。</p>
<p>数据清洗的作用是利用有关技术如数理统计、数据挖掘或预定义的清理规则将脏数据转化为满足数据质量要求的数据。主要包括缺失值处理、异常值处理、数据分桶、特征归一化/标准化等流程。</p>
<p><strong>数据非常干净，不需要进行数据清洗工作。</strong></p>
<h3 id="4、统计策略进行"><a href="#4、统计策略进行" class="headerlink" title="4、统计策略进行"></a>4、统计策略进行</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch,os</span><br><span class="line">path = <span class="string">&#x27;weather&#x27;</span> </span><br><span class="line">file_lists = os.listdir(<span class="string">f&#x27;<span class="subst">&#123;path&#125;</span>/weather_round1_test/input&#x27;</span>)</span><br><span class="line"><span class="comment"># 遍历读取每个测试集输入数据文件</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> file_lists:</span><br><span class="line">    input_data = torch.load(<span class="string">f&#x27;<span class="subst">&#123;path&#125;</span>/weather_round1_test/input/<span class="subst">&#123;file&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="comment"># 计算两个时刻对应目标变量的均值，并复制20份，即20个时刻</span></span><br><span class="line">    output_data = torch.tile(torch.mean(input_data, axis=<span class="number">0</span>)[-<span class="number">5</span>:,:,:], (<span class="number">20</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>))</span><br><span class="line">    <span class="comment"># output_data = torch.tile(torch.mean(input_data, axis=0)[-5:,:,:], (20,1,1,1))通过计算两个时刻对应目标变量的均值，并将其复制20份，可以得到一个结果。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这个计算过程是基于某种特定的统计策略。具体的策略可能与数据集的特点和使用的模型有关。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据集的特点：目标变量是一个时间序列，其中每个时刻都有多个观测值（多个特征）。每个时刻的观测值是一个向量，其维度为 (T, C, H, W)，其中 T 是时间，C 是通道数，H 和 W 是高度和宽度。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计策略：要获取一段时间内的整体趋势，可以计算这段时间内观测值的平均值。这样可以将多个时刻的观测值合并为一个均值，从而捕捉它们的整体特征。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在给定的代码中，通过 torch.mean(input_data, axis=0) 对 input_data 沿着第0维（通常是批次维度）进行平均操作，得到了一个表示整体趋势的张量。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后，通过 [-5:,:,:] 选择最后5个时刻的观测值。这可能是基于一个假设，即最近的观测值对于预测下一个时刻的目标变量更具有重要性。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后，通过 torch.tile() 函数将选择的最后5个时刻的观测值复制20次，得到形状为 (20, 5, :, :) 的张量。这样做可能是为了将这段时间内的整体趋势扩展到更长的时间范围，以便与模型的输入形状匹配。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算结果保存到output文件作为输出结果</span></span><br><span class="line">    torch.save(output_data.half(), <span class="string">f&#x27;output/<span class="subst">&#123;file&#125;</span>&#x27;</span>, ) <span class="comment"># 精度转为半精度浮点类型</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 现在就可以得到答案的压缩包啦~~~</span></span><br><span class="line">_ = !<span class="built_in">zip</span> -r output.<span class="built_in">zip</span> output/</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如果上面代码无响应，运行下面这段代码</span></span><br><span class="line"><span class="keyword">import</span> zipfile,os</span><br><span class="line">path=<span class="string">&#x27;./output/&#x27;</span> <span class="comment">#压缩当前路径所有文件，输出zip文件</span></span><br><span class="line">zipName = <span class="string">&#x27;output.zip&#x27;</span> <span class="comment">#压缩后文件的位置及名称</span></span><br><span class="line">f = zipfile.ZipFile( zipName, <span class="string">&#x27;w&#x27;</span>, zipfile.ZIP_DEFLATED )</span><br><span class="line"><span class="keyword">for</span> dirpath, dirnames, filenames <span class="keyword">in</span> os.walk(path):</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">        <span class="built_in">print</span>(filename)</span><br><span class="line">        f.write(os.path.join(dirpath,filename))</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h2 id="Step2-搞懂机器学习BaseLine"><a href="#Step2-搞懂机器学习BaseLine" class="headerlink" title="Step2 搞懂机器学习BaseLine"></a>Step2 搞懂机器学习BaseLine</h2><p>我们将使用机器学习的方法搭建方案，模型选择catboost，在baseline部分已经进行了数据探索和数据清洗两个部分，进阶部分直接跳过。<strong><em>主要围绕数据预处理、特征工程、模型训练、模型验证进展开实践。</em></strong></p>
<p><strong>实践难点：</strong></p>
<ol>
<li><strong>数据格式与以往的不同：</strong>在数据挖掘比赛中，数据是四维的形式的呈现（time,channl,lat,lon），与以往直接转为dataframe格式完全不同，需要我们自行转换，并且自行构建训练样本和测试样本。</li>
<li><strong>可用的历史数据非常少：</strong>每份训练数据只提供历史2个时刻的输入文件，这也表明仅能使用2个时刻的数据提取特征，如何使用2个时刻数据刻画未来20个时刻的目标变量信息能为难点。</li>
<li><strong>数据量非常大：</strong>每份测试数据需要预测的结果为（20，5，161，161），对应20<em>5</em>161*161条样本，有300份测试数据，那就是777630000条样本，就单单进行样本构建、特征转换和结果预测就非常耗时了。训练数据是远大于测试数据，不过可以提取部分数据输入到模型进行训练，并不需要全部使用。</li>
</ol>
<h3 id="1、导入模块"><a href="#1、导入模块" class="headerlink" title="1、导入模块"></a>1、导入模块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是一个数学基础库，可以计算矩阵，导入numpy库将其命名为np</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入的是一个时间序列数据相关的库命名为pd</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Python 模块，支持带有维度、坐标和属性标注的多维数组</span></span><br><span class="line"><span class="keyword">import</span> xarray <span class="keyword">as</span> xr</span><br><span class="line"><span class="comment"># 从collections模块导入了两个类：defaultdict和Counter。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># defaultdict是一个用于创建字典的类，它的特点是在访问不存在的键时不会引发KeyError异常，而是返回一个默认值。这个默认值可以在创建defaultdict对象时指定。使用defaultdict可以简化字典操作，特别是在处理不存在的键时非常有用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Counter是一个用于计数的类，它接受一个可迭代对象（如列表或字符串）作为输入，并返回一个字典，其中包含了每个元素出现的频率。可以使用Counter方便地进行单词统计、频率计数等操作。</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict, Counter</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从catboost模块导入了CatBoostRegressor类。CatBoost是一个梯度提升框架，专门用于处理分类和回归问题。CatBoostRegressor是CatBoost库中用于回归问题的模型类。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CatBoost框架在梯度提升的基础上引入了一些优化策略和创新功能，以提高模型的性能和准确性。它具有处理大量类别特征的能力，并且可以自动处理缺失值。此外，CatBoost还支持并行训练，具有梯度剪切和自动特征缩放等功能。</span></span><br><span class="line"><span class="keyword">from</span> catboost <span class="keyword">import</span> CatBoostRegressor</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从sklearn.model_selection模块分别导入了三个类：StratifiedKFold、KFold和GroupKFold。这些类都是用于划分数据集的交叉验证策略。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># StratifiedKFold是用于分层抽样的交叉验证类。它保持了每个折叠中类别的分布与原始数据集中的类别分布相似。这对于不平衡数据集或需要保持样本类别比例的任务非常有用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># KFold是标准的K折交叉验证类。它将数据集分成K个子集，其中每个子集都作为验证集一次，其余的K-1个子集组成训练集。这种方法适用于一般的机器学习任务。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># GroupKFold是一种针对分组数据的交叉验证类。它确保同一组的样本要么完全出现在训练集中，要么完全出现在验证集中。这对于处理具有相关性或依赖性的样本（例如时间序列数据或多个观察来自同一实体）非常有用。</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> StratifiedKFold, KFold, GroupKFold</span><br><span class="line"></span><br><span class="line"><span class="comment">#从sklearn.metrics模块导入了mean_squared_error函数。mean_squared_error是一个用于计算均方误差（Mean Squared Error, MSE）的函数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 均方误差是回归问题中常用的评估指标之一，用于度量预测值与实际值之间的差异。它计算预测值与真实值之差的平方，并对所有样本进行求和后取平均。MSE越接近0，表示回归模型的预测值与实际值越接近。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用mean_squared_error函数，您可以计算模型的预测值与真实值之间的均方误差。</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从joblib模块导入了Parallel和delayed两个函数。这两个函数在并行计算和批量处理任务时非常有用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Parallel是一个用于并行计算的类，它可以方便地将函数应用于多个输入，并行地执行这些函数。通过指定n_jobs参数，您可以指定同时执行的并行任务数量。Parallel类可以显著提高计算密集型任务的执行效率。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># delayed是一个装饰器函数，用于将函数延迟执行。它用于在Parallel类的上下文中对函数进行修饰，以指定要并行执行的函数。通过使用delayed装饰器，可以将需要并行化的函数包装起来，以便在并行执行时被调用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个函数通常一起使用，可以简化并行化任务的实现。可以创建一个Parallel对象，并将需要并行处理的函数使用delayed装饰器进行修饰，然后通过调用Parallel对象来并行执行这些函数。</span></span><br><span class="line"><span class="keyword">from</span> joblib <span class="keyword">import</span> Parallel, delayed</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从tqdm.auto模块导入了tqdm函数。tqdm是一个用于在循环中显示进度条的 Python 包。它可以在命令行界面中实时显示循环迭代的进度，并根据迭代的速度动态调整进度条的更新频率。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用tqdm函数，可以将迭代对象作为参数传递给它，并在循环中使用它来实时显示进度条。根据迭代对象的大小和循环的进度，tqdm会自动更新并显示当前的进度条和预计剩余时间。这对于长时间运行的循环或处理大量数据的任务非常有用，可以提供可视化的进度反馈。</span></span><br><span class="line"><span class="keyword">from</span> tqdm.auto <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="comment"># 导入了一系列Python模块和库，它们具有以下功能：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># sys模块提供了对Python运行时环境变量和命令行参数的访问。</span></span><br><span class="line"><span class="comment"># os模块提供了与操作系统交互的函数，例如文件和目录操作。</span></span><br><span class="line"><span class="comment"># gc模块提供了对Python垃圾回收机制的控制，可以手动管理内存。</span></span><br><span class="line"><span class="comment"># argparse模块用于解析命令行参数和选项，可以帮助您编写具有可选参数和帮助信息的命令行工具。</span></span><br><span class="line"><span class="comment"># warnings模块用于控制警告消息的显示和处理。</span></span><br><span class="line"><span class="comment"># torch是一个用于深度学习的Python库，提供了张量操作、神经网络构建和训练等功能。</span></span><br><span class="line"><span class="comment"># glob模块用于在文件系统中查找符合指定模式的文件路径。</span></span><br><span class="line"><span class="keyword">import</span> sys,os,gc,argparse,warnings,torch,glob</span><br><span class="line"></span><br><span class="line"><span class="comment"># warnings.filterwarnings(&#x27;ignore&#x27;)是一个用于控制警告消息显示的函数调用。通过调用filterwarnings函数并传递参数&#x27;ignore&#x27;，您可以设置Python解释器忽略特定类型的警告消息。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 警告消息是提示用户潜在问题或错误的信息，但并不会导致程序终止。有时，警告消息可能会在特定情况下频繁出现，但您已经确认这些警告对程序的正常执行没有影响，或者您没有兴趣在控制台中看到这些警告。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过调用warnings.filterwarnings(&#x27;ignore&#x27;)，您可以将所有类型的警告都忽略，从而阻止它们显示在控制台上。这样，您就可以抑制不必要的警告消息，并使程序的输出更加干净。</span></span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2、加载数据（与前面基本一致）"><a href="#2、加载数据（与前面基本一致）" class="headerlink" title="2、加载数据（与前面基本一致）"></a>2、加载数据（与前面基本一致）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">path = <span class="string">&#x27;weather&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">chunk_time</span>(<span class="params">ds</span>):</span><br><span class="line">    dims = &#123;k:v <span class="keyword">for</span> k, v <span class="keyword">in</span> ds.dims.items()&#125;</span><br><span class="line">    dims[<span class="string">&#x27;time&#x27;</span>] = <span class="number">1</span></span><br><span class="line">    ds = ds.chunk(dims)</span><br><span class="line">    <span class="keyword">return</span> ds</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_dataset</span>():</span><br><span class="line">    ds = []</span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2007</span>, <span class="number">2012</span>):</span><br><span class="line">        data_name = os.path.join(path, <span class="string">f&#x27;weather_round1_train_<span class="subst">&#123;y&#125;</span>&#x27;</span>)</span><br><span class="line">        x = xr.open_zarr(data_name, consolidated=<span class="literal">True</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;data_name&#125;</span>, <span class="subst">&#123;x.time.values[<span class="number">0</span>]&#125;</span> ~ <span class="subst">&#123;x.time.values[-<span class="number">1</span>]&#125;</span>&#x27;</span>)</span><br><span class="line">        ds.append(x)</span><br><span class="line">    ds = xr.concat(ds, <span class="string">&#x27;time&#x27;</span>)</span><br><span class="line">    ds = chunk_time(ds)</span><br><span class="line">    <span class="keyword">return</span> ds</span><br><span class="line"></span><br><span class="line">ds = load_dataset().x</span><br></pre></td></tr></table></figure>
<h3 id="3、构建训练样本（将特征量进行维度转换和合并，从三维变成一维）"><a href="#3、构建训练样本（将特征量进行维度转换和合并，从三维变成一维）" class="headerlink" title="3、构建训练样本（将特征量进行维度转换和合并，从三维变成一维）"></a>3、构建训练样本（将特征量进行维度转换和合并，从三维变成一维）</h3><p><strong>因为数据量比较大，所以仅提取10份训练数据，每份数据大小应该为(22,70,161,161)，共22个时刻的数据，前面2个时刻用来提取特征，后面20个时刻用来提取目标变量</strong>。另外需要特别注意的是：</p>
<ol>
<li><p>整个流程涉及很多数组的操作，如提取数据、维度转换、数组合并等，需要仔细操作；</p>
</li>
<li><p>分别提取时间、经纬度、第一个时刻的70个变量、第二个时刻的70个变量、两个时刻70个变量的差值。需<strong><em>要特别注意，对于未来20个时刻，除了时间信息是不一样的外，其余特征变量完全一致，主要刻画相同特征不同时间的情况下，目标变量的变化；</em></strong></p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将ds.lat和ds.lon的值分别转换为列表并赋值给变量lats和lons。</span></span><br><span class="line">lats = ds.lat.values.tolist()</span><br><span class="line">lons = ds.lon.values.tolist()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对齐测试数据，每份数据应该是22个时刻</span></span><br><span class="line"><span class="comment"># 获取多份训练数据，滑动10次，每次24个时刻（6天），每次滑动提取最后22个时刻作为一份训练数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#首先训练数据是空数组</span></span><br><span class="line">train_data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">        <span class="comment"># 选用最后22个索引，</span></span><br><span class="line">        <span class="built_in">print</span>(-<span class="number">22</span>, <span class="number">0</span>)</span><br><span class="line">        train_data.append(ds[-<span class="number">22</span>:, :, :, :].values)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 选择倒数22个时刻的数据作为训练数据</span></span><br><span class="line">        idx = i * <span class="number">24</span></span><br><span class="line">        train_data.append(ds[-<span class="number">22</span>-idx:-idx, :, :, :].values)</span><br><span class="line">        <span class="built_in">print</span>(-<span class="number">22</span>-idx,-idx)</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 经纬度标识字段</span></span><br><span class="line"><span class="comment"># 每个循环迭代，i 和 j 的范围是从0到160，这将生成 161*161 个坐标对。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后，通过使用 numpy 的 array 函数，将 latlon_vals 转换为一个 numpy 数组，维度为 (161*161, 2)。这意味着该数组的行数是 161*161，每行有两个元素代表一个经纬度坐标。</span></span><br><span class="line">latlon_vals = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">161</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">161</span>):</span><br><span class="line">        latlon_vals.append([lats[i], lons[j]])</span><br><span class="line">latlon_vals = np.array(latlon_vals) <span class="comment">#（161*161，2）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 确定好20份训练数据后，接下来需要提取特征</span></span><br><span class="line"><span class="keyword">for</span> flag, dat <span class="keyword">in</span> tqdm(<span class="built_in">enumerate</span>(train_data)):</span><br><span class="line">    <span class="comment"># 第一时刻特征</span></span><br><span class="line">    first_feat = dat[<span class="number">0</span>,:,:,:].reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    <span class="comment"># 第二时刻特征</span></span><br><span class="line">    second_feat = dat[<span class="number">1</span>,:,:,:].reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    <span class="comment"># 两个时刻差分特征</span></span><br><span class="line">    diff_feat = (dat[<span class="number">1</span>,:,:,:] - dat[<span class="number">0</span>,:,:,:]).reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 在这段代码中，使用了 tqdm 函数来迭代 train_data 列表，并给每个迭代元素增加一个索引标志 flag。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在每个迭代中，对数据 dat 进行了一系列操作，如下所示：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一时刻特征（first_feat）的计算：通过使用索引 [0,:,:,:]，从 dat 中选择第一个时间步的数据，然后通过重塑和转置操作将形状从 (70, 161, 161) 变为 (161*161, 70)。这样做，以便将原始的三维特征数据转换为一个二维特征矩阵。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二时刻特征（second_feat）的计算：通过使用索引 [1,:,:,:]，从 dat 中选择第二个时间步的数据，然后进行与上述相似的重塑和转置操作，将形状变为 (161*161, 70)。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 两个时刻差分特征（diff_feat）的计算：通过将第二个时间步的数据减去第一个时间步的数据，然后进行与上述相似的重塑和转置操作，将形状变为 (161*161, 70)。</span></span><br><span class="line"><span class="comment"># 通过将这个三维矩阵重塑为 (161*161, 70) 的形状，可以将整个矩阵展平为一个长向量，其中每个元素就代表了矩阵中的一个特征值。这样，整个二维矩阵可以被表示为一个特征向量的集合。</span></span><br><span class="line"><span class="comment"># 这些操作的目的是将原始的三维特征数据转换为二维特征矩阵，以便在后续的分析或处理中使用。</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 构建训练样本</span></span><br><span class="line">    tmp_dat = dat[<span class="number">2</span>:,-<span class="number">5</span>:,:,:] <span class="comment"># (20, 5, 161, 161)</span></span><br><span class="line">    <span class="comment"># 通过切片 [2:,-5:,:,:]，你选取了 dat 数组的第3到最后一个时间步、倒数第5到最后一个通道、以及所有行和列。这样，你得到了一个新的数组 tmp_dat，其形状为 (20, 5, 161, 161)。</span></span><br><span class="line">    </span><br><span class="line">   <span class="comment"># 使用了一个循环，迭代了20个时间步。</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 在每个时间步中，进行了以下操作：</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>): <span class="comment"># 20个时刻</span></span><br><span class="line">        <span class="comment"># 时间特征、经纬特征</span></span><br><span class="line">        <span class="comment"># 时间特征的计算：通过使用 np.array([i]*161*161).reshape(161*161, 1)，创建了一个形状为 (161*161, 1) 的数组 time_vals，其中每个元素都是当前时间步 i。</span></span><br><span class="line">        time_vals = np.array([i]*<span class="number">161</span>*<span class="number">161</span>).reshape(<span class="number">161</span>*<span class="number">161</span>,<span class="number">1</span>) <span class="comment">#（161*161，1）</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 经纬特征的计算：将之前定义的 latlon_vals 数组与时间特征 time_vals 拼接起来，使用 np.concatenate 函数，按照列的方向（axis=1）进行拼接，得到形状为 (161*161, 3) 的数组 sub_vals。</span></span><br><span class="line">        sub_vals = np.concatenate((time_vals, latlon_vals), axis=<span class="number">1</span>) <span class="comment">#（161*161，3）</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 添加历史特征，第一时刻特征、第二时刻特征、两个时刻差分特征</span></span><br><span class="line">        <span class="comment"># 添加历史特征：将之前计算的 第一时刻特征 first_feat、第二时刻特征 second_feat 和两个时刻差分特征 diff_feat，依次与 sub_vals 进行拼接。通过多次使用 np.concatenate 函数，将这些特征按照列的方向拼接到 sub_vals 的右侧。最终，sub_vals 的形状将变为 (161*161, 213)，其中包含时间特征、经纬特征和历史特征。</span></span><br><span class="line">        sub_vals = np.concatenate((sub_vals, first_feat), axis=<span class="number">1</span>) <span class="comment">#（161*161，73）</span></span><br><span class="line">        sub_vals = np.concatenate((sub_vals, second_feat), axis=<span class="number">1</span>) <span class="comment">#（161*161，143）</span></span><br><span class="line">        sub_vals = np.concatenate((sub_vals, diff_feat), axis=<span class="number">1</span>) <span class="comment">#（161*161，213）</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 添加5个目标变量，（161*161，218）</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">            var_vals = tmp_dat[i,j,:,:].reshape(<span class="number">161</span>*<span class="number">161</span>, <span class="number">1</span>)</span><br><span class="line">            sub_vals = np.concatenate((sub_vals, var_vals), axis=<span class="number">1</span>) </span><br><span class="line">        <span class="comment"># 将当前时间步的特征数据 sub_vals 添加到 all_vals 中。如果 i 是第一个时间步（i == 0），则直接将 sub_vals 赋值给 all_vals；否则，通过使用 np.concatenate 函数将 sub_vals 拼接到 all_vals 的下方，按行的方向进行拼接。</span></span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span> :</span><br><span class="line">            all_vals = sub_vals </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            all_vals = np.concatenate((all_vals, sub_vals), axis=<span class="number">0</span>)</span><br><span class="line">    <span class="comment"># 最后，通过外层循环的迭代，将每个时间步的特征数据添加到 final_vals 中。如果 flag 是0，则直接将 all_vals 赋值给 final_vals；否则，通过使用 np.concatenate 函数将 all_vals 拼接到 final_vals 的下方，按行的方向进行拼接。        </span></span><br><span class="line">    <span class="keyword">if</span> flag == <span class="number">0</span>:</span><br><span class="line">        final_vals = all_vals</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        final_vals = np.concatenate((final_vals, all_vals), axis=<span class="number">0</span>)</span><br><span class="line">        <span class="comment"># 最终，final_vals 将包含所有时间步的特征数据，形状为 (161*161*20, 218)。</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>将二维数组转为dataframe格式，并设置新的列名，然后选择入模特征，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先使用 pd.DataFrame 函数将 final_vals 数组转换为一个 Pandas DataFrame 对象，命名为 train_df。</span></span><br><span class="line">train_df = pd.DataFrame(final_vals)</span><br><span class="line"><span class="comment"># 通过为 train_df 的列指定名称，对其列进行命名。列的名称包括：‘time’、‘lat’、‘lon’，以及以’feat_‘开头的210列特征名称，最后加上’t2m’、‘u10’、‘v10’、&#x27;msl’和’tp’这5个目标变量的名称。</span></span><br><span class="line">train_df.columns = [<span class="string">&#x27;time&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>,<span class="string">&#x27;lon&#x27;</span>] + [<span class="string">f&#x27;feat_<span class="subst">&#123;i&#125;</span>&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">210</span>)] + [<span class="string">&#x27;t2m&#x27;</span>,<span class="string">&#x27;u10&#x27;</span>,<span class="string">&#x27;v10&#x27;</span>,<span class="string">&#x27;msl&#x27;</span>,<span class="string">&#x27;tp&#x27;</span>]</span><br><span class="line"></span><br><span class="line">cols = [<span class="string">&#x27;time&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>,<span class="string">&#x27;lon&#x27;</span>] + [<span class="string">f&#x27;feat_<span class="subst">&#123;i&#125;</span>&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">210</span>)]</span><br><span class="line"><span class="comment"># 将 final_vals 数组转换为了一个带有适当的列名称的 Pandas DataFrame 对象，并定义了一个存储选取列名称的列表 cols</span></span><br></pre></td></tr></table></figure>
<h3 id="4、训练模型"><a href="#4、训练模型" class="headerlink" title="4、训练模型"></a>4、训练模型</h3><p>​    模型选择使用catboost模型，并且将模型训练和模型推理单独构建，主要是方便对300份测试数据进行单独推理。另外需要注意，模型学习率learning_rate设置的比较大。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">train_model</span>(<span class="params">train_x, train_y, label, seed=<span class="number">2023</span></span>):</span><br><span class="line">    <span class="comment"># train_x：训练数据的特征集合，是一个 Pandas DataFrame。</span></span><br><span class="line">    <span class="comment"># train_y：训练数据的目标变量，是一个一维数组。</span></span><br><span class="line">	<span class="comment"># label：当前模型训练的目标变量名称。</span></span><br><span class="line">	<span class="comment"># seed：随机种子，用来控制训练过程的随机性，默认值为 2023。</span></span><br><span class="line">    <span class="comment"># 初始化交叉验证的变量和参数</span></span><br><span class="line">    oof = np.zeros(train_x.shape[<span class="number">0</span>])  <span class="comment"># 存储交叉验证的预测结果</span></span><br><span class="line">    kf = KFold(n_splits=<span class="number">5</span>, shuffle=<span class="literal">True</span>, random_state=seed)  <span class="comment"># 5折交叉验证</span></span><br><span class="line">    cv_scores = []  <span class="comment"># 存储每一折的验证集分数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> i, (train_index, valid_index) <span class="keyword">in</span> <span class="built_in">enumerate</span>(kf.split(train_x, train_y)):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;************************************ &#123;&#125; &#123;&#125;************************************&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">str</span>(i+<span class="number">1</span>), <span class="built_in">str</span>(seed)))</span><br><span class="line">         <span class="comment"># 设置CatBoost模型的参数</span></span><br><span class="line">        params = &#123;<span class="string">&#x27;learning_rate&#x27;</span>: <span class="number">0.5</span>,</span><br><span class="line">                  <span class="string">&#x27;depth&#x27;</span>: <span class="number">5</span>,</span><br><span class="line">                  <span class="string">&#x27;bootstrap_type&#x27;</span>:<span class="string">&#x27;Bernoulli&#x27;</span>,</span><br><span class="line">                  <span class="string">&#x27;random_seed&#x27;</span>:<span class="number">2023</span>,</span><br><span class="line">                  <span class="string">&#x27;od_type&#x27;</span>: <span class="string">&#x27;Iter&#x27;</span>,</span><br><span class="line">                  <span class="string">&#x27;od_wait&#x27;</span>: <span class="number">100</span>,</span><br><span class="line">                  <span class="string">&#x27;random_seed&#x27;</span>: <span class="number">11</span>,</span><br><span class="line">                  <span class="string">&#x27;allow_writing_files&#x27;</span>: <span class="literal">False</span>,</span><br><span class="line">                  <span class="string">&#x27;task_type&#x27;</span>:<span class="string">&quot;GPU&quot;</span>,</span><br><span class="line">                  <span class="string">&#x27;devices&#x27;</span>:<span class="string">&#x27;0:1&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">        model = CatBoostRegressor(iterations=<span class="number">100</span>, **params)  <span class="comment"># 创建CatBoost回归模型</span></span><br><span class="line">        model.fit(trn_x, trn_y, eval_set=(val_x, val_y),</span><br><span class="line">                  cat_features=[],</span><br><span class="line">                  use_best_model=<span class="literal">True</span>,</span><br><span class="line">                  verbose=<span class="number">1</span>)  <span class="comment"># 在训练集上拟合模型并在验证集上进行评估</span></span><br><span class="line">        <span class="comment"># model.save_model(f&#x27;catboost_&#123;label&#125;_fold&#123;i&#125;.model&#x27;)  # 保存模型</span></span><br><span class="line">        model.save_model(<span class="string">f&#x27;model/catboost_<span class="subst">&#123;label&#125;</span>_fold<span class="subst">&#123;i&#125;</span>.model&#x27;</span>)  <span class="comment"># 保存模型到指定路径</span></span><br><span class="line">        val_pred  = model.predict(val_x)  <span class="comment"># 在验证集上进行预测</span></span><br><span class="line">        oof[valid_index] = val_pred  <span class="comment"># 将验证集的预测结果填充到oof数组中</span></span><br><span class="line"></span><br><span class="line">        cv_scores.append(np.sqrt(mean_squared_error(val_y, val_pred)))  <span class="comment"># 计算并存储验证集的均方根误差</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>: <span class="comment">#如果是第一折（i==0），计算特征重要性并保存到CSV文件。</span></span><br><span class="line">            fea_ = model.feature_importances_</span><br><span class="line">            fea_name = model.feature_names_</span><br><span class="line">            fea_score = pd.DataFrame(&#123;<span class="string">&#x27;fea_name&#x27;</span>:fea_name, <span class="string">&#x27;score&#x27;</span>:fea_&#125;)</span><br><span class="line">            fea_score = fea_score.sort_values(<span class="string">&#x27;score&#x27;</span>, ascending=<span class="literal">False</span>)</span><br><span class="line">            fea_score.to_csv(<span class="string">&#x27;feature_importances.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(cv_scores) <span class="comment">#打印当前折的验证集分数。</span></span><br><span class="line">    <span class="keyword">return</span> oof</span><br><span class="line">    </span><br><span class="line">oofs = []  <span class="comment"># 存储所有特征的交叉验证预测结果</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对每个特征进行训练和预测</span></span><br><span class="line"><span class="keyword">for</span> label <span class="keyword">in</span> [<span class="string">&#x27;t2m&#x27;</span>, <span class="string">&#x27;u10&#x27;</span>, <span class="string">&#x27;v10&#x27;</span>, <span class="string">&#x27;msl&#x27;</span>, <span class="string">&#x27;tp&#x27;</span>]:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;==================== <span class="subst">&#123;label&#125;</span> ====================&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 调用train_model函数进行训练，并将返回的交叉验证预测结果存储到cat_oof变量中</span></span><br><span class="line">    cat_oof = train_model(train_df[cols], train_df[label], label)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 将交叉验证预测结果添加到oofs列表中</span></span><br><span class="line">    oofs.append(cat_oof)</span><br><span class="line"><span class="comment">#这段代码定义了一个 train_model 函数，用于训练一个 CatBoostRegressor 模型。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="5、测试集预测"><a href="#5、测试集预测" class="headerlink" title="5、测试集预测"></a>5、测试集预测</h3><p>在训练模型阶段提前将训练好的模型进行保存，在模型推理函数部分直接加载对应目标变量的模型即可，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">inter_model</span>(<span class="params">test_x, label, seed=<span class="number">2023</span></span>):</span><br><span class="line">    <span class="comment"># test_x：测试数据的特征集合，是一个 Pandas DataFrame。</span></span><br><span class="line">	<span class="comment"># label：模型训练的目标变量名称。</span></span><br><span class="line">	<span class="comment"># seed：随机种子，用来控制训练过程的随机性，默认值为 2023。</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># n_splits：表示将数据划分为几个折。在这个例子中，将数据划分为 5 个折。</span></span><br><span class="line">	<span class="comment"># shuffle：表示是否在进行划分前对数据进行洗牌。设置为 True 表示进行洗牌，即在划分前对数据随机打乱顺序。</span></span><br><span class="line">	<span class="comment"># random_state：随机种子，用于控制洗牌时的随机性。设置为 seed，该值作为参数传入。</span></span><br><span class="line">    kf = KFold(n_splits=<span class="number">5</span>, shuffle=<span class="literal">True</span>, random_state=seed)</span><br><span class="line">    test = np.zeros(test_x.shape[<span class="number">0</span>])</span><br><span class="line">    </span><br><span class="line">    params = &#123;<span class="string">&#x27;learning_rate&#x27;</span>: <span class="number">0.5</span>, <span class="string">&#x27;depth&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;bootstrap_type&#x27;</span>:<span class="string">&#x27;Bernoulli&#x27;</span>,<span class="string">&#x27;random_seed&#x27;</span>:seed, <span class="string">&#x27;metric_period&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">              <span class="string">&#x27;od_type&#x27;</span>: <span class="string">&#x27;Iter&#x27;</span>, <span class="string">&#x27;od_wait&#x27;</span>: <span class="number">100</span>, <span class="string">&#x27;random_seed&#x27;</span>: <span class="number">11</span>, <span class="string">&#x27;allow_writing_files&#x27;</span>: <span class="literal">False</span>, <span class="string">&#x27;task_type&#x27;</span>: <span class="string">&#x27;CPU&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>):</span><br><span class="line">        <span class="comment"># print(&#x27;************************************ &#123;&#125; &#123;&#125;************************************&#x27;.format(str(i+1), str(seed)))</span></span><br><span class="line">        model = CatBoostRegressor(**params) </span><br><span class="line">        model.load_model(<span class="string">f&#x27;model/catboost_<span class="subst">&#123;label&#125;</span>_fold<span class="subst">&#123;i&#125;</span>.model&#x27;</span>)</span><br><span class="line">        test_pred = model.predict(test_x)</span><br><span class="line">        test += test_pred / kf.n_splits</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> test</span><br></pre></td></tr></table></figure>
<p>构建测试样本，及特征提取函数，这里的构建流程与训练集部分基本一致，除了没有5个目标变量外。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_test_data</span>(<span class="params">dat</span>):</span><br><span class="line">    <span class="comment"># 第一时刻特征</span></span><br><span class="line">    first_feat = dat[<span class="number">0</span>,:,:,:].reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    <span class="comment"># 第二时刻特征</span></span><br><span class="line">    second_feat = dat[<span class="number">1</span>,:,:,:].reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    <span class="comment"># 两个时刻差分特征</span></span><br><span class="line">    diff_feat = (dat[<span class="number">1</span>,:,:,:] - dat[<span class="number">0</span>,:,:,:]).reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 构建测试样本</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>): <span class="comment"># 20个时刻</span></span><br><span class="line">        <span class="comment"># 时间特征、经纬特征</span></span><br><span class="line">        time_vals = np.array([i]*<span class="number">161</span>*<span class="number">161</span>).reshape(<span class="number">161</span>*<span class="number">161</span>,<span class="number">1</span>) <span class="comment">#（161*161，1）</span></span><br><span class="line">        sub_vals = np.concatenate((time_vals, latlon_vals), axis=<span class="number">1</span>) <span class="comment">#（161*161，3）</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 添加历史特征，第一时刻特征、第二时刻特征、两个时刻差分特征</span></span><br><span class="line">        sub_vals = np.concatenate((sub_vals, first_feat), axis=<span class="number">1</span>) <span class="comment">#（161*161，73）</span></span><br><span class="line">        sub_vals = np.concatenate((sub_vals, second_feat), axis=<span class="number">1</span>) <span class="comment">#（161*161，143）</span></span><br><span class="line">        sub_vals = np.concatenate((sub_vals, diff_feat), axis=<span class="number">1</span>) <span class="comment">#（161*161，213）</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span> :</span><br><span class="line">            all_vals = sub_vals</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            all_vals = np.concatenate((all_vals, sub_vals), axis=<span class="number">0</span>)</span><br><span class="line">            </span><br><span class="line">    df = pd.DataFrame(all_vals)</span><br><span class="line">    df.columns = [<span class="string">&#x27;time&#x27;</span>,<span class="string">&#x27;lat&#x27;</span>,<span class="string">&#x27;lon&#x27;</span>] + [<span class="string">f&#x27;feat_<span class="subst">&#123;i&#125;</span>&#x27;</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">210</span>)]</span><br><span class="line">    <span class="keyword">return</span> df</span><br></pre></td></tr></table></figure>
<p>结果生成函数，代码流程：</p>
<ol>
<li>生成测试样本，并构建特征；</li>
<li>调用推理模型函数，分别预测5个目标变量的结果；</li>
<li>将结果转为可提交格式(20,5,161,161)；</li>
<li>Array转为Tensor；</li>
<li>保存为pt文件，精度为半精度浮点类型。</li>
</ol>
<p>代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_parallel_result</span>(<span class="params">file</span>):</span><br><span class="line">    input_data = torch.load(file)</span><br><span class="line">    </span><br><span class="line">    test_df = get_test_data(np.array(input_data)) <span class="comment"># 生成测试样本，并构建特征</span></span><br><span class="line">    </span><br><span class="line">    res = test_df[[<span class="string">&#x27;time&#x27;</span>]] <span class="comment"># 保存结果</span></span><br><span class="line">    <span class="keyword">for</span> label <span class="keyword">in</span> [<span class="string">&#x27;t2m&#x27;</span>,<span class="string">&#x27;u10&#x27;</span>,<span class="string">&#x27;v10&#x27;</span>,<span class="string">&#x27;msl&#x27;</span>,<span class="string">&#x27;tp&#x27;</span>]:</span><br><span class="line">        cat_pred = inter_model(test_df[cols], label) <span class="comment"># 模型推理，预测测试集结果</span></span><br><span class="line">        res[label] = cat_pred  <span class="comment"># 将预测结果存储在字典中</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment"># 转为提交格式</span></span><br><span class="line">    <span class="keyword">for</span> label <span class="keyword">in</span> [<span class="string">&#x27;t2m&#x27;</span>,<span class="string">&#x27;u10&#x27;</span>,<span class="string">&#x27;v10&#x27;</span>,<span class="string">&#x27;msl&#x27;</span>,<span class="string">&#x27;tp&#x27;</span>]:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">            sub_vals = res[res[<span class="string">&#x27;time&#x27;</span>]==i][label].values.reshape(<span class="number">1</span>,<span class="number">161</span>,<span class="number">161</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                all_vals = sub_vals</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                all_vals = np.concatenate((all_vals, sub_vals), axis=<span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">        all_vals = all_vals.reshape(<span class="number">20</span>,<span class="number">1</span>,<span class="number">161</span>,<span class="number">161</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> label == <span class="string">&#x27;t2m&#x27;</span>:</span><br><span class="line">            final_vals = all_vals</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            final_vals = np.concatenate((final_vals, all_vals), axis=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    final_vals = torch.tensor(final_vals)</span><br><span class="line">    save_file = file.split(<span class="string">&#x27;/&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">    torch.save(final_vals.half(), <span class="string">f&#x27;output/<span class="subst">&#123;save_file&#125;</span>&#x27;</span>, ) <span class="comment"># 精度转为半精度浮点类型</span></span><br></pre></td></tr></table></figure>
<p>为了加快运行速度，这里使用Joblib中的Parallel和delayed实现并行化处理，执行get_parallel_result函数，代码如下：</p>
<p>注：n_jobs为开启的进程数，即是用n_jobs个CPU来计算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Parallel(n_jobs=<span class="number">32</span>)(</span><br><span class="line">    delayed(get_parallel_result)(file_path)</span><br><span class="line">      <span class="keyword">for</span> file_path <span class="keyword">in</span> tqdm(glob.glob(<span class="string">f&#x27;<span class="subst">&#123;path&#125;</span>/weather_round1_test/input/*.pt&#x27;</span>))</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="6、结果输出（统一的没啥区别几乎）"><a href="#6、结果输出（统一的没啥区别几乎）" class="headerlink" title="6、结果输出（统一的没啥区别几乎）"></a>6、结果输出（统一的没啥区别几乎）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 现在就可以得到答案的压缩包啦~~~</span></span><br><span class="line">_ = !<span class="built_in">zip</span> -r output.<span class="built_in">zip</span> output/</span><br><span class="line"><span class="comment">#如果上面代码无响应，运行下面这段代码</span></span><br><span class="line"><span class="keyword">import</span> zipfile,os</span><br><span class="line">path=<span class="string">&#x27;./output/&#x27;</span> <span class="comment">#压缩当前路径所有文件，输出zip文件</span></span><br><span class="line">zipName = <span class="string">&#x27;output.zip&#x27;</span> <span class="comment">#压缩后文件的位置及名称</span></span><br><span class="line">f = zipfile.ZipFile( zipName, <span class="string">&#x27;w&#x27;</span>, zipfile.ZIP_DEFLATED )</span><br><span class="line"><span class="keyword">for</span> dirpath, dirnames, filenames <span class="keyword">in</span> os.walk(path):</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">        <span class="built_in">print</span>(filename)</span><br><span class="line">        f.write(os.path.join(dirpath,filename))</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h2 id="优化1、扩大训练数据为15份（后续想想怎么能更多）"><a href="#优化1、扩大训练数据为15份（后续想想怎么能更多）" class="headerlink" title="优化1、扩大训练数据为15份（后续想想怎么能更多）"></a>优化1、扩大训练数据为15份（后续想想怎么能更多）</h2><h2 id="优化-2、学习率和迭代次数105（测试中）"><a href="#优化-2、学习率和迭代次数105（测试中）" class="headerlink" title="优化 2、学习率和迭代次数105（测试中）"></a>优化 2、学习率和迭代次数105（测试中）</h2><h2 id="优化3、特征优化"><a href="#优化3、特征优化" class="headerlink" title="优化3、特征优化"></a>优化3、特征优化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_test_data</span>(<span class="params">dat</span>):</span><br><span class="line">    <span class="comment"># 第一时刻特征</span></span><br><span class="line">    first_feat = dat[<span class="number">0</span>,:,:,:].reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    <span class="comment"># 第二时刻特征</span></span><br><span class="line">    second_feat = dat[<span class="number">1</span>,:,:,:].reshape(<span class="number">70</span>,<span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br><span class="line">    <span class="comment"># 两个时刻统计特征方差</span></span><br><span class="line">    diff_feat = np.var([dat[<span class="number">1</span>,:,:,:], dat[<span class="number">0</span>,:,:,:]], axis=<span class="number">0</span>).reshape(<span class="number">70</span>, <span class="number">161</span>*<span class="number">161</span>).transpose() <span class="comment"># (70, 161, 161) --&gt; (161*161, 70)</span></span><br></pre></td></tr></table></figure>
<h2 id="优化4、评价指标"><a href="#优化4、评价指标" class="headerlink" title="优化4、评价指标"></a>优化4、评价指标</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="回归问题与梯度下降"><a href="#回归问题与梯度下降" class="headerlink" title="回归问题与梯度下降"></a>回归问题与梯度下降</h2><p>梯度下降：</p>
<p>首先梯度类似于导数，</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230815155718463.png" alt="image-20230815155718463"></p>
<p>首先随便找一个点X0，然后算出Y0,然后计算机算出来Y0’,然后给计算机一个迭代的过程。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/image-20230815160027316.png" alt="image-20230815160027316"></p>
<p>这个过程大概就是梯度下降的过程。</p>
<p><strong>详细回归问题与梯度下降视频：</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Wd4y1X7Yi/?spm_id_from=333.337.search-card.all.click&amp;vd_source=cf0b651a9f3e6c7822ca8f914aeb9a28">https://www.bilibili.com/video/BV1Wd4y1X7Yi/?spm_id_from=333.337.search-card.all.click&amp;vd_source=cf0b651a9f3e6c7822ca8f914aeb9a28</a></p>
<p> 那么回归又是什么意思？</p>
<p>由于我们现实中的数据存在一些误差，我们允许一些误差的存在，然后得到一组整体更好的参数，回归</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://oyy0v0.top">oyy0v0</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://oyy0v0.top/2023/08/15/2023-8-15%20AI%E5%A4%8F%E4%BB%A4%E8%90%A5%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5%E5%A4%A7%E8%B5%9B/">https://oyy0v0.top/2023/08/15/2023-8-15%20AI%E5%A4%8F%E4%BB%A4%E8%90%A5%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5%E5%A4%A7%E8%B5%9B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://oyy0v0.top" target="_blank">oyy0v0😼</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/AI/">-AI</a></div><div class="post_share"><div class="social-share" data-image="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/15/2023-10-3%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/" title="背包问题"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">背包问题</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/06/2023-7-1Java%E5%B0%8F%E8%AE%B0/" title="Java小记"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Java小记</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/7.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">oyy0v0</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">33</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/oyy0v0"><i class="fab fa-github"></i><span>💕前往小家</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/assets/QRCode.jpg" target="_blank" title="icon-weixin"><i class="微信" style="color: faa-tada;"></i></a><a class="social-icon" href="https://github.com/oyy0v0" target="_blank" title="icon-github"><i class="Github" style="color: faa-tade;"></i></a><a class="social-icon" href="mailto:2925886492@qq.com" target="_blank" title="icon-youxiang"><i class="QQ邮箱" style="color: faa-tada;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来来到我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#AI%E5%A4%8F%E4%BB%A4%E8%90%A5%E7%AC%AC%E4%B8%89%E6%9C%9F"><span class="toc-text">AI夏令营第三期</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%B5%9B%E4%BB%BB%E5%8A%A1"><span class="toc-text">比赛任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%9B%E9%A2%98%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-text">赛题数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%AE%8F%E8%A7%82%E6%A1%86%E6%9E%B6-%E8%AE%AD%E7%BB%83%E5%92%8C%E6%8E%A8%E7%90%86"><span class="toc-text">深度学习的宏观框架 训练和推理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%AD%E7%BB%83"><span class="toc-text">训练</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E7%90%86"><span class="toc-text">推理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="toc-text">评价指标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF"><span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stept1-%E6%90%9E%E6%87%82%E7%BB%9F%E8%AE%A1%E6%96%B9%E6%B3%95%E7%9A%84BasLine"><span class="toc-text">Stept1 搞懂统计方法的BasLine</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97%EF%BC%88%E5%AF%BC%E5%85%A5%E5%B7%A5%E5%85%B7%E5%8C%85%EF%BC%89"><span class="toc-text">1、导入模块（导入工具包）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2%EF%BC%88%E5%B0%86%E6%95%B0%E6%8D%AE%E5%88%86%E5%9D%97%E6%89%93%E5%8D%B0%E5%87%BA%E6%9D%A5%E7%9C%8B%E7%9C%8B%E9%95%BF%E5%95%A5%E6%A0%B7%EF%BC%89"><span class="toc-text">2、数据探索（将数据分块打印出来看看长啥样）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97"><span class="toc-text">3、数据清洗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E7%BB%9F%E8%AE%A1%E7%AD%96%E7%95%A5%E8%BF%9B%E8%A1%8C"><span class="toc-text">4、统计策略进行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step2-%E6%90%9E%E6%87%82%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0BaseLine"><span class="toc-text">Step2 搞懂机器学习BaseLine</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97"><span class="toc-text">1、导入模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE%EF%BC%88%E4%B8%8E%E5%89%8D%E9%9D%A2%E5%9F%BA%E6%9C%AC%E4%B8%80%E8%87%B4%EF%BC%89"><span class="toc-text">2、加载数据（与前面基本一致）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E6%9E%84%E5%BB%BA%E8%AE%AD%E7%BB%83%E6%A0%B7%E6%9C%AC%EF%BC%88%E5%B0%86%E7%89%B9%E5%BE%81%E9%87%8F%E8%BF%9B%E8%A1%8C%E7%BB%B4%E5%BA%A6%E8%BD%AC%E6%8D%A2%E5%92%8C%E5%90%88%E5%B9%B6%EF%BC%8C%E4%BB%8E%E4%B8%89%E7%BB%B4%E5%8F%98%E6%88%90%E4%B8%80%E7%BB%B4%EF%BC%89"><span class="toc-text">3、构建训练样本（将特征量进行维度转换和合并，从三维变成一维）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B"><span class="toc-text">4、训练模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%B5%8B%E8%AF%95%E9%9B%86%E9%A2%84%E6%B5%8B"><span class="toc-text">5、测试集预测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E7%BB%93%E6%9E%9C%E8%BE%93%E5%87%BA%EF%BC%88%E7%BB%9F%E4%B8%80%E7%9A%84%E6%B2%A1%E5%95%A5%E5%8C%BA%E5%88%AB%E5%87%A0%E4%B9%8E%EF%BC%89"><span class="toc-text">6、结果输出（统一的没啥区别几乎）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%961%E3%80%81%E6%89%A9%E5%A4%A7%E8%AE%AD%E7%BB%83%E6%95%B0%E6%8D%AE%E4%B8%BA15%E4%BB%BD%EF%BC%88%E5%90%8E%E7%BB%AD%E6%83%B3%E6%83%B3%E6%80%8E%E4%B9%88%E8%83%BD%E6%9B%B4%E5%A4%9A%EF%BC%89"><span class="toc-text">优化1、扩大训练数据为15份（后续想想怎么能更多）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96-2%E3%80%81%E5%AD%A6%E4%B9%A0%E7%8E%87%E5%92%8C%E8%BF%AD%E4%BB%A3%E6%AC%A1%E6%95%B0105%EF%BC%88%E6%B5%8B%E8%AF%95%E4%B8%AD%EF%BC%89"><span class="toc-text">优化 2、学习率和迭代次数105（测试中）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%963%E3%80%81%E7%89%B9%E5%BE%81%E4%BC%98%E5%8C%96"><span class="toc-text">优化3、特征优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%964%E3%80%81%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="toc-text">优化4、评价指标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E5%BD%92%E9%97%AE%E9%A2%98%E4%B8%8E%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D"><span class="toc-text">回归问题与梯度下降</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By oyy0v0</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.oyy0v0.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.oyy0v0.top/',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/cursor.js"></script><script async src="//at.alicdn.com/t/c/font_4658720_723un29n3vn.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer data-pjax src="/js/readPercent.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg);"> <a class="categoryBar-list-link" href="categories/算法/">算法</a><span class="categoryBar-list-count">6</span><span class="categoryBar-list-descr">java入门</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg);"> <a class="categoryBar-list-link" href="categories/java入门/">java入门</a><span class="categoryBar-list-count">5</span><span class="categoryBar-list-descr">算法</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg);"> <a class="categoryBar-list-link" href="categories/GitHub/">GitHub</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">GitHub</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/14.jpg);"> <a class="categoryBar-list-link" href="categories/博客/">博客</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">博客</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg);"> <a class="categoryBar-list-link" href="categories/面试集合/">面试集合</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">AI</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg);"> <a class="categoryBar-list-link" href="categories/前端/">前端</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">java高级</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg);"> <a class="categoryBar-list-link" href="categories/AI/">AI</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">前端</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg);"> <a class="categoryBar-list-link" href="categories/java高级/">java高级</a><span class="categoryBar-list-count">9</span><span class="categoryBar-list-descr">面试合集</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/2.jpg);"> <a class="categoryBar-list-link" href="categories/Go语言/">Go语言</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">操作系统</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg);"> <a class="categoryBar-list-link" href="categories/计算机网络/">计算机网络</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">计算机网络</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/21.jpg);"> <a class="categoryBar-list-link" href="categories/操作系统/">操作系统</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">Go语言</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg);"> <a class="categoryBar-list-link" href="categories/java中级/">java中级</a><span class="categoryBar-list-count">5</span><span class="categoryBar-list-descr">面试</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg);"> <a class="categoryBar-list-link" href="categories/面试/">面试</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">java中级</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg);"> <a class="categoryBar-list-link" href="categories/java小记/">java小记</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">java小记</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg);"> <a class="categoryBar-list-link" href="categories/java思路/">java思路</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">java踩坑</span></li><li class="categoryBar-list-item" style="background:url(https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg);"> <a class="categoryBar-list-link" href="categories/java踩坑/">java踩坑</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">java思路</span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var qweather_key = '8b4e8faa226f49ff851d67d0354499b7';
  var gaud_map_key = '85e43a6ba1ebb38fd12b0d8a886ecb9b';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '113.34532,23.15624';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/23/2024-8-17 Nginx+lua+OpenResty高性能实践/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-23</span><a class="blog-slider__title" href="2025/02/23/2024-8-17 Nginx+lua+OpenResty高性能实践/" alt="">Nginx+lua+OpenResty高性能实践</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/02/23/2024-8-17 Nginx+lua+OpenResty高性能实践/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/09/01/2024-9-1 Docker基础/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-09-01</span><a class="blog-slider__title" href="2024/09/01/2024-9-1 Docker基础/" alt="">Docker</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/09/01/2024-9-1 Docker基础/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/29/2024-8-29 Solr/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-29</span><a class="blog-slider__title" href="2024/08/29/2024-8-29 Solr/" alt="">Solr</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/29/2024-8-29 Solr/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/24/2024-8-24 虚拟机VMware/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-24</span><a class="blog-slider__title" href="2024/08/24/2024-8-24 虚拟机VMware/" alt="">虚拟机</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/24/2024-8-24 虚拟机VMware/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/26/2024-11-26设计模式/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-26</span><a class="blog-slider__title" href="2024/11/26/2024-11-26设计模式/" alt="">设计模式</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/11/26/2024-11-26设计模式/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/11/26/2024-11-22 面试/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-11-26</span><a class="blog-slider__title" href="2024/11/26/2024-11-22 面试/" alt="">面试集合</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/11/26/2024-11-22 面试/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-14 JSP/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-14 JSP/" alt="">JSP</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/11/2025-3-14 JSP/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-21 SpringBoot+Vue开发流程/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-21 SpringBoot+Vue开发流程/" alt="">SpringBoot+Vue开发流程</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/11/2025-3-21 SpringBoot+Vue开发流程/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-12 常用注解/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-12 常用注解/" alt="">常用注解</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/11/2025-3-12 常用注解/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-14 Servlet入门/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/17.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-14 Servlet入门/" alt="">Servlet入门</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/11/2025-3-14 Servlet入门/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-14  Servlet进阶/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-14  Servlet进阶/" alt="">Servlet进阶</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/11/2025-3-14  Servlet进阶/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-11 Maven实战/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-11 Maven实战/" alt="">Maven</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/11/2025-3-11 Maven实战/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-7 Springboot/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-7 Springboot/" alt="">Springboot</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/07/2024-8-7 Springboot/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-7 踩坑记录/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/22.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-7 踩坑记录/" alt="">踩坑记录</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/07/2024-8-7 踩坑记录/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/23/2024-8-23 Nginx和lua和Openresty高性能实践/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/11.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-23</span><a class="blog-slider__title" href="2024/08/23/2024-8-23 Nginx和lua和Openresty高性能实践/" alt="">Nginx+lua+OpenResty高性能实践</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/23/2024-8-23 Nginx和lua和Openresty高性能实践/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/07/2024-8-9 固定思路详解/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/14.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-07</span><a class="blog-slider__title" href="2024/08/07/2024-8-9 固定思路详解/" alt="">固定思路详解</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/07/2024-8-9 固定思路详解/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/16/2024-8-16 前端速通/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/18.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-16</span><a class="blog-slider__title" href="2024/08/16/2024-8-16 前端速通/" alt="">前端速通</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/16/2024-8-16 前端速通/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/23/2024-8-23 redis/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/9.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-23</span><a class="blog-slider__title" href="2024/08/23/2024-8-23 redis/" alt="">redis</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/23/2024-8-23 redis/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/14/2024-8-14 RPC远程服务调用/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/15.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-14</span><a class="blog-slider__title" href="2024/08/14/2024-8-14 RPC远程服务调用/" alt="">RPC远程服务调用</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/14/2024-8-14 RPC远程服务调用/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/08/14/2024-8-14 Dubbo/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-08-14</span><a class="blog-slider__title" href="2024/08/14/2024-8-14 Dubbo/" alt="">Dubbo</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/08/14/2024-8-14 Dubbo/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/20/2024-7-20 Mybatis/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-20</span><a class="blog-slider__title" href="2024/07/20/2024-7-20 Mybatis/" alt="">Mybatis</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/07/20/2024-7-20 Mybatis/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/10/2025-3-9 队列和栈/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/5.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-10</span><a class="blog-slider__title" href="2025/03/10/2025-3-9 队列和栈/" alt="">队列和栈</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/10/2025-3-9 队列和栈/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/02/2025-3-2 链表/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20231208202901.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-02</span><a class="blog-slider__title" href="2025/03/02/2025-3-2 链表/" alt="">链表</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/02/2025-3-2 链表/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/11/2025-3-11 算法问题合集/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-11</span><a class="blog-slider__title" href="2025/03/11/2025-3-11 算法问题合集/" alt="">算法问题合集</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/11/2025-3-11 算法问题合集/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/03/02/2025-2-25 java8新特性/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-03-02</span><a class="blog-slider__title" href="2025/03/02/2025-2-25 java8新特性/" alt="">java8新特性</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/03/02/2025-2-25 java8新特性/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2025/02/23/2025-2-23 数组和字符串（算法）/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/23.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2025-02-23</span><a class="blog-slider__title" href="2025/02/23/2025-2-23 数组和字符串（算法）/" alt="">数组和字符串（算法）</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2025/02/23/2025-2-23 数组和字符串（算法）/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/07/13/2024-7-2 Vue/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/3.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-07-13</span><a class="blog-slider__title" href="2024/07/13/2024-7-2 Vue/" alt="">Vue</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/07/13/2024-7-2 Vue/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/15/2024-4-6 面试题刷题/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/12.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-15</span><a class="blog-slider__title" href="2024/04/15/2024-4-6 面试题刷题/" alt="">面试刷题</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/04/15/2024-4-6 面试题刷题/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/18/2024-4-20 操作系统/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/14.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-18</span><a class="blog-slider__title" href="2024/04/18/2024-4-20 操作系统/" alt="">操作系统</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/04/18/2024-4-20 操作系统/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/05/14/2024-4-29 计算机网络/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-05-14</span><a class="blog-slider__title" href="2024/05/14/2024-4-29 计算机网络/" alt="">计算机网络</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/05/14/2024-4-29 计算机网络/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/28/2024-4-28 go语言/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/20.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-28</span><a class="blog-slider__title" href="2024/04/28/2024-4-28 go语言/" alt="">Go语言</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/04/28/2024-4-28 go语言/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/15/2024-4-15 数据库/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/4.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-15</span><a class="blog-slider__title" href="2024/04/15/2024-4-15 数据库/" alt="">数据库</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/04/15/2024-4-15 数据库/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/08/15/2023-8-15 AI夏令营天气预报大赛/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/8.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-15</span><a class="blog-slider__title" href="2023/08/15/2023-8-15 AI夏令营天气预报大赛/" alt="">AI夏令营天气预报大赛</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2023/08/15/2023-8-15 AI夏令营天气预报大赛/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/07/06/2023-7-1Java小记/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-07-06</span><a class="blog-slider__title" href="2023/07/06/2023-7-1Java小记/" alt="">Java小记</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2023/07/06/2023-7-1Java小记/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2024/04/18/2024-4-18 JDBC/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-04-18</span><a class="blog-slider__title" href="2024/04/18/2024-4-18 JDBC/" alt="">JDBC</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2024/04/18/2024-4-18 JDBC/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/12/18/2023-12-18 前端小记/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/13.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-18</span><a class="blog-slider__title" href="2023/12/18/2023-12-18 前端小记/" alt="">前端小记</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2023/12/18/2023-12-18 前端小记/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/12/12/2023-12-11 建立博客保姆教程（1）/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-12-12</span><a class="blog-slider__title" href="2023/12/12/2023-12-11 建立博客保姆教程（1）/" alt="">建立博客</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2023/12/12/2023-12-11 建立博客保姆教程（1）/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/06/23/2023-6-24Git和Github使用教程/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20231208202901.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-23</span><a class="blog-slider__title" href="2023/06/23/2023-6-24Git和Github使用教程/" alt="">Git和Github使用教程</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2023/06/23/2023-6-24Git和Github使用教程/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/05/08/2023-5-8哈希表和有序表/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-05-08</span><a class="blog-slider__title" href="2023/05/08/2023-5-8哈希表和有序表/" alt="">哈希表和有序表</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2023/05/08/2023-5-8哈希表和有序表/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/11/27/2022-11-27 枚举类/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/6.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-27</span><a class="blog-slider__title" href="2022/11/27/2022-11-27 枚举类/" alt="">javase入门（枚举1）</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2022/11/27/2022-11-27 枚举类/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/08/15/2023-10-3背包问题/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://oyy0v0pic.oss-cn-guangzhou.aliyuncs.com/10.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-08-15</span><a class="blog-slider__title" href="2023/08/15/2023-10-3背包问题/" alt="">背包问题</a><div class="blog-slider__text">知识分享</div><a class="blog-slider__button" href="2023/08/15/2023-10-3背包问题/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/about/'|| '/about/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://github-api.oyy0v0.top//api?oyy0v0",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'oyy0v0')
    }
  </script><!-- hexo injector body_end end --></body></html>